(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var yp={exports:{}},$l={},gp={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=Symbol.for("react.element"),iw=Symbol.for("react.portal"),ow=Symbol.for("react.fragment"),lw=Symbol.for("react.strict_mode"),aw=Symbol.for("react.profiler"),uw=Symbol.for("react.provider"),cw=Symbol.for("react.context"),fw=Symbol.for("react.forward_ref"),dw=Symbol.for("react.suspense"),hw=Symbol.for("react.memo"),pw=Symbol.for("react.lazy"),pd=Symbol.iterator;function mw(e){return e===null||typeof e!="object"?null:(e=pd&&e[pd]||e["@@iterator"],typeof e=="function"?e:null)}var wp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vp=Object.assign,Sp={};function Vr(e,t,n){this.props=e,this.context=t,this.refs=Sp,this.updater=n||wp}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _p(){}_p.prototype=Vr.prototype;function Lc(e,t,n){this.props=e,this.context=t,this.refs=Sp,this.updater=n||wp}var Mc=Lc.prototype=new _p;Mc.constructor=Lc;vp(Mc,Vr.prototype);Mc.isPureReactComponent=!0;var md=Array.isArray,kp=Object.prototype.hasOwnProperty,Dc={current:null},Ep={key:!0,ref:!0,__self:!0,__source:!0};function bp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)kp.call(t,r)&&!Ep.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ii,type:e,key:i,ref:o,props:s,_owner:Dc.current}}function yw(e,t){return{$$typeof:ii,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ii}function gw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yd=/\/+/g;function wa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gw(""+e.key):t.toString(36)}function Hi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ii:case iw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+wa(o,0):r,md(s)?(n="",e!=null&&(n=e.replace(yd,"$&/")+"/"),Hi(s,t,n,"",function(u){return u})):s!=null&&(Bc(s)&&(s=yw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",md(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+wa(i,l);o+=Hi(i,t,n,a,s)}else if(a=mw(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+wa(i,l++),o+=Hi(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vi(e,t,n){if(e==null)return e;var r=[],s=0;return Hi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ww(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},Qi={transition:null},vw={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Qi,ReactCurrentOwner:Dc};function Cp(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:vi,forEach:function(e,t,n){vi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vi(e,function(){t++}),t},toArray:function(e){return vi(e,function(t){return t})||[]},only:function(e){if(!Bc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=Vr;M.Fragment=ow;M.Profiler=aw;M.PureComponent=Lc;M.StrictMode=lw;M.Suspense=dw;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vw;M.act=Cp;M.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Dc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)kp.call(t,a)&&!Ep.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ii,type:e.type,key:s,ref:i,props:r,_owner:o}};M.createContext=function(e){return e={$$typeof:cw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uw,_context:e},e.Consumer=e};M.createElement=bp;M.createFactory=function(e){var t=bp.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:fw,render:e}};M.isValidElement=Bc;M.lazy=function(e){return{$$typeof:pw,_payload:{_status:-1,_result:e},_init:ww}};M.memo=function(e,t){return{$$typeof:hw,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Qi.transition;Qi.transition={};try{e()}finally{Qi.transition=t}};M.unstable_act=Cp;M.useCallback=function(e,t){return Te.current.useCallback(e,t)};M.useContext=function(e){return Te.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};M.useEffect=function(e,t){return Te.current.useEffect(e,t)};M.useId=function(){return Te.current.useId()};M.useImperativeHandle=function(e,t,n){return Te.current.useImperativeHandle(e,t,n)};M.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return Te.current.useMemo(e,t)};M.useReducer=function(e,t,n){return Te.current.useReducer(e,t,n)};M.useRef=function(e){return Te.current.useRef(e)};M.useState=function(e){return Te.current.useState(e)};M.useSyncExternalStore=function(e,t,n){return Te.current.useSyncExternalStore(e,t,n)};M.useTransition=function(){return Te.current.useTransition()};M.version="18.3.1";gp.exports=M;var B=gp.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw=B,_w=Symbol.for("react.element"),kw=Symbol.for("react.fragment"),Ew=Object.prototype.hasOwnProperty,bw=Sw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cw={key:!0,ref:!0,__self:!0,__source:!0};function Ap(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ew.call(t,r)&&!Cw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:_w,type:e,key:i,ref:o,props:s,_owner:bw.current}}$l.Fragment=kw;$l.jsx=Ap;$l.jsxs=Ap;yp.exports=$l;var A=yp.exports,xp={exports:{}},Ye={},Pp={exports:{}},Np={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,$){var L=N.length;N.push($);e:for(;0<L;){var re=L-1>>>1,he=N[re];if(0<s(he,$))N[re]=$,N[L]=he,L=re;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var $=N[0],L=N.pop();if(L!==$){N[0]=L;e:for(var re=0,he=N.length,gi=he>>>1;re<gi;){var En=2*(re+1)-1,ga=N[En],bn=En+1,wi=N[bn];if(0>s(ga,L))bn<he&&0>s(wi,ga)?(N[re]=wi,N[bn]=L,re=bn):(N[re]=ga,N[En]=L,re=En);else if(bn<he&&0>s(wi,L))N[re]=wi,N[bn]=L,re=bn;else break e}}return $}function s(N,$){var L=N.sortIndex-$.sortIndex;return L!==0?L:N.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,c=null,d=3,p=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=N)r(u),$.sortIndex=$.expirationTime,t(a,$);else break;$=n(u)}}function S(N){if(y=!1,g(N),!v)if(n(a)!==null)v=!0,ma(k);else{var $=n(u);$!==null&&ya(S,$.startTime-N)}}function k(N,$){v=!1,y&&(y=!1,m(E),E=-1),p=!0;var L=d;try{for(g($),c=n(a);c!==null&&(!(c.expirationTime>$)||N&&!R());){var re=c.callback;if(typeof re=="function"){c.callback=null,d=c.priorityLevel;var he=re(c.expirationTime<=$);$=e.unstable_now(),typeof he=="function"?c.callback=he:c===n(a)&&r(a),g($)}else r(a);c=n(a)}if(c!==null)var gi=!0;else{var En=n(u);En!==null&&ya(S,En.startTime-$),gi=!1}return gi}finally{c=null,d=L,p=!1}}var _=!1,b=null,E=-1,I=5,x=-1;function R(){return!(e.unstable_now()-x<I)}function F(){if(b!==null){var N=e.unstable_now();x=N;var $=!0;try{$=b(!0,N)}finally{$?et():(_=!1,b=null)}}else _=!1}var et;if(typeof f=="function")et=function(){f(F)};else if(typeof MessageChannel<"u"){var mi=new MessageChannel,yi=mi.port2;mi.port1.onmessage=F,et=function(){yi.postMessage(null)}}else et=function(){w(F,0)};function ma(N){b=N,_||(_=!0,et())}function ya(N,$){E=w(function(){N(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,ma(k))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var L=d;d=$;try{return N()}finally{d=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,$){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=d;d=N;try{return $()}finally{d=L}},e.unstable_scheduleCallback=function(N,$,L){var re=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?re+L:re):L=re,N){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=L+he,N={id:h++,callback:$,priorityLevel:N,startTime:L,expirationTime:he,sortIndex:-1},L>re?(N.sortIndex=L,t(u,N),n(a)===null&&N===n(u)&&(y?(m(E),E=-1):y=!0,ya(S,L-re))):(N.sortIndex=he,t(a,N),v||p||(v=!0,ma(k))),N},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(N){var $=d;return function(){var L=d;d=$;try{return N.apply(this,arguments)}finally{d=L}}}})(Np);Pp.exports=Np;var Aw=Pp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw=B,Xe=Aw;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ip=new Set,Ds={};function qn(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(Ds[e]=t,e=0;e<t.length;e++)Ip.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=Object.prototype.hasOwnProperty,Pw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gd={},wd={};function Nw(e){return pu.call(wd,e)?!0:pu.call(gd,e)?!1:Pw.test(e)?wd[e]=!0:(gd[e]=!0,!1)}function Iw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ow(e,t,n,r){if(t===null||typeof t>"u"||Iw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var jc=/[\-:]([a-z])/g;function Fc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jc,Fc);Se[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jc,Fc);Se[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jc,Fc);Se[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uc(e,t,n,r){var s=Se.hasOwnProperty(t)?Se[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ow(t,n,s,r)&&(n=null),r||s===null?Nw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jt=xw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Si=Symbol.for("react.element"),sr=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),zc=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),Op=Symbol.for("react.provider"),Rp=Symbol.for("react.context"),Kc=Symbol.for("react.forward_ref"),yu=Symbol.for("react.suspense"),gu=Symbol.for("react.suspense_list"),Wc=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),Tp=Symbol.for("react.offscreen"),vd=Symbol.iterator;function es(e){return e===null||typeof e!="object"?null:(e=vd&&e[vd]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,va;function us(e){if(va===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);va=t&&t[1]||""}return`
`+va+e}var Sa=!1;function _a(e,t){if(!e||Sa)return"";Sa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Sa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?us(e):""}function Rw(e){switch(e.tag){case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return e=_a(e.type,!1),e;case 11:return e=_a(e.type.render,!1),e;case 1:return e=_a(e.type,!0),e;default:return""}}function wu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ir:return"Fragment";case sr:return"Portal";case mu:return"Profiler";case zc:return"StrictMode";case yu:return"Suspense";case gu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rp:return(e.displayName||"Context")+".Consumer";case Op:return(e._context.displayName||"Context")+".Provider";case Kc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wc:return t=e.displayName||null,t!==null?t:wu(e.type)||"Memo";case Gt:t=e._payload,e=e._init;try{return wu(e(t))}catch{}}return null}function Tw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wu(t);case 8:return t===zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $p(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $w(e){var t=$p(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _i(e){e._valueTracker||(e._valueTracker=$w(e))}function Lp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$p(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vu(e,t){var n=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mp(e,t){t=t.checked,t!=null&&Uc(e,"checked",t,!1)}function Su(e,t){Mp(e,t);var n=mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_u(e,t.type,n):t.hasOwnProperty("defaultValue")&&_u(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _d(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _u(e,t,n){(t!=="number"||yo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cs=Array.isArray;function _r(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ku(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(cs(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function Dp(e,t){var n=mn(t.value),r=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ed(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ki,jp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ki=ki||document.createElement("div"),ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lw=["Webkit","ms","Moz","O"];Object.keys(Es).forEach(function(e){Lw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Es[t]=Es[e]})});function Fp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Es.hasOwnProperty(e)&&Es[e]?(""+t).trim():t+"px"}function Up(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Fp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Mw=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bu(e,t){if(t){if(Mw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Cu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function Vc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xu=null,kr=null,Er=null;function bd(e){if(e=ai(e)){if(typeof xu!="function")throw Error(C(280));var t=e.stateNode;t&&(t=jl(t),xu(e.stateNode,e.type,t))}}function zp(e){kr?Er?Er.push(e):Er=[e]:kr=e}function Kp(){if(kr){var e=kr,t=Er;if(Er=kr=null,bd(e),t)for(e=0;e<t.length;e++)bd(t[e])}}function Wp(e,t){return e(t)}function Vp(){}var ka=!1;function qp(e,t,n){if(ka)return e(t,n);ka=!0;try{return Wp(e,t,n)}finally{ka=!1,(kr!==null||Er!==null)&&(Vp(),Kp())}}function js(e,t){var n=e.stateNode;if(n===null)return null;var r=jl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Pu=!1;if(Wt)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{Pu=!1}function Dw(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var bs=!1,go=null,wo=!1,Nu=null,Bw={onError:function(e){bs=!0,go=e}};function jw(e,t,n,r,s,i,o,l,a){bs=!1,go=null,Dw.apply(Bw,arguments)}function Fw(e,t,n,r,s,i,o,l,a){if(jw.apply(this,arguments),bs){if(bs){var u=go;bs=!1,go=null}else throw Error(C(198));wo||(wo=!0,Nu=u)}}function Hn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cd(e){if(Hn(e)!==e)throw Error(C(188))}function Uw(e){var t=e.alternate;if(!t){if(t=Hn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Cd(s),e;if(i===r)return Cd(s),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Qp(e){return e=Uw(e),e!==null?Jp(e):null}function Jp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jp(e);if(t!==null)return t;e=e.sibling}return null}var Xp=Xe.unstable_scheduleCallback,Ad=Xe.unstable_cancelCallback,zw=Xe.unstable_shouldYield,Kw=Xe.unstable_requestPaint,se=Xe.unstable_now,Ww=Xe.unstable_getCurrentPriorityLevel,qc=Xe.unstable_ImmediatePriority,Yp=Xe.unstable_UserBlockingPriority,vo=Xe.unstable_NormalPriority,Vw=Xe.unstable_LowPriority,Gp=Xe.unstable_IdlePriority,Ll=null,Ot=null;function qw(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ll,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Jw,Hw=Math.log,Qw=Math.LN2;function Jw(e){return e>>>=0,e===0?32:31-(Hw(e)/Qw|0)|0}var Ei=64,bi=4194304;function fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function So(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=fs(l):(i&=o,i!==0&&(r=fs(i)))}else o=n&~s,o!==0?r=fs(o):i!==0&&(r=fs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),s=1<<n,r|=e[n],t&=~s;return r}function Xw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Xw(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Iu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zp(){var e=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),e}function Ea(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function Gw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Hc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var U=0;function em(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tm,Qc,nm,rm,sm,Ou=!1,Ci=[],sn=null,on=null,ln=null,Fs=new Map,Us=new Map,en=[],Zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(t.pointerId)}}function ns(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ai(t),t!==null&&Qc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function e1(e,t,n,r,s){switch(t){case"focusin":return sn=ns(sn,e,t,n,r,s),!0;case"dragenter":return on=ns(on,e,t,n,r,s),!0;case"mouseover":return ln=ns(ln,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fs.set(i,ns(Fs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Us.set(i,ns(Us.get(i)||null,e,t,n,r,s)),!0}return!1}function im(e){var t=Nn(e.target);if(t!==null){var n=Hn(t);if(n!==null){if(t=n.tag,t===13){if(t=Hp(n),t!==null){e.blockedOn=t,sm(e.priority,function(){nm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ji(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ru(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Au=r,n.target.dispatchEvent(r),Au=null}else return t=ai(n),t!==null&&Qc(t),e.blockedOn=n,!1;t.shift()}return!0}function Pd(e,t,n){Ji(e)&&n.delete(t)}function t1(){Ou=!1,sn!==null&&Ji(sn)&&(sn=null),on!==null&&Ji(on)&&(on=null),ln!==null&&Ji(ln)&&(ln=null),Fs.forEach(Pd),Us.forEach(Pd)}function rs(e,t){e.blockedOn===t&&(e.blockedOn=null,Ou||(Ou=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,t1)))}function zs(e){function t(s){return rs(s,e)}if(0<Ci.length){rs(Ci[0],e);for(var n=1;n<Ci.length;n++){var r=Ci[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sn!==null&&rs(sn,e),on!==null&&rs(on,e),ln!==null&&rs(ln,e),Fs.forEach(t),Us.forEach(t),n=0;n<en.length;n++)r=en[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)im(n),n.blockedOn===null&&en.shift()}var br=Jt.ReactCurrentBatchConfig,_o=!0;function n1(e,t,n,r){var s=U,i=br.transition;br.transition=null;try{U=1,Jc(e,t,n,r)}finally{U=s,br.transition=i}}function r1(e,t,n,r){var s=U,i=br.transition;br.transition=null;try{U=4,Jc(e,t,n,r)}finally{U=s,br.transition=i}}function Jc(e,t,n,r){if(_o){var s=Ru(e,t,n,r);if(s===null)Ta(e,t,r,ko,n),xd(e,r);else if(e1(s,e,t,n,r))r.stopPropagation();else if(xd(e,r),t&4&&-1<Zw.indexOf(e)){for(;s!==null;){var i=ai(s);if(i!==null&&tm(i),i=Ru(e,t,n,r),i===null&&Ta(e,t,r,ko,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ta(e,t,r,null,n)}}var ko=null;function Ru(e,t,n,r){if(ko=null,e=Vc(r),e=Nn(e),e!==null)if(t=Hn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ko=e,null}function om(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ww()){case qc:return 1;case Yp:return 4;case vo:case Vw:return 16;case Gp:return 536870912;default:return 16}default:return 16}}var nn=null,Xc=null,Xi=null;function lm(){if(Xi)return Xi;var e,t=Xc,n=t.length,r,s="value"in nn?nn.value:nn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Xi=s.slice(e,1<r?1-r:void 0)}function Yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Nd(){return!1}function Ge(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ai:Nd,this.isPropagationStopped=Nd,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yc=Ge(qr),li=te({},qr,{view:0,detail:0}),s1=Ge(li),ba,Ca,ss,Ml=te({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(ba=e.screenX-ss.screenX,Ca=e.screenY-ss.screenY):Ca=ba=0,ss=e),ba)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),Id=Ge(Ml),i1=te({},Ml,{dataTransfer:0}),o1=Ge(i1),l1=te({},li,{relatedTarget:0}),Aa=Ge(l1),a1=te({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),u1=Ge(a1),c1=te({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f1=Ge(c1),d1=te({},qr,{data:0}),Od=Ge(d1),h1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=m1[e])?!!t[e]:!1}function Gc(){return y1}var g1=te({},li,{key:function(e){if(e.key){var t=h1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(e){return e.type==="keypress"?Yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w1=Ge(g1),v1=te({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=Ge(v1),S1=te({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),_1=Ge(S1),k1=te({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),E1=Ge(k1),b1=te({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C1=Ge(b1),A1=[9,13,27,32],Zc=Wt&&"CompositionEvent"in window,Cs=null;Wt&&"documentMode"in document&&(Cs=document.documentMode);var x1=Wt&&"TextEvent"in window&&!Cs,am=Wt&&(!Zc||Cs&&8<Cs&&11>=Cs),Td=" ",$d=!1;function um(e,t){switch(e){case"keyup":return A1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function P1(e,t){switch(e){case"compositionend":return cm(t);case"keypress":return t.which!==32?null:($d=!0,Td);case"textInput":return e=t.data,e===Td&&$d?null:e;default:return null}}function N1(e,t){if(or)return e==="compositionend"||!Zc&&um(e,t)?(e=lm(),Xi=Xc=nn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return am&&t.locale!=="ko"?null:t.data;default:return null}}var I1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!I1[e.type]:t==="textarea"}function fm(e,t,n,r){zp(r),t=Eo(t,"onChange"),0<t.length&&(n=new Yc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var As=null,Ks=null;function O1(e){km(e,0)}function Dl(e){var t=ur(e);if(Lp(t))return e}function R1(e,t){if(e==="change")return t}var dm=!1;if(Wt){var xa;if(Wt){var Pa="oninput"in document;if(!Pa){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),Pa=typeof Md.oninput=="function"}xa=Pa}else xa=!1;dm=xa&&(!document.documentMode||9<document.documentMode)}function Dd(){As&&(As.detachEvent("onpropertychange",hm),Ks=As=null)}function hm(e){if(e.propertyName==="value"&&Dl(Ks)){var t=[];fm(t,Ks,e,Vc(e)),qp(O1,t)}}function T1(e,t,n){e==="focusin"?(Dd(),As=t,Ks=n,As.attachEvent("onpropertychange",hm)):e==="focusout"&&Dd()}function $1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(Ks)}function L1(e,t){if(e==="click")return Dl(t)}function M1(e,t){if(e==="input"||e==="change")return Dl(t)}function D1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:D1;function Ws(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pu.call(t,s)||!_t(e[s],t[s]))return!1}return!0}function Bd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var n=Bd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bd(n)}}function pm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mm(){for(var e=window,t=yo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yo(e.document)}return t}function ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function B1(e){var t=mm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pm(n.ownerDocument.documentElement,n)){if(r!==null&&ef(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=jd(n,i);var o=jd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var j1=Wt&&"documentMode"in document&&11>=document.documentMode,lr=null,Tu=null,xs=null,$u=!1;function Fd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$u||lr==null||lr!==yo(r)||(r=lr,"selectionStart"in r&&ef(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xs&&Ws(xs,r)||(xs=r,r=Eo(Tu,"onSelect"),0<r.length&&(t=new Yc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ar={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},Na={},ym={};Wt&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function Bl(e){if(Na[e])return Na[e];if(!ar[e])return e;var t=ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ym)return Na[e]=t[n];return e}var gm=Bl("animationend"),wm=Bl("animationiteration"),vm=Bl("animationstart"),Sm=Bl("transitionend"),_m=new Map,Ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){_m.set(e,t),qn(t,[e])}for(var Ia=0;Ia<Ud.length;Ia++){var Oa=Ud[Ia],F1=Oa.toLowerCase(),U1=Oa[0].toUpperCase()+Oa.slice(1);vn(F1,"on"+U1)}vn(gm,"onAnimationEnd");vn(wm,"onAnimationIteration");vn(vm,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(Sm,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function zd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Fw(r,t,void 0,e),e.currentTarget=null}function km(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;zd(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;zd(s,l,u),i=a}}}if(wo)throw e=Nu,wo=!1,Nu=null,e}function q(e,t){var n=t[ju];n===void 0&&(n=t[ju]=new Set);var r=e+"__bubble";n.has(r)||(Em(t,e,2,!1),n.add(r))}function Ra(e,t,n){var r=0;t&&(r|=4),Em(n,e,r,t)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[Pi]){e[Pi]=!0,Ip.forEach(function(n){n!=="selectionchange"&&(z1.has(n)||Ra(n,!1,e),Ra(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pi]||(t[Pi]=!0,Ra("selectionchange",!1,t))}}function Em(e,t,n,r){switch(om(t)){case 1:var s=n1;break;case 4:s=r1;break;default:s=Jc}n=s.bind(null,t,n,e),s=void 0,!Pu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ta(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Nn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}qp(function(){var u=i,h=Vc(n),c=[];e:{var d=_m.get(e);if(d!==void 0){var p=Yc,v=e;switch(e){case"keypress":if(Yi(n)===0)break e;case"keydown":case"keyup":p=w1;break;case"focusin":v="focus",p=Aa;break;case"focusout":v="blur",p=Aa;break;case"beforeblur":case"afterblur":p=Aa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_1;break;case gm:case wm:case vm:p=u1;break;case Sm:p=E1;break;case"scroll":p=s1;break;case"wheel":p=C1;break;case"copy":case"cut":case"paste":p=f1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Rd}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var f=u,g;f!==null;){g=f;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,m!==null&&(S=js(f,m),S!=null&&y.push(qs(f,S,g)))),w)break;f=f.return}0<y.length&&(d=new p(d,v,null,n,h),c.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==Au&&(v=n.relatedTarget||n.fromElement)&&(Nn(v)||v[Vt]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Nn(v):null,v!==null&&(w=Hn(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=Id,S="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=Rd,S="onPointerLeave",m="onPointerEnter",f="pointer"),w=p==null?d:ur(p),g=v==null?d:ur(v),d=new y(S,f+"leave",p,n,h),d.target=w,d.relatedTarget=g,S=null,Nn(h)===u&&(y=new y(m,f+"enter",v,n,h),y.target=g,y.relatedTarget=w,S=y),w=S,p&&v)t:{for(y=p,m=v,f=0,g=y;g;g=Xn(g))f++;for(g=0,S=m;S;S=Xn(S))g++;for(;0<f-g;)y=Xn(y),f--;for(;0<g-f;)m=Xn(m),g--;for(;f--;){if(y===m||m!==null&&y===m.alternate)break t;y=Xn(y),m=Xn(m)}y=null}else y=null;p!==null&&Kd(c,d,p,y,!1),v!==null&&w!==null&&Kd(c,w,v,y,!0)}}e:{if(d=u?ur(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var k=R1;else if(Ld(d))if(dm)k=M1;else{k=$1;var _=T1}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=L1);if(k&&(k=k(e,u))){fm(c,k,n,h);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&_u(d,"number",d.value)}switch(_=u?ur(u):window,e){case"focusin":(Ld(_)||_.contentEditable==="true")&&(lr=_,Tu=u,xs=null);break;case"focusout":xs=Tu=lr=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,Fd(c,n,h);break;case"selectionchange":if(j1)break;case"keydown":case"keyup":Fd(c,n,h)}var b;if(Zc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else or?um(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(am&&n.locale!=="ko"&&(or||E!=="onCompositionStart"?E==="onCompositionEnd"&&or&&(b=lm()):(nn=h,Xc="value"in nn?nn.value:nn.textContent,or=!0)),_=Eo(u,E),0<_.length&&(E=new Od(E,e,null,n,h),c.push({event:E,listeners:_}),b?E.data=b:(b=cm(n),b!==null&&(E.data=b)))),(b=x1?P1(e,n):N1(e,n))&&(u=Eo(u,"onBeforeInput"),0<u.length&&(h=new Od("onBeforeInput","beforeinput",null,n,h),c.push({event:h,listeners:u}),h.data=b))}km(c,t)})}function qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=js(e,n),i!=null&&r.unshift(qs(e,i,s)),i=js(e,t),i!=null&&r.push(qs(e,i,s))),e=e.return}return r}function Xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=js(n,i),a!=null&&o.unshift(qs(n,a,l))):s||(a=js(n,i),a!=null&&o.push(qs(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var K1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function Wd(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace(W1,"")}function Ni(e,t,n){if(t=Wd(t),Wd(e)!==t&&n)throw Error(C(425))}function bo(){}var Lu=null,Mu=null;function Du(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,V1=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(e){return Vd.resolve(null).then(e).catch(H1)}:Bu;function H1(e){setTimeout(function(){throw e})}function $a(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zs(t)}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Hr,Hs="__reactProps$"+Hr,Vt="__reactContainer$"+Hr,ju="__reactEvents$"+Hr,Q1="__reactListeners$"+Hr,J1="__reactHandles$"+Hr;function Nn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qd(e);e!==null;){if(n=e[Nt])return n;e=qd(e)}return t}e=n,n=e.parentNode}return null}function ai(e){return e=e[Nt]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function jl(e){return e[Hs]||null}var Fu=[],cr=-1;function Sn(e){return{current:e}}function H(e){0>cr||(e.current=Fu[cr],Fu[cr]=null,cr--)}function V(e,t){cr++,Fu[cr]=e.current,e.current=t}var yn={},Ne=Sn(yn),je=Sn(!1),Bn=yn;function Mr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(e){return e=e.childContextTypes,e!=null}function Co(){H(je),H(Ne)}function Hd(e,t,n){if(Ne.current!==yn)throw Error(C(168));V(Ne,t),V(je,n)}function bm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,Tw(e)||"Unknown",s));return te({},n,r)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Bn=Ne.current,V(Ne,e),V(je,je.current),!0}function Qd(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=bm(e,t,Bn),r.__reactInternalMemoizedMergedChildContext=e,H(je),H(Ne),V(Ne,e)):H(je),V(je,n)}var Bt=null,Fl=!1,La=!1;function Cm(e){Bt===null?Bt=[e]:Bt.push(e)}function X1(e){Fl=!0,Cm(e)}function _n(){if(!La&&Bt!==null){La=!0;var e=0,t=U;try{var n=Bt;for(U=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bt=null,Fl=!1}catch(s){throw Bt!==null&&(Bt=Bt.slice(e+1)),Xp(qc,_n),s}finally{U=t,La=!1}}return null}var fr=[],dr=0,xo=null,Po=0,tt=[],nt=0,jn=null,jt=1,Ft="";function Cn(e,t){fr[dr++]=Po,fr[dr++]=xo,xo=e,Po=t}function Am(e,t,n){tt[nt++]=jt,tt[nt++]=Ft,tt[nt++]=jn,jn=e;var r=jt;e=Ft;var s=32-wt(r)-1;r&=~(1<<s),n+=1;var i=32-wt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,jt=1<<32-wt(t)+s|n<<s|r,Ft=i+e}else jt=1<<i|n<<s|r,Ft=e}function tf(e){e.return!==null&&(Cn(e,1),Am(e,1,0))}function nf(e){for(;e===xo;)xo=fr[--dr],fr[dr]=null,Po=fr[--dr],fr[dr]=null;for(;e===jn;)jn=tt[--nt],tt[nt]=null,Ft=tt[--nt],tt[nt]=null,jt=tt[--nt],tt[nt]=null}var Je=null,Qe=null,Q=!1,mt=null;function xm(e,t){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Qe=an(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jn!==null?{id:jt,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Qe=null,!0):!1;default:return!1}}function Uu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zu(e){if(Q){var t=Qe;if(t){var n=t;if(!Jd(e,t)){if(Uu(e))throw Error(C(418));t=an(n.nextSibling);var r=Je;t&&Jd(e,t)?xm(r,n):(e.flags=e.flags&-4097|2,Q=!1,Je=e)}}else{if(Uu(e))throw Error(C(418));e.flags=e.flags&-4097|2,Q=!1,Je=e}}}function Xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ii(e){if(e!==Je)return!1;if(!Q)return Xd(e),Q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Du(e.type,e.memoizedProps)),t&&(t=Qe)){if(Uu(e))throw Pm(),Error(C(418));for(;t;)xm(e,t),t=an(t.nextSibling)}if(Xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=an(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Je?an(e.stateNode.nextSibling):null;return!0}function Pm(){for(var e=Qe;e;)e=an(e.nextSibling)}function Dr(){Qe=Je=null,Q=!1}function rf(e){mt===null?mt=[e]:mt.push(e)}var Y1=Jt.ReactCurrentBatchConfig;function is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Oi(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yd(e){var t=e._init;return t(e._payload)}function Nm(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=dn(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,g,S){return f===null||f.tag!==6?(f=za(g,m.mode,S),f.return=m,f):(f=s(f,g),f.return=m,f)}function a(m,f,g,S){var k=g.type;return k===ir?h(m,f,g.props.children,S,g.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Gt&&Yd(k)===f.type)?(S=s(f,g.props),S.ref=is(m,f,g),S.return=m,S):(S=so(g.type,g.key,g.props,null,m.mode,S),S.ref=is(m,f,g),S.return=m,S)}function u(m,f,g,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Ka(g,m.mode,S),f.return=m,f):(f=s(f,g.children||[]),f.return=m,f)}function h(m,f,g,S,k){return f===null||f.tag!==7?(f=Dn(g,m.mode,S,k),f.return=m,f):(f=s(f,g),f.return=m,f)}function c(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=za(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Si:return g=so(f.type,f.key,f.props,null,m.mode,g),g.ref=is(m,null,f),g.return=m,g;case sr:return f=Ka(f,m.mode,g),f.return=m,f;case Gt:var S=f._init;return c(m,S(f._payload),g)}if(cs(f)||es(f))return f=Dn(f,m.mode,g,null),f.return=m,f;Oi(m,f)}return null}function d(m,f,g,S){var k=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(m,f,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Si:return g.key===k?a(m,f,g,S):null;case sr:return g.key===k?u(m,f,g,S):null;case Gt:return k=g._init,d(m,f,k(g._payload),S)}if(cs(g)||es(g))return k!==null?null:h(m,f,g,S,null);Oi(m,g)}return null}function p(m,f,g,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(g)||null,l(f,m,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Si:return m=m.get(S.key===null?g:S.key)||null,a(f,m,S,k);case sr:return m=m.get(S.key===null?g:S.key)||null,u(f,m,S,k);case Gt:var _=S._init;return p(m,f,g,_(S._payload),k)}if(cs(S)||es(S))return m=m.get(g)||null,h(f,m,S,k,null);Oi(f,S)}return null}function v(m,f,g,S){for(var k=null,_=null,b=f,E=f=0,I=null;b!==null&&E<g.length;E++){b.index>E?(I=b,b=null):I=b.sibling;var x=d(m,b,g[E],S);if(x===null){b===null&&(b=I);break}e&&b&&x.alternate===null&&t(m,b),f=i(x,f,E),_===null?k=x:_.sibling=x,_=x,b=I}if(E===g.length)return n(m,b),Q&&Cn(m,E),k;if(b===null){for(;E<g.length;E++)b=c(m,g[E],S),b!==null&&(f=i(b,f,E),_===null?k=b:_.sibling=b,_=b);return Q&&Cn(m,E),k}for(b=r(m,b);E<g.length;E++)I=p(b,m,E,g[E],S),I!==null&&(e&&I.alternate!==null&&b.delete(I.key===null?E:I.key),f=i(I,f,E),_===null?k=I:_.sibling=I,_=I);return e&&b.forEach(function(R){return t(m,R)}),Q&&Cn(m,E),k}function y(m,f,g,S){var k=es(g);if(typeof k!="function")throw Error(C(150));if(g=k.call(g),g==null)throw Error(C(151));for(var _=k=null,b=f,E=f=0,I=null,x=g.next();b!==null&&!x.done;E++,x=g.next()){b.index>E?(I=b,b=null):I=b.sibling;var R=d(m,b,x.value,S);if(R===null){b===null&&(b=I);break}e&&b&&R.alternate===null&&t(m,b),f=i(R,f,E),_===null?k=R:_.sibling=R,_=R,b=I}if(x.done)return n(m,b),Q&&Cn(m,E),k;if(b===null){for(;!x.done;E++,x=g.next())x=c(m,x.value,S),x!==null&&(f=i(x,f,E),_===null?k=x:_.sibling=x,_=x);return Q&&Cn(m,E),k}for(b=r(m,b);!x.done;E++,x=g.next())x=p(b,m,E,x.value,S),x!==null&&(e&&x.alternate!==null&&b.delete(x.key===null?E:x.key),f=i(x,f,E),_===null?k=x:_.sibling=x,_=x);return e&&b.forEach(function(F){return t(m,F)}),Q&&Cn(m,E),k}function w(m,f,g,S){if(typeof g=="object"&&g!==null&&g.type===ir&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Si:e:{for(var k=g.key,_=f;_!==null;){if(_.key===k){if(k=g.type,k===ir){if(_.tag===7){n(m,_.sibling),f=s(_,g.props.children),f.return=m,m=f;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Gt&&Yd(k)===_.type){n(m,_.sibling),f=s(_,g.props),f.ref=is(m,_,g),f.return=m,m=f;break e}n(m,_);break}else t(m,_);_=_.sibling}g.type===ir?(f=Dn(g.props.children,m.mode,S,g.key),f.return=m,m=f):(S=so(g.type,g.key,g.props,null,m.mode,S),S.ref=is(m,f,g),S.return=m,m=S)}return o(m);case sr:e:{for(_=g.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=s(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Ka(g,m.mode,S),f.return=m,m=f}return o(m);case Gt:return _=g._init,w(m,f,_(g._payload),S)}if(cs(g))return v(m,f,g,S);if(es(g))return y(m,f,g,S);Oi(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,g),f.return=m,m=f):(n(m,f),f=za(g,m.mode,S),f.return=m,m=f),o(m)):n(m,f)}return w}var Br=Nm(!0),Im=Nm(!1),No=Sn(null),Io=null,hr=null,sf=null;function of(){sf=hr=Io=null}function lf(e){var t=No.current;H(No),e._currentValue=t}function Ku(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t){Io=e,sf=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(sf!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(Io===null)throw Error(C(308));hr=e,Io.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var In=null;function af(e){In===null?In=[e]:In.push(e)}function Om(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,af(t)):(n.next=s.next,s.next=n),t.interleaved=n,qt(e,r)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zt=!1;function uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,j&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,qt(e,n)}return s=r.interleaved,s===null?(t.next=t,af(r)):(t.next=s.next,s.next=t),r.interleaved=t,qt(e,n)}function Gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hc(e,n)}}function Gd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oo(e,t,n,r){var s=e.updateQueue;Zt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(i!==null){var c=s.baseState;o=0,h=u=a=null,l=i;do{var d=l.lane,p=l.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(d=t,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){c=v.call(p,c,d);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,d=typeof v=="function"?v.call(p,c,d):v,d==null)break e;c=te({},c,d);break e;case 2:Zt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,a=c):h=h.next=p,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Un|=o,e.lanes=o,e.memoizedState=c}}function Zd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var ui={},Rt=Sn(ui),Qs=Sn(ui),Js=Sn(ui);function On(e){if(e===ui)throw Error(C(174));return e}function cf(e,t){switch(V(Js,t),V(Qs,e),V(Rt,ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Eu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Eu(t,e)}H(Rt),V(Rt,t)}function jr(){H(Rt),H(Qs),H(Js)}function Tm(e){On(Js.current);var t=On(Rt.current),n=Eu(t,e.type);t!==n&&(V(Qs,e),V(Rt,n))}function ff(e){Qs.current===e&&(H(Rt),H(Qs))}var Y=Sn(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ma=[];function df(){for(var e=0;e<Ma.length;e++)Ma[e]._workInProgressVersionPrimary=null;Ma.length=0}var Zi=Jt.ReactCurrentDispatcher,Da=Jt.ReactCurrentBatchConfig,Fn=0,Z=null,fe=null,me=null,To=!1,Ps=!1,Xs=0,G1=0;function ke(){throw Error(C(321))}function hf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function pf(e,t,n,r,s,i){if(Fn=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zi.current=e===null||e.memoizedState===null?nv:rv,e=n(r,s),Ps){i=0;do{if(Ps=!1,Xs=0,25<=i)throw Error(C(301));i+=1,me=fe=null,t.updateQueue=null,Zi.current=sv,e=n(r,s)}while(Ps)}if(Zi.current=$o,t=fe!==null&&fe.next!==null,Fn=0,me=fe=Z=null,To=!1,t)throw Error(C(300));return e}function mf(){var e=Xs!==0;return Xs=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Z.memoizedState=me=e:me=me.next=e,me}function lt(){if(fe===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=me===null?Z.memoizedState:me.next;if(t!==null)me=t,fe=e;else{if(e===null)throw Error(C(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?Z.memoizedState=me=e:me=me.next=e}return me}function Ys(e,t){return typeof t=="function"?t(e):t}function Ba(e){var t=lt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var h=u.lane;if((Fn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,Z.lanes|=h,Un|=h}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,_t(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Z.lanes|=i,Un|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ja(e){var t=lt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);_t(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function $m(){}function Lm(e,t){var n=Z,r=lt(),s=t(),i=!_t(r.memoizedState,s);if(i&&(r.memoizedState=s,Be=!0),r=r.queue,yf(Bm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Gs(9,Dm.bind(null,n,r,s,t),void 0,null),ye===null)throw Error(C(349));Fn&30||Mm(n,t,s)}return s}function Mm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dm(e,t,n,r){t.value=n,t.getSnapshot=r,jm(t)&&Fm(e)}function Bm(e,t,n){return n(function(){jm(t)&&Fm(e)})}function jm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function Fm(e){var t=qt(e,1);t!==null&&vt(t,e,1,-1)}function eh(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:e},t.queue=e,e=e.dispatch=tv.bind(null,Z,e),[t.memoizedState,e]}function Gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Um(){return lt().memoizedState}function eo(e,t,n,r){var s=At();Z.flags|=e,s.memoizedState=Gs(1|t,n,void 0,r===void 0?null:r)}function Ul(e,t,n,r){var s=lt();r=r===void 0?null:r;var i=void 0;if(fe!==null){var o=fe.memoizedState;if(i=o.destroy,r!==null&&hf(r,o.deps)){s.memoizedState=Gs(t,n,i,r);return}}Z.flags|=e,s.memoizedState=Gs(1|t,n,i,r)}function th(e,t){return eo(8390656,8,e,t)}function yf(e,t){return Ul(2048,8,e,t)}function zm(e,t){return Ul(4,2,e,t)}function Km(e,t){return Ul(4,4,e,t)}function Wm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vm(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,Wm.bind(null,t,e),n)}function gf(){}function qm(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hm(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qm(e,t,n){return Fn&21?(_t(n,t)||(n=Zp(),Z.lanes|=n,Un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function Z1(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var r=Da.transition;Da.transition={};try{e(!1),t()}finally{U=n,Da.transition=r}}function Jm(){return lt().memoizedState}function ev(e,t,n){var r=fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xm(e))Ym(t,n);else if(n=Om(e,t,n,r),n!==null){var s=Re();vt(n,e,r,s),Gm(n,t,r)}}function tv(e,t,n){var r=fn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xm(e))Ym(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,_t(l,o)){var a=t.interleaved;a===null?(s.next=s,af(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Om(e,t,s,r),n!==null&&(s=Re(),vt(n,e,r,s),Gm(n,t,r))}}function Xm(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function Ym(e,t){Ps=To=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hc(e,n)}}var $o={readContext:ot,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},nv={readContext:ot,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:th,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,eo(4194308,4,Wm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eo(4194308,4,e,t)},useInsertionEffect:function(e,t){return eo(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ev.bind(null,Z,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:eh,useDebugValue:gf,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=eh(!1),t=e[0];return e=Z1.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Z,s=At();if(Q){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),ye===null)throw Error(C(349));Fn&30||Mm(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,th(Bm.bind(null,r,i,e),[e]),r.flags|=2048,Gs(9,Dm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=At(),t=ye.identifierPrefix;if(Q){var n=Ft,r=jt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=G1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rv={readContext:ot,useCallback:qm,useContext:ot,useEffect:yf,useImperativeHandle:Vm,useInsertionEffect:zm,useLayoutEffect:Km,useMemo:Hm,useReducer:Ba,useRef:Um,useState:function(){return Ba(Ys)},useDebugValue:gf,useDeferredValue:function(e){var t=lt();return Qm(t,fe.memoizedState,e)},useTransition:function(){var e=Ba(Ys)[0],t=lt().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Lm,useId:Jm,unstable_isNewReconciler:!1},sv={readContext:ot,useCallback:qm,useContext:ot,useEffect:yf,useImperativeHandle:Vm,useInsertionEffect:zm,useLayoutEffect:Km,useMemo:Hm,useReducer:ja,useRef:Um,useState:function(){return ja(Ys)},useDebugValue:gf,useDeferredValue:function(e){var t=lt();return fe===null?t.memoizedState=e:Qm(t,fe.memoizedState,e)},useTransition:function(){var e=ja(Ys)[0],t=lt().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Lm,useId:Jm,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zl={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),s=fn(e),i=zt(r,s);i.payload=t,n!=null&&(i.callback=n),t=un(e,i,s),t!==null&&(vt(t,e,s,r),Gi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),s=fn(e),i=zt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=un(e,i,s),t!==null&&(vt(t,e,s,r),Gi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=fn(e),s=zt(n,r);s.tag=2,t!=null&&(s.callback=t),t=un(e,s,r),t!==null&&(vt(t,e,r,n),Gi(t,e,r))}};function nh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ws(n,r)||!Ws(s,i):!0}function Zm(e,t,n){var r=!1,s=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(s=Fe(t)?Bn:Ne.current,r=t.contextTypes,i=(r=r!=null)?Mr(e,s):yn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function rh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zl.enqueueReplaceState(t,t.state,null)}function Vu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},uf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ot(i):(i=Fe(t)?Bn:Ne.current,s.context=Mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Wu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zl.enqueueReplaceState(s,s.state,null),Oo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var n="",r=t;do n+=Rw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Fa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var iv=typeof WeakMap=="function"?WeakMap:Map;function ey(e,t,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mo||(Mo=!0,nc=r),qu(e,t)},n}function ty(e,t,n){n=zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){qu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qu(e,t),typeof r!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function sh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=vv.bind(null,e,t,n),t.then(e,e))}function ih(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zt(-1,1),t.tag=2,un(n,t,1))),n.lanes|=1),e)}var ov=Jt.ReactCurrentOwner,Be=!1;function Ie(e,t,n,r){t.child=e===null?Im(t,null,n,r):Br(t,e.child,n,r)}function lh(e,t,n,r,s){n=n.render;var i=t.ref;return Cr(t,s),r=pf(e,t,n,r,i,s),n=mf(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(Q&&n&&tf(t),t.flags|=1,Ie(e,t,r,s),t.child)}function ah(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Cf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ny(e,t,i,r,s)):(e=so(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ws,n(o,r)&&e.ref===t.ref)return Ht(e,t,s)}return t.flags|=1,e=dn(i,r),e.ref=t.ref,e.return=t,t.child=e}function ny(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ws(i,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Ht(e,t,s)}return Hu(e,t,n,r,s)}function ry(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(mr,qe),qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(mr,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(mr,qe),qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,V(mr,qe),qe|=r;return Ie(e,t,s,n),t.child}function sy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hu(e,t,n,r,s){var i=Fe(n)?Bn:Ne.current;return i=Mr(t,i),Cr(t,s),n=pf(e,t,n,r,i,s),r=mf(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(Q&&r&&tf(t),t.flags|=1,Ie(e,t,n,s),t.child)}function uh(e,t,n,r,s){if(Fe(n)){var i=!0;Ao(t)}else i=!1;if(Cr(t,s),t.stateNode===null)to(e,t),Zm(t,n,r),Vu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Fe(n)?Bn:Ne.current,u=Mr(t,u));var h=n.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&rh(t,o,r,u),Zt=!1;var d=t.memoizedState;o.state=d,Oo(t,r,o,s),a=t.memoizedState,l!==r||d!==a||je.current||Zt?(typeof h=="function"&&(Wu(t,n,h,r),a=t.memoizedState),(l=Zt||nh(t,n,l,r,d,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Rm(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dt(t.type,l),o.props=u,c=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ot(a):(a=Fe(n)?Bn:Ne.current,a=Mr(t,a));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==a)&&rh(t,o,r,a),Zt=!1,d=t.memoizedState,o.state=d,Oo(t,r,o,s);var v=t.memoizedState;l!==c||d!==v||je.current||Zt?(typeof p=="function"&&(Wu(t,n,p,r),v=t.memoizedState),(u=Zt||nh(t,n,u,r,d,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Qu(e,t,n,r,i,s)}function Qu(e,t,n,r,s,i){sy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Qd(t,n,!1),Ht(e,t,i);r=t.stateNode,ov.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Br(t,e.child,null,i),t.child=Br(t,null,l,i)):Ie(e,t,l,i),t.memoizedState=r.state,s&&Qd(t,n,!0),t.child}function iy(e){var t=e.stateNode;t.pendingContext?Hd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hd(e,t.context,!1),cf(e,t.containerInfo)}function ch(e,t,n,r,s){return Dr(),rf(s),t.flags|=256,Ie(e,t,n,r),t.child}var Ju={dehydrated:null,treeContext:null,retryLane:0};function Xu(e){return{baseLanes:e,cachePool:null,transitions:null}}function oy(e,t,n){var r=t.pendingProps,s=Y.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),V(Y,s&1),e===null)return zu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vl(o,r,0,null),e=Dn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xu(n),t.memoizedState=Ju,e):wf(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lv(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=dn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=dn(l,i):(i=Dn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Xu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ju,r}return i=e.child,e=i.sibling,r=dn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wf(e,t){return t=Vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ri(e,t,n,r){return r!==null&&rf(r),Br(t,e.child,null,n),e=wf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Fa(Error(C(422))),Ri(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Vl({mode:"visible",children:r.children},s,0,null),i=Dn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Br(t,e.child,null,o),t.child.memoizedState=Xu(o),t.memoizedState=Ju,i);if(!(t.mode&1))return Ri(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(C(419)),r=Fa(i,r,void 0),Ri(e,t,o,r)}if(l=(o&e.childLanes)!==0,Be||l){if(r=ye,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qt(e,s),vt(r,e,s,-1))}return bf(),r=Fa(Error(C(421))),Ri(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Sv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Qe=an(s.nextSibling),Je=t,Q=!0,mt=null,e!==null&&(tt[nt++]=jt,tt[nt++]=Ft,tt[nt++]=jn,jt=e.id,Ft=e.overflow,jn=t),t=wf(t,r.children),t.flags|=4096,t)}function fh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ku(e.return,t,n)}function Ua(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ly(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ie(e,t,r.children,n),r=Y.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fh(e,n,t);else if(e.tag===19)fh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(V(Y,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ua(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ro(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ua(t,!0,n,null,i);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function to(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function av(e,t,n){switch(t.tag){case 3:iy(t),Dr();break;case 5:Tm(t);break;case 1:Fe(t.type)&&Ao(t);break;case 4:cf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;V(No,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(V(Y,Y.current&1),t.flags|=128,null):n&t.child.childLanes?oy(e,t,n):(V(Y,Y.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);V(Y,Y.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ly(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(Y,Y.current),r)break;return null;case 22:case 23:return t.lanes=0,ry(e,t,n)}return Ht(e,t,n)}var ay,Yu,uy,cy;ay=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yu=function(){};uy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,On(Rt.current);var i=null;switch(n){case"input":s=vu(e,s),r=vu(e,r),i=[];break;case"select":s=te({},s,{value:void 0}),r=te({},r,{value:void 0}),i=[];break;case"textarea":s=ku(e,s),r=ku(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bo)}bu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ds.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ds.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&q("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};cy=function(e,t,n,r){n!==r&&(t.flags|=4)};function os(e,t){if(!Q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uv(e,t,n){var r=t.pendingProps;switch(nf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Fe(t.type)&&Co(),Ee(t),null;case 3:return r=t.stateNode,jr(),H(je),H(Ne),df(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(ic(mt),mt=null))),Yu(e,t),Ee(t),null;case 5:ff(t);var s=On(Js.current);if(n=t.type,e!==null&&t.stateNode!=null)uy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return Ee(t),null}if(e=On(Rt.current),Ii(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Nt]=t,r[Hs]=i,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<ds.length;s++)q(ds[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":Sd(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":kd(r,i),q("invalid",r)}bu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ni(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ni(r.textContent,l,e),s=["children",""+l]):Ds.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":_i(r),_d(r,i,!0);break;case"textarea":_i(r),Ed(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Nt]=t,e[Hs]=r,ay(e,t,!1,!1),t.stateNode=e;e:{switch(o=Cu(n,r),n){case"dialog":q("cancel",e),q("close",e),s=r;break;case"iframe":case"object":case"embed":q("load",e),s=r;break;case"video":case"audio":for(s=0;s<ds.length;s++)q(ds[s],e);s=r;break;case"source":q("error",e),s=r;break;case"img":case"image":case"link":q("error",e),q("load",e),s=r;break;case"details":q("toggle",e),s=r;break;case"input":Sd(e,r),s=vu(e,r),q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=te({},r,{value:void 0}),q("invalid",e);break;case"textarea":kd(e,r),s=ku(e,r),q("invalid",e);break;default:s=r}bu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Up(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&jp(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Bs(e,a):typeof a=="number"&&Bs(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ds.hasOwnProperty(i)?a!=null&&i==="onScroll"&&q("scroll",e):a!=null&&Uc(e,i,a,o))}switch(n){case"input":_i(e),_d(e,r,!1);break;case"textarea":_i(e),Ed(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?_r(e,!!r.multiple,i,!1):r.defaultValue!=null&&_r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)cy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=On(Js.current),On(Rt.current),Ii(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nt]=t,(i=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Ni(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ni(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=t,t.stateNode=r}return Ee(t),null;case 13:if(H(Y),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Q&&Qe!==null&&t.mode&1&&!(t.flags&128))Pm(),Dr(),t.flags|=98560,i=!1;else if(i=Ii(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Nt]=t}else Dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),i=!1}else mt!==null&&(ic(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?de===0&&(de=3):bf())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return jr(),Yu(e,t),e===null&&Vs(t.stateNode.containerInfo),Ee(t),null;case 10:return lf(t.type._context),Ee(t),null;case 17:return Fe(t.type)&&Co(),Ee(t),null;case 19:if(H(Y),i=t.memoizedState,i===null)return Ee(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)os(i,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ro(e),o!==null){for(t.flags|=128,os(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return V(Y,Y.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>Ur&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ro(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return Ee(t),null}else 2*se()-i.renderingStartTime>Ur&&n!==1073741824&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,n=Y.current,V(Y,r?n&1|2:n&1),t):(Ee(t),null);case 22:case 23:return Ef(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qe&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function cv(e,t){switch(nf(t),t.tag){case 1:return Fe(t.type)&&Co(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(),H(je),H(Ne),df(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ff(t),null;case 13:if(H(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(Y),null;case 4:return jr(),null;case 10:return lf(t.type._context),null;case 22:case 23:return Ef(),null;case 24:return null;default:return null}}var Ti=!1,xe=!1,fv=typeof WeakSet=="function"?WeakSet:Set,P=null;function pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){ne(e,t,r)}}var dh=!1;function dv(e,t){if(Lu=_o,e=mm(),ef(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,h=0,c=e,d=null;t:for(;;){for(var p;c!==n||s!==0&&c.nodeType!==3||(l=o+s),c!==i||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)d=c,c=p;for(;;){if(c===e)break t;if(d===n&&++u===s&&(l=o),d===i&&++h===r&&(a=o),(p=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mu={focusedElem:e,selectionRange:n},_o=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:dt(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(S){ne(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return v=dh,dh=!1,v}function Ns(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Gu(t,n,i)}s=s.next}while(s!==r)}}function Kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fy(e){var t=e.alternate;t!==null&&(e.alternate=null,fy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Hs],delete t[ju],delete t[Q1],delete t[J1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dy(e){return e.tag===5||e.tag===3||e.tag===4}function hh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bo));else if(r!==4&&(e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}function tc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tc(e,t,n),e=e.sibling;e!==null;)tc(e,t,n),e=e.sibling}var ge=null,pt=!1;function Xt(e,t,n){for(n=n.child;n!==null;)hy(e,t,n),n=n.sibling}function hy(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 5:xe||pr(n,t);case 6:var r=ge,s=pt;ge=null,Xt(e,t,n),ge=r,pt=s,ge!==null&&(pt?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(pt?(e=ge,n=n.stateNode,e.nodeType===8?$a(e.parentNode,n):e.nodeType===1&&$a(e,n),zs(e)):$a(ge,n.stateNode));break;case 4:r=ge,s=pt,ge=n.stateNode.containerInfo,pt=!0,Xt(e,t,n),ge=r,pt=s;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Gu(n,t,o),s=s.next}while(s!==r)}Xt(e,t,n);break;case 1:if(!xe&&(pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ne(n,t,l)}Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,Xt(e,t,n),xe=r):Xt(e,t,n);break;default:Xt(e,t,n)}}function ph(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fv),t.forEach(function(r){var s=_v.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,pt=!1;break e;case 3:ge=l.stateNode.containerInfo,pt=!0;break e;case 4:ge=l.stateNode.containerInfo,pt=!0;break e}l=l.return}if(ge===null)throw Error(C(160));hy(i,o,s),ge=null,pt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)py(t,e),t=t.sibling}function py(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),bt(e),r&4){try{Ns(3,e,e.return),Kl(3,e)}catch(y){ne(e,e.return,y)}try{Ns(5,e,e.return)}catch(y){ne(e,e.return,y)}}break;case 1:ut(t,e),bt(e),r&512&&n!==null&&pr(n,n.return);break;case 5:if(ut(t,e),bt(e),r&512&&n!==null&&pr(n,n.return),e.flags&32){var s=e.stateNode;try{Bs(s,"")}catch(y){ne(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Mp(s,i),Cu(l,o);var u=Cu(l,i);for(o=0;o<a.length;o+=2){var h=a[o],c=a[o+1];h==="style"?Up(s,c):h==="dangerouslySetInnerHTML"?jp(s,c):h==="children"?Bs(s,c):Uc(s,h,c,u)}switch(l){case"input":Su(s,i);break;case"textarea":Dp(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?_r(s,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?_r(s,!!i.multiple,i.defaultValue,!0):_r(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hs]=i}catch(y){ne(e,e.return,y)}}break;case 6:if(ut(t,e),bt(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){ne(e,e.return,y)}}break;case 3:if(ut(t,e),bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(y){ne(e,e.return,y)}break;case 4:ut(t,e),bt(e);break;case 13:ut(t,e),bt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_f=se())),r&4&&ph(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(xe=(u=xe)||h,ut(t,e),xe=u):ut(t,e),bt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(P=e,h=e.child;h!==null;){for(c=P=h;P!==null;){switch(d=P,p=d.child,d.tag){case 0:case 11:case 14:case 15:Ns(4,d,d.return);break;case 1:pr(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){ne(r,n,y)}}break;case 5:pr(d,d.return);break;case 22:if(d.memoizedState!==null){yh(c);continue}}p!==null?(p.return=d,P=p):yh(c)}h=h.sibling}e:for(h=null,c=e;;){if(c.tag===5){if(h===null){h=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Fp("display",o))}catch(y){ne(e,e.return,y)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){ne(e,e.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ut(t,e),bt(e),r&4&&ph(e);break;case 21:break;default:ut(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dy(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Bs(s,""),r.flags&=-33);var i=hh(e);tc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=hh(e);ec(e,l,o);break;default:throw Error(C(161))}}catch(a){ne(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hv(e,t,n){P=e,my(e)}function my(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ti;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||xe;l=Ti;var u=xe;if(Ti=o,(xe=a)&&!u)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?gh(s):a!==null?(a.return=o,P=a):gh(s);for(;i!==null;)P=i,my(i),i=i.sibling;P=s,Ti=l,xe=u}mh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):mh(e)}}function mh(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||Kl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Zd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&zs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}xe||t.flags&512&&Zu(t)}catch(d){ne(t,t.return,d)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function yh(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function gh(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kl(4,t)}catch(a){ne(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){ne(t,s,a)}}var i=t.return;try{Zu(t)}catch(a){ne(t,i,a)}break;case 5:var o=t.return;try{Zu(t)}catch(a){ne(t,o,a)}}}catch(a){ne(t,t.return,a)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var pv=Math.ceil,Lo=Jt.ReactCurrentDispatcher,vf=Jt.ReactCurrentOwner,st=Jt.ReactCurrentBatchConfig,j=0,ye=null,ae=null,ve=0,qe=0,mr=Sn(0),de=0,Zs=null,Un=0,Wl=0,Sf=0,Is=null,Me=null,_f=0,Ur=1/0,Dt=null,Mo=!1,nc=null,cn=null,$i=!1,rn=null,Do=0,Os=0,rc=null,no=-1,ro=0;function Re(){return j&6?se():no!==-1?no:no=se()}function fn(e){return e.mode&1?j&2&&ve!==0?ve&-ve:Y1.transition!==null?(ro===0&&(ro=Zp()),ro):(e=U,e!==0||(e=window.event,e=e===void 0?16:om(e.type)),e):1}function vt(e,t,n,r){if(50<Os)throw Os=0,rc=null,Error(C(185));oi(e,n,r),(!(j&2)||e!==ye)&&(e===ye&&(!(j&2)&&(Wl|=n),de===4&&tn(e,ve)),Ue(e,r),n===1&&j===0&&!(t.mode&1)&&(Ur=se()+500,Fl&&_n()))}function Ue(e,t){var n=e.callbackNode;Yw(e,t);var r=So(e,e===ye?ve:0);if(r===0)n!==null&&Ad(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ad(n),t===1)e.tag===0?X1(wh.bind(null,e)):Cm(wh.bind(null,e)),q1(function(){!(j&6)&&_n()}),n=null;else{switch(em(r)){case 1:n=qc;break;case 4:n=Yp;break;case 16:n=vo;break;case 536870912:n=Gp;break;default:n=vo}n=Ey(n,yy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yy(e,t){if(no=-1,ro=0,j&6)throw Error(C(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var r=So(e,e===ye?ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bo(e,r);else{t=r;var s=j;j|=2;var i=wy();(ye!==e||ve!==t)&&(Dt=null,Ur=se()+500,Mn(e,t));do try{gv();break}catch(l){gy(e,l)}while(!0);of(),Lo.current=i,j=s,ae!==null?t=0:(ye=null,ve=0,t=de)}if(t!==0){if(t===2&&(s=Iu(e),s!==0&&(r=s,t=sc(e,s))),t===1)throw n=Zs,Mn(e,0),tn(e,r),Ue(e,se()),n;if(t===6)tn(e,r);else{if(s=e.current.alternate,!(r&30)&&!mv(s)&&(t=Bo(e,r),t===2&&(i=Iu(e),i!==0&&(r=i,t=sc(e,i))),t===1))throw n=Zs,Mn(e,0),tn(e,r),Ue(e,se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:An(e,Me,Dt);break;case 3:if(tn(e,r),(r&130023424)===r&&(t=_f+500-se(),10<t)){if(So(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bu(An.bind(null,e,Me,Dt),t);break}An(e,Me,Dt);break;case 4:if(tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-wt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pv(r/1960))-r,10<r){e.timeoutHandle=Bu(An.bind(null,e,Me,Dt),r);break}An(e,Me,Dt);break;case 5:An(e,Me,Dt);break;default:throw Error(C(329))}}}return Ue(e,se()),e.callbackNode===n?yy.bind(null,e):null}function sc(e,t){var n=Is;return e.current.memoizedState.isDehydrated&&(Mn(e,t).flags|=256),e=Bo(e,t),e!==2&&(t=Me,Me=n,t!==null&&ic(t)),e}function ic(e){Me===null?Me=e:Me.push.apply(Me,e)}function mv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~Sf,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function wh(e){if(j&6)throw Error(C(327));Ar();var t=So(e,0);if(!(t&1))return Ue(e,se()),null;var n=Bo(e,t);if(e.tag!==0&&n===2){var r=Iu(e);r!==0&&(t=r,n=sc(e,r))}if(n===1)throw n=Zs,Mn(e,0),tn(e,t),Ue(e,se()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,Me,Dt),Ue(e,se()),null}function kf(e,t){var n=j;j|=1;try{return e(t)}finally{j=n,j===0&&(Ur=se()+500,Fl&&_n())}}function zn(e){rn!==null&&rn.tag===0&&!(j&6)&&Ar();var t=j;j|=1;var n=st.transition,r=U;try{if(st.transition=null,U=1,e)return e()}finally{U=r,st.transition=n,j=t,!(j&6)&&_n()}}function Ef(){qe=mr.current,H(mr)}function Mn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,V1(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(nf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Co();break;case 3:jr(),H(je),H(Ne),df();break;case 5:ff(r);break;case 4:jr();break;case 13:H(Y);break;case 19:H(Y);break;case 10:lf(r.type._context);break;case 22:case 23:Ef()}n=n.return}if(ye=e,ae=e=dn(e.current,null),ve=qe=t,de=0,Zs=null,Sf=Wl=Un=0,Me=Is=null,In!==null){for(t=0;t<In.length;t++)if(n=In[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}In=null}return e}function gy(e,t){do{var n=ae;try{if(of(),Zi.current=$o,To){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}To=!1}if(Fn=0,me=fe=Z=null,Ps=!1,Xs=0,vf.current=null,n===null||n.return===null){de=1,Zs=t,ae=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=ve,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ih(o);if(p!==null){p.flags&=-257,oh(p,o,l,i,t),p.mode&1&&sh(i,u,t),t=p,a=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(a),t.updateQueue=y}else v.add(a);break e}else{if(!(t&1)){sh(i,u,t),bf();break e}a=Error(C(426))}}else if(Q&&l.mode&1){var w=ih(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),oh(w,o,l,i,t),rf(Fr(a,l));break e}}i=a=Fr(a,l),de!==4&&(de=2),Is===null?Is=[i]:Is.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=ey(i,a,t);Gd(i,m);break e;case 1:l=a;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cn===null||!cn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=ty(i,l,t);Gd(i,S);break e}}i=i.return}while(i!==null)}Sy(n)}catch(k){t=k,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function wy(){var e=Lo.current;return Lo.current=$o,e===null?$o:e}function bf(){(de===0||de===3||de===2)&&(de=4),ye===null||!(Un&268435455)&&!(Wl&268435455)||tn(ye,ve)}function Bo(e,t){var n=j;j|=2;var r=wy();(ye!==e||ve!==t)&&(Dt=null,Mn(e,t));do try{yv();break}catch(s){gy(e,s)}while(!0);if(of(),j=n,Lo.current=r,ae!==null)throw Error(C(261));return ye=null,ve=0,de}function yv(){for(;ae!==null;)vy(ae)}function gv(){for(;ae!==null&&!zw();)vy(ae)}function vy(e){var t=ky(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?Sy(e):ae=t,vf.current=null}function Sy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cv(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{de=6,ae=null;return}}else if(n=uv(n,t,qe),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);de===0&&(de=5)}function An(e,t,n){var r=U,s=st.transition;try{st.transition=null,U=1,wv(e,t,n,r)}finally{st.transition=s,U=r}return null}function wv(e,t,n,r){do Ar();while(rn!==null);if(j&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Gw(e,i),e===ye&&(ae=ye=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,Ey(vo,function(){return Ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=st.transition,st.transition=null;var o=U;U=1;var l=j;j|=4,vf.current=null,dv(e,n),py(n,e),B1(Mu),_o=!!Lu,Mu=Lu=null,e.current=n,hv(n),Kw(),j=l,U=o,st.transition=i}else e.current=n;if($i&&($i=!1,rn=e,Do=s),i=e.pendingLanes,i===0&&(cn=null),qw(n.stateNode),Ue(e,se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mo)throw Mo=!1,e=nc,nc=null,e;return Do&1&&e.tag!==0&&Ar(),i=e.pendingLanes,i&1?e===rc?Os++:(Os=0,rc=e):Os=0,_n(),null}function Ar(){if(rn!==null){var e=em(Do),t=st.transition,n=U;try{if(st.transition=null,U=16>e?16:e,rn===null)var r=!1;else{if(e=rn,rn=null,Do=0,j&6)throw Error(C(331));var s=j;for(j|=4,P=e.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(P=u;P!==null;){var h=P;switch(h.tag){case 0:case 11:case 15:Ns(8,h,i)}var c=h.child;if(c!==null)c.return=h,P=c;else for(;P!==null;){h=P;var d=h.sibling,p=h.return;if(fy(h),h===u){P=null;break}if(d!==null){d.return=p,P=d;break}P=p}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ns(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,P=m;break e}P=i.return}}var f=e.current;for(P=f;P!==null;){o=P;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,P=g;else e:for(o=f;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kl(9,l)}}catch(k){ne(l,l.return,k)}if(l===o){P=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,P=S;break e}P=l.return}}if(j=s,_n(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ll,e)}catch{}r=!0}return r}finally{U=n,st.transition=t}}return!1}function vh(e,t,n){t=Fr(n,t),t=ey(e,t,1),e=un(e,t,1),t=Re(),e!==null&&(oi(e,1,t),Ue(e,t))}function ne(e,t,n){if(e.tag===3)vh(e,e,n);else for(;t!==null;){if(t.tag===3){vh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cn===null||!cn.has(r))){e=Fr(n,e),e=ty(t,e,1),t=un(t,e,1),e=Re(),t!==null&&(oi(t,1,e),Ue(t,e));break}}t=t.return}}function vv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(ve&n)===n&&(de===4||de===3&&(ve&130023424)===ve&&500>se()-_f?Mn(e,0):Sf|=n),Ue(e,t)}function _y(e,t){t===0&&(e.mode&1?(t=bi,bi<<=1,!(bi&130023424)&&(bi=4194304)):t=1);var n=Re();e=qt(e,t),e!==null&&(oi(e,t,n),Ue(e,n))}function Sv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_y(e,n)}function _v(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),_y(e,n)}var ky;ky=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,av(e,t,n);Be=!!(e.flags&131072)}else Be=!1,Q&&t.flags&1048576&&Am(t,Po,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;to(e,t),e=t.pendingProps;var s=Mr(t,Ne.current);Cr(t,n),s=pf(null,t,r,e,s,n);var i=mf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(r)?(i=!0,Ao(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uf(t),s.updater=zl,t.stateNode=s,s._reactInternals=t,Vu(t,r,e,n),t=Qu(null,t,r,!0,i,n)):(t.tag=0,Q&&i&&tf(t),Ie(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(to(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ev(r),e=dt(r,e),s){case 0:t=Hu(null,t,r,e,n);break e;case 1:t=uh(null,t,r,e,n);break e;case 11:t=lh(null,t,r,e,n);break e;case 14:t=ah(null,t,r,dt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Hu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),uh(e,t,r,s,n);case 3:e:{if(iy(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Rm(e,t),Oo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fr(Error(C(423)),t),t=ch(e,t,r,n,s);break e}else if(r!==s){s=Fr(Error(C(424)),t),t=ch(e,t,r,n,s);break e}else for(Qe=an(t.stateNode.containerInfo.firstChild),Je=t,Q=!0,mt=null,n=Im(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dr(),r===s){t=Ht(e,t,n);break e}Ie(e,t,r,n)}t=t.child}return t;case 5:return Tm(t),e===null&&zu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Du(r,s)?o=null:i!==null&&Du(r,i)&&(t.flags|=32),sy(e,t),Ie(e,t,o,n),t.child;case 6:return e===null&&zu(t),null;case 13:return oy(e,t,n);case 4:return cf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Br(t,null,r,n):Ie(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),lh(e,t,r,s,n);case 7:return Ie(e,t,t.pendingProps,n),t.child;case 8:return Ie(e,t,t.pendingProps.children,n),t.child;case 12:return Ie(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,V(No,r._currentValue),r._currentValue=o,i!==null)if(_t(i.value,o)){if(i.children===s.children&&!je.current){t=Ht(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=zt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ku(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ku(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ie(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Cr(t,n),s=ot(s),r=r(s),t.flags|=1,Ie(e,t,r,n),t.child;case 14:return r=t.type,s=dt(r,t.pendingProps),s=dt(r.type,s),ah(e,t,r,s,n);case 15:return ny(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),to(e,t),t.tag=1,Fe(r)?(e=!0,Ao(t)):e=!1,Cr(t,n),Zm(t,r,s),Vu(t,r,s,n),Qu(null,t,r,!0,e,n);case 19:return ly(e,t,n);case 22:return ry(e,t,n)}throw Error(C(156,t.tag))};function Ey(e,t){return Xp(e,t)}function kv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,n,r){return new kv(e,t,n,r)}function Cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ev(e){if(typeof e=="function")return Cf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kc)return 11;if(e===Wc)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function so(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Cf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ir:return Dn(n.children,s,i,t);case zc:o=8,s|=8;break;case mu:return e=rt(12,n,t,s|2),e.elementType=mu,e.lanes=i,e;case yu:return e=rt(13,n,t,s),e.elementType=yu,e.lanes=i,e;case gu:return e=rt(19,n,t,s),e.elementType=gu,e.lanes=i,e;case Tp:return Vl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Op:o=10;break e;case Rp:o=9;break e;case Kc:o=11;break e;case Wc:o=14;break e;case Gt:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=rt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Dn(e,t,n,r){return e=rt(7,e,r,t),e.lanes=n,e}function Vl(e,t,n,r){return e=rt(22,e,r,t),e.elementType=Tp,e.lanes=n,e.stateNode={isHidden:!1},e}function za(e,t,n){return e=rt(6,e,null,t),e.lanes=n,e}function Ka(e,t,n){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Af(e,t,n,r,s,i,o,l,a){return e=new bv(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=rt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uf(i),e}function Cv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function by(e){if(!e)return yn;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Fe(n))return bm(e,n,t)}return t}function Cy(e,t,n,r,s,i,o,l,a){return e=Af(n,r,!0,e,s,i,o,l,a),e.context=by(null),n=e.current,r=Re(),s=fn(n),i=zt(r,s),i.callback=t??null,un(n,i,s),e.current.lanes=s,oi(e,s,r),Ue(e,r),e}function ql(e,t,n,r){var s=t.current,i=Re(),o=fn(s);return n=by(n),t.context===null?t.context=n:t.pendingContext=n,t=zt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=un(s,t,o),e!==null&&(vt(e,s,o,i),Gi(e,s,o)),o}function jo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xf(e,t){Sh(e,t),(e=e.alternate)&&Sh(e,t)}function Av(){return null}var Ay=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pf(e){this._internalRoot=e}Hl.prototype.render=Pf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));ql(e,t,null,null)};Hl.prototype.unmount=Pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zn(function(){ql(null,e,null,null)}),t[Vt]=null}};function Hl(e){this._internalRoot=e}Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=rm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<en.length&&t!==0&&t<en[n].priority;n++);en.splice(n,0,e),n===0&&im(e)}};function Nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _h(){}function xv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=jo(o);i.call(u)}}var o=Cy(t,r,e,0,null,!1,!1,"",_h);return e._reactRootContainer=o,e[Vt]=o.current,Vs(e.nodeType===8?e.parentNode:e),zn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=jo(a);l.call(u)}}var a=Af(e,0,!1,null,null,!1,!1,"",_h);return e._reactRootContainer=a,e[Vt]=a.current,Vs(e.nodeType===8?e.parentNode:e),zn(function(){ql(t,a,n,r)}),a}function Jl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=jo(o);l.call(a)}}ql(t,o,e,s)}else o=xv(n,t,e,s,r);return jo(o)}tm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fs(t.pendingLanes);n!==0&&(Hc(t,n|1),Ue(t,se()),!(j&6)&&(Ur=se()+500,_n()))}break;case 13:zn(function(){var r=qt(e,1);if(r!==null){var s=Re();vt(r,e,1,s)}}),xf(e,1)}};Qc=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=Re();vt(t,e,134217728,n)}xf(e,134217728)}};nm=function(e){if(e.tag===13){var t=fn(e),n=qt(e,t);if(n!==null){var r=Re();vt(n,e,t,r)}xf(e,t)}};rm=function(){return U};sm=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};xu=function(e,t,n){switch(t){case"input":if(Su(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=jl(r);if(!s)throw Error(C(90));Lp(r),Su(r,s)}}}break;case"textarea":Dp(e,n);break;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}};Wp=kf;Vp=zn;var Pv={usingClientEntryPoint:!1,Events:[ai,ur,jl,zp,Kp,kf]},ls={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nv={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qp(e),e===null?null:e.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||Av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{Ll=Li.inject(Nv),Ot=Li}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pv;Ye.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nf(t))throw Error(C(200));return Cv(e,t,null,n)};Ye.createRoot=function(e,t){if(!Nf(e))throw Error(C(299));var n=!1,r="",s=Ay;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Af(e,1,!1,null,null,n,!1,r,s),e[Vt]=t.current,Vs(e.nodeType===8?e.parentNode:e),new Pf(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Qp(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return zn(e)};Ye.hydrate=function(e,t,n){if(!Ql(t))throw Error(C(200));return Jl(null,e,t,!0,n)};Ye.hydrateRoot=function(e,t,n){if(!Nf(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ay;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Cy(t,null,e,1,n??null,s,!1,i,o),e[Vt]=t.current,Vs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Hl(t)};Ye.render=function(e,t,n){if(!Ql(t))throw Error(C(200));return Jl(null,e,t,!1,n)};Ye.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(C(40));return e._reactRootContainer?(zn(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};Ye.unstable_batchedUpdates=kf;Ye.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Jl(e,t,n,!1,r)};Ye.version="18.3.1-next-f1338f8080-20240426";function xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xy)}catch(e){console.error(e)}}xy(),xp.exports=Ye;var Iv=xp.exports,Py,kh=Iv;Py=kh.createRoot,kh.hydrateRoot;const Ov=Symbol(),If=Symbol(),hs="a",Ny="f",Eh="p",Iy="c",Oy="t",Wa="n",Va="g",Of="h",Rs="w",Rf="o",Tf="k";let Rv=(e,t)=>new Proxy(e,t);const oc=Object.getPrototypeOf,lc=new WeakMap,Ry=e=>e&&(lc.has(e)?lc.get(e):oc(e)===Object.prototype||oc(e)===Array.prototype),Fo=e=>typeof e=="object"&&e!==null,Tv=e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(t=>!t.configurable&&!t.writable),$v=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(n=>{n.configurable=!0}),Object.create(oc(e),t)},Lv=(e,t)=>{const n={[Ny]:t};let r=!1;const s=(l,a)=>{if(!r){let u=n[hs].get(e);if(u||(u={},n[hs].set(e,u)),l===Rs)u[Rs]=!0;else{let h=u[l];h||(h=new Set,u[l]=h),h.add(a)}}},i=()=>{r=!0,n[hs].delete(e)},o={get(l,a){return a===If?e:(s(Tf,a),Ty(Reflect.get(l,a),n[hs],n[Iy],n[Oy]))},has(l,a){return a===Ov?(i(),!0):(s(Of,a),Reflect.has(l,a))},getOwnPropertyDescriptor(l,a){return s(Rf,a),Reflect.getOwnPropertyDescriptor(l,a)},ownKeys(l){return s(Rs),Reflect.ownKeys(l)}};return t&&(o.set=o.deleteProperty=()=>!1),[o,n]},$f=e=>e[If]||e,Ty=(e,t,n,r)=>{if(!Ry(e))return e;let s=r&&r.get(e);if(!s){const a=$f(e);Tv(a)?s=[a,$v(a)]:s=[a],r==null||r.set(e,s)}const[i,o]=s;let l=n&&n.get(i);return(!l||l[1][Ny]!==!!o)&&(l=Lv(i,!!o),l[1][Eh]=Rv(o||i,l[0]),n&&n.set(i,l)),l[1][hs]=t,l[1][Iy]=n,l[1][Oy]=r,l[1][Eh]},Mv=(e,t)=>{const n=Reflect.ownKeys(e),r=Reflect.ownKeys(t);return n.length!==r.length||n.some((s,i)=>s!==r[i])},$y=(e,t,n,r,s=Object.is)=>{if(s(e,t))return!1;if(!Fo(e)||!Fo(t))return!0;const i=n.get($f(e));if(!i)return!0;if(r){const l=r.get(e);if(l&&l[Wa]===t)return l[Va];r.set(e,{[Wa]:t,[Va]:!1})}let o=null;try{for(const l of i[Of]||[])if(o=Reflect.has(e,l)!==Reflect.has(t,l),o)return o;if(i[Rs]===!0){if(o=Mv(e,t),o)return o}else for(const l of i[Rf]||[]){const a=!!Reflect.getOwnPropertyDescriptor(e,l),u=!!Reflect.getOwnPropertyDescriptor(t,l);if(o=a!==u,o)return o}for(const l of i[Tf]||[])if(o=$y(e[l],t[l],n,r,s),o)return o;return o===null&&(o=!0),o}finally{r&&r.set(e,{[Wa]:t,[Va]:o})}},Dv=e=>Ry(e)&&e[If]||null,bh=(e,t=!0)=>{lc.set(e,t)},Bv=(e,t,n)=>{const r=[],s=new WeakSet,i=(o,l)=>{var a,u,h;if(s.has(o))return;Fo(o)&&s.add(o);const c=Fo(o)&&t.get($f(o));if(c){if((a=c[Of])===null||a===void 0||a.forEach(d=>{const p=`:has(${String(d)})`;r.push(l?[...l,p]:[p])}),c[Rs]===!0){const d=":ownKeys";r.push(l?[...l,d]:[d])}else(u=c[Rf])===null||u===void 0||u.forEach(d=>{const p=`:hasOwn(${String(d)})`;r.push(l?[...l,p]:[p])});(h=c[Tf])===null||h===void 0||h.forEach(d=>{"value"in(Object.getOwnPropertyDescriptor(o,d)||{})&&i(o[d],l?[...l,d]:[d])})}else l&&r.push(l)};return i(e),r},Uo={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Lf=e=>typeof e=="object"&&e!==null,jv=e=>Lf(e)&&!Mf.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),Fv=(e,t)=>{const n=Ch.get(e);if((n==null?void 0:n[0])===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return bh(r,!0),Ch.set(e,[t,r]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(e,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(e,s),l={value:i,enumerable:o,configurable:!0};if(Mf.has(i))bh(i,!1);else if(Kn.has(i)){const[a,u]=Kn.get(i);l.value=Ly(a,u())}Object.defineProperty(r,s,l)}),Object.preventExtensions(r)},Uv=(e,t,n,r)=>({deleteProperty(s,i){const o=Reflect.get(s,i);n(i);const l=Reflect.deleteProperty(s,i);return l&&r(["delete",[i],o]),l},set(s,i,o,l){const a=!e()&&Reflect.has(s,i),u=Reflect.get(s,i,l);if(a&&(Ah(u,o)||zo.has(o)&&Ah(u,zo.get(o))))return!0;n(i),Lf(o)&&(o=Dv(o)||o);const h=!Kn.has(o)&&Kv(o)?Df(o):o;return t(i,h),Reflect.set(s,i,h,l),r(["set",[i],o,u]),!0}}),Kn=new WeakMap,Mf=new WeakSet,Ch=new WeakMap,Mi=[1,1],zo=new WeakMap;let Ah=Object.is,zv=(e,t)=>new Proxy(e,t),Kv=jv,Ly=Fv,Wv=Uv;function Df(e={}){if(!Lf(e))throw new Error("object required");const t=zo.get(e);if(t)return t;let n=Mi[0];const r=new Set,s=(w,m=++Mi[0])=>{n!==m&&(n=m,r.forEach(f=>f(w,m)))};let i=Mi[1];const o=(w=++Mi[1])=>(i!==w&&!r.size&&(i=w,a.forEach(([m])=>{const f=m[1](w);f>n&&(n=f)})),n),l=w=>(m,f)=>{const g=[...m];g[1]=[w,...g[1]],s(g,f)},a=new Map,u=(w,m)=>{const f=!Mf.has(m)&&Kn.get(m);if(f){if((Uo?"production":void 0)!=="production"&&a.has(w))throw new Error("prop listener already exists");if(r.size){const g=f[2](l(w));a.set(w,[f,g])}else a.set(w,[f])}},h=w=>{var m;const f=a.get(w);f&&(a.delete(w),(m=f[1])==null||m.call(f))},c=w=>(r.add(w),r.size===1&&a.forEach(([f,g],S)=>{if((Uo?"production":void 0)!=="production"&&g)throw new Error("remove already exists");const k=f[2](l(S));a.set(S,[f,k])}),()=>{r.delete(w),r.size===0&&a.forEach(([f,g],S)=>{g&&(g(),a.set(S,[f]))})});let d=!0;const p=Wv(()=>d,u,h,s),v=zv(e,p);zo.set(e,v);const y=[e,o,c];return Kn.set(v,y),Reflect.ownKeys(e).forEach(w=>{const m=Object.getOwnPropertyDescriptor(e,w);"value"in m&&m.writable&&(v[w]=e[w])}),d=!1,v}function Vv(e,t,n){const r=Kn.get(e);(Uo?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[2];let l=!1;const u=o(h=>{i.push(h),s||(s=Promise.resolve().then(()=>{s=void 0,l&&t(i.splice(0))}))});return l=!0,()=>{l=!1,u()}}function xh(e){const t=Kn.get(e);(Uo?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,r]=t;return Ly(n,r())}const qv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Hv=(e,t)=>{const n=B.useRef();B.useEffect(()=>{n.current=Bv(e,t)}),B.useDebugValue(n.current)},Qv=Hv,Jv=new WeakMap;function Qt(e,t){const r=B.useMemo(()=>e&&new WeakMap,[e]),s=B.useRef();let i=!0;const o=B.useSyncExternalStore(B.useCallback(a=>{const u=Vv(e,a);return a(),u},[e,void 0]),()=>{const a=xh(e);try{if(!i&&s.current&&!$y(s.current,a,r,new WeakMap))return s.current}catch{}return a},()=>xh(e));i=!1,B.useLayoutEffect(()=>{s.current=o}),(qv?"production":void 0)!=="production"&&Qv(o,r);const l=B.useMemo(()=>new WeakMap,[]);return Ty(o,r,l,Jv)}const ps=({label:e,value:t})=>A.jsxs("div",{className:"flex justify-between items-center py-1",children:[A.jsx("span",{className:"text-gray-600 text-xs",children:e}),A.jsx("span",{className:"font-mono text-xs",children:t})]}),Xv=({behavior:e})=>A.jsxs("div",{className:"mt-2 border-t border-gray-200 pt-2",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{className:"font-semibold text-xs",children:e.type}),e.name&&A.jsx("span",{className:"text-xs text-gray-500",children:e.name})]}),Object.entries(e).map(([t,n])=>t!=="type"&&t!=="name"&&t!=="uuid"?A.jsx(ps,{label:t,value:JSON.stringify(n)},t):null)]});function Yv({entity:e}){return console.log(" Rendering EntityInspector",{entity:e}),A.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 shadow-md mb-2 max-w-xs",children:[e.name&&A.jsx("h2",{className:"text-lg font-bold mb-2 truncate",title:e.name,children:e.name}),A.jsxs("div",{className:"mb-2",children:[A.jsx(ps,{label:"x",value:e.x.toFixed(2)}),A.jsx(ps,{label:"y",value:e.y.toFixed(2)}),A.jsx(ps,{label:"rotation",value:e.rotation.toFixed(2)}),A.jsx(ps,{label:"scale",value:e.scale.toFixed(2)})]}),A.jsx("div",{className:"mt-3",children:e.behaviors.map((t,n)=>A.jsx(Xv,{behavior:t},t.uuid||n))})]})}/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),My=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=B.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},a)=>B.createElement("svg",{ref:a,...Zv,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:My("lucide",s),...l},[...o.map(([u,h])=>B.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=(e,t)=>{const n=B.forwardRef(({className:r,...s},i)=>B.createElement(eS,{ref:i,iconNode:t,className:My(`lucide-${Gv(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Dy("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Dy("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);function Ph(e){return JSON.parse(JSON.stringify(e))}const le=Df({entities:[],stage:{width:1e3,height:1e3}}),Ae={addEntity:e=>{const t={...Ph(e),uuid:crypto.randomUUID()};return le.entities.push(t),t},removeEntity:e=>{le.entities=le.entities.filter(t=>t.uuid!==e)},updateEntity:(e,t)=>{const n=le.entities.find(r=>r.uuid===e);n&&Object.assign(n,t)},addBehaviorToEntity:(e,t)=>{const n=le.entities.find(s=>s.uuid===e);if(!n)throw new Error("Entity not found");const r={...Ph(t),uuid:crypto.randomUUID()};return n.behaviors.push(r),r},removeBehaviorFromEntity:(e,t)=>{const n=le.entities.find(r=>r.uuid===e);n&&(n.behaviors=n.behaviors.filter(r=>r.type!==t))},clearWorld:()=>{le.entities=[]},getEntity:e=>le.entities.find(t=>t.uuid===e)},Ce=Df({selectedEntityIds:[],aiBusy:!1}),hn={setSelectedEntityIds:e=>{Ce.selectedEntityIds=e},addSelectedEntityIds:e=>{const t=e.filter(n=>!Ce.selectedEntityIds.includes(n));Ce.selectedEntityIds.push(...t)},removeSelectedEntityIds:e=>{Ce.selectedEntityIds=Ce.selectedEntityIds.filter(t=>!e.includes(t))},toggleEntitySelection:(e,t)=>{if(t){const n=Ce.selectedEntityIds.indexOf(e);n===-1?Ce.selectedEntityIds.push(e):Ce.selectedEntityIds.splice(n,1)}else Ce.selectedEntityIds=[e]},clearSelection:()=>{Ce.selectedEntityIds=[]},setAIBusy:e=>{Ce.aiBusy=e}},By=()=>{const{selectedEntityIds:e}=Qt(Ce),{entities:t}=Qt(le);return t.filter(n=>e.includes(n.uuid))},tr="0.7.0";let Nh=!1,Ts,jy,Fy,ac,Uy,zy,Ky,Wy,Vy;function rS(e,t={auto:!1}){if(Nh)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if(Ts)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${Ts}'\``);Nh=t.auto,Ts=e.kind,jy=e.fetch,Fy=e.FormData,ac=e.File,Uy=e.ReadableStream,zy=e.getMultipartRequestOptions,Ky=e.getDefaultAgent,Wy=e.fileFromPath,Vy=e.isFsReadStream}let sS=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function iS({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new sS(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:o=>!1}}Ts||rS(iS(),{auto:!0});let oS=class ms{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;const s=new lS;async function*i(){if(!t.body)throw n.abort(),new St("Attempted to iterate over a response with no body");const l=new Ko,a=Ih(t.body);for await(const u of a)for(const h of l.decode(u)){const c=s.decode(h);c&&(yield c)}for(const u of l.flush()){const h=s.decode(u);h&&(yield h)}}async function*o(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const a of i())if(!l){if(a.data.startsWith("[DONE]")){l=!0;continue}if(a.event===null||a.event==="error"){let u;try{u=JSON.parse(a.data)}catch(h){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),h}if(u&&u.error)throw new Ze(u.error.status_code,u.error,u.error.message,void 0);yield u}}l=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{l||n.abort()}}return new ms(o,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new Ko,l=Ih(t);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new ms(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new ms(()=>s(t),this.controller),new ms(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new Uy({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}},lS=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=aS(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}},Ko=class uc{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=uc.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(uc.NEWLINE_REGEXP);return s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new St(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new St(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new St("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}};Ko.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Ko.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function aS(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function Ih(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const qy=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",Hy=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Bf(e),Bf=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",uS=e=>Hy(e)||qy(e)||Vy(e);async function Qy(e,t,n){var s;if(e=await e,n??(n=Hy(e)?{lastModified:e.lastModified,type:e.type}:{}),qy(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new ac([i],t,n)}const r=await cS(e);if(t||(t=dS(e)??"unknown_file"),!n.type){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new ac(r,t,n)}async function cS(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Bf(e))t.push(await e.arrayBuffer());else if(hS(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${fS(e)}`);return t}function fS(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function dS(e){var t;return qa(e.name)||qa(e.filename)||((t=qa(e.path))==null?void 0:t.split(/[\\/]/).pop())}const qa=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},hS=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Oh=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Jy=async e=>{const t=await pS(e.body);return zy(t,e)},pS=async e=>{const t=new Fy;return await Promise.all(Object.entries(e||{}).map(([n,r])=>cc(t,n,r))),t},cc=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(uS(n)){const r=await Qy(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>cc(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>cc(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var xr={};async function Xy(e){const{response:t}=e;if(e.options.stream)return Pr("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):oS.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await t.json();return Pr("response",t.status,t.url,t.headers,i),i}const s=await t.text();return Pr("response",t.status,t.url,t.headers,s),s}let Yy=class Gy extends Promise{constructor(t,n=Xy){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Gy(this.responsePromise,async n=>t(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},mS=class{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e4,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=Ha("maxRetries",n),this.timeout=Ha("timeout",r),this.httpAgent=s,this.fetch=i??jy}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...SS(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${xS()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&Bf(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t){var v;const{method:n,path:r,query:s,headers:i={}}=t,o=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:Oh(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(o),a=this.buildURL(r,s);"timeout"in t&&Ha("timeout",t.timeout);const u=t.timeout??this.timeout,h=t.httpAgent??this.httpAgent??Ky(a),c=u+1e3;typeof((v=h==null?void 0:h.options)==null?void 0:v.timeout)=="number"&&c>(h.options.timeout??0)&&(h.options.timeout=c),this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const d=this.buildHeaders({options:t,headers:i,contentLength:l});return{req:{method:n,...o&&{body:o},headers:d,...h&&{agent:h},signal:t.signal??null},url:a,timeout:u}}buildHeaders({options:t,headers:n,contentLength:r}){const s={};r&&(s["content-length"]=r);const i=this.defaultHeaders(t);return Mh(s,i),Mh(s,n),Oh(t.body)&&Ts!=="node"&&delete s["content-type"],this.validateHeaders(s,n),s}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return Ze.generate(t,n,r,s)}request(t,n=null){return new Yy(this.makeRequest(t,n))}async makeRequest(t,n){var h,c;const r=await t;n==null&&(n=r.maxRetries??this.maxRetries),await this.prepareOptions(r);const{req:s,url:i,timeout:o}=this.buildRequest(r);if(await this.prepareRequest(s,{url:i,options:r}),Pr("request",i,r,s.headers),(h=r.signal)!=null&&h.aborted)throw new hc;const l=new AbortController,a=await this.fetchWithTimeout(i,s,o,l).catch(fc);if(a instanceof Error){if((c=r.signal)!=null&&c.aborted)throw new hc;if(n)return this.retryRequest(r,n);throw a.name==="AbortError"?new Zy:new Xl({cause:a})}const u=gS(a.headers);if(!a.ok){if(n&&this.shouldRetry(a)){const m=`retrying, ${n} attempts remaining`;return Pr(`response (error; ${m})`,a.status,i,u),this.retryRequest(r,n,u)}const d=await a.text().catch(m=>fc(m).message),p=_S(d),v=p?void 0:d;throw Pr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,a.status,i,u,v),this.makeStatusError(a.status,p,v,u)}return{response:a,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new yS(this,r,t)}buildURL(t,n){const r=ES(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return CS(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new St(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:s.signal,...o}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await bS(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${tr}`}},yS=class extends Yy{constructor(t,n,r){super(n,async s=>new r(t,s.response,await Xy(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}};const gS=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),wS=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":Th(Deno.build.os),"X-Stainless-Arch":Rh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":Th(process.platform),"X-Stainless-Arch":Rh(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=vS();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vS(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const Rh=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Th=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let $h;const SS=()=>$h??($h=wS()),_S=e=>{try{return JSON.parse(e)}catch{return}},kS=new RegExp("^(?:[a-z]+:)?//","i"),ES=e=>kS.test(e),bS=e=>new Promise(t=>setTimeout(t,e)),Ha=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new St(`${e} must be an integer`);if(t<0)throw new St(`${e} must be a positive integer`);return t},fc=e=>e instanceof Error?e:new Error(e),Lh=e=>{var t,n,r,s;if(typeof process<"u")return((t=xr==null?void 0:xr[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function CS(e){if(!e)return!0;for(const t in e)return!1;return!0}function AS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mh(e,t){for(const n in t){if(!AS(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}function Pr(e,...t){typeof process<"u"&&(xr==null?void 0:xr.DEBUG)==="true"&&console.log(`Groq:DEBUG:${e}`,...t)}const xS=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),PS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class St extends Error{}let Ze=class dc extends St{constructor(t,n,r,s){super(`${dc.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.error=n}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t)return new Xl({cause:fc(n)});const i=n;return t===400?new eg(t,i,r,s):t===401?new tg(t,i,r,s):t===403?new ng(t,i,r,s):t===404?new rg(t,i,r,s):t===409?new sg(t,i,r,s):t===422?new ig(t,i,r,s):t===429?new og(t,i,r,s):t>=500?new lg(t,i,r,s):new dc(t,i,r,s)}},hc=class extends Ze{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}},Xl=class extends Ze{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}},Zy=class extends Xl{constructor({message:t}={}){super({message:t??"Request timed out."})}},eg=class extends Ze{constructor(){super(...arguments),this.status=400}},tg=class extends Ze{constructor(){super(...arguments),this.status=401}},ng=class extends Ze{constructor(){super(...arguments),this.status=403}},rg=class extends Ze{constructor(){super(...arguments),this.status=404}},sg=class extends Ze{constructor(){super(...arguments),this.status=409}},ig=class extends Ze{constructor(){super(...arguments),this.status=422}},og=class extends Ze{constructor(){super(...arguments),this.status=429}},lg=class extends Ze{},kn=class{constructor(t){this._client=t}},Wo=class extends kn{create(t,n){return this._client.post("/openai/v1/audio/transcriptions",Jy({body:t,...n}))}};Wo||(Wo={});let Vo=class extends kn{create(t,n){return this._client.post("/openai/v1/audio/translations",Jy({body:t,...n}))}};Vo||(Vo={});let qo=class extends kn{constructor(){super(...arguments),this.transcriptions=new Wo(this._client),this.translations=new Vo(this._client)}};(function(e){e.Transcriptions=Wo,e.Translations=Vo})(qo||(qo={}));let Ho=class extends kn{create(t,n){return this._client.post("/openai/v1/chat/completions",{body:t,...n,stream:t.stream??!1})}};Ho||(Ho={});let Qo=class extends kn{constructor(){super(...arguments),this.completions=new Ho(this._client)}};(function(e){e.Completions=Ho})(Qo||(Qo={}));let Jo=class extends kn{};Jo||(Jo={});let Xo=class extends kn{create(t,n){return this._client.post("/openai/v1/embeddings",{body:t,...n})}};Xo||(Xo={});let Yo=class extends kn{retrieve(t,n){return this._client.get(`/openai/v1/models/${t}`,n)}list(t){return this._client.get("/openai/v1/models",t)}delete(t,n){return this._client.delete(`/openai/v1/models/${t}`,n)}};Yo||(Yo={});var ag;class ie extends mS{constructor({baseURL:t=Lh("GROQ_BASE_URL"),apiKey:n=Lh("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new St("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const s={apiKey:n,...r,baseURL:t||"https://api.groq.com"};if(!s.dangerouslyAllowBrowser&&PS())throw new St(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:s.baseURL,timeout:s.timeout??6e4,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new Jo(this),this.chat=new Qo(this),this.embeddings=new Xo(this),this.audio=new qo(this),this.models=new Yo(this),this._options=s,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}}ag=ie;ie.Groq=ag;ie.DEFAULT_TIMEOUT=6e4;ie.GroqError=St;ie.APIError=Ze;ie.APIConnectionError=Xl;ie.APIConnectionTimeoutError=Zy;ie.APIUserAbortError=hc;ie.NotFoundError=rg;ie.ConflictError=sg;ie.RateLimitError=og;ie.BadRequestError=eg;ie.AuthenticationError=tg;ie.InternalServerError=lg;ie.PermissionDeniedError=ng;ie.UnprocessableEntityError=ig;ie.toFile=Qy;ie.fileFromPath=Wy;(function(e){e.Completions=Jo,e.Chat=Qo,e.Embeddings=Xo,e.Audio=qo,e.Models=Yo})(ie||(ie={}));const jf=Symbol.for("yaml.alias"),pc=Symbol.for("yaml.document"),pn=Symbol.for("yaml.map"),ug=Symbol.for("yaml.pair"),$t=Symbol.for("yaml.scalar"),Qr=Symbol.for("yaml.seq"),at=Symbol.for("yaml.node.type"),Qn=e=>!!e&&typeof e=="object"&&e[at]===jf,Jn=e=>!!e&&typeof e=="object"&&e[at]===pc,Jr=e=>!!e&&typeof e=="object"&&e[at]===pn,J=e=>!!e&&typeof e=="object"&&e[at]===ug,W=e=>!!e&&typeof e=="object"&&e[at]===$t,Xr=e=>!!e&&typeof e=="object"&&e[at]===Qr;function G(e){if(e&&typeof e=="object")switch(e[at]){case pn:case Qr:return!0}return!1}function ee(e){if(e&&typeof e=="object")switch(e[at]){case jf:case pn:case $t:case Qr:return!0}return!1}const NS=e=>(W(e)||G(e))&&!!e.anchor,De=Symbol("break visit"),cg=Symbol("skip children"),Tt=Symbol("remove node");function gn(e,t){const n=fg(t);Jn(e)?yr(null,e.contents,n,Object.freeze([e]))===Tt&&(e.contents=null):yr(null,e,n,Object.freeze([]))}gn.BREAK=De;gn.SKIP=cg;gn.REMOVE=Tt;function yr(e,t,n,r){const s=dg(e,t,n,r);if(ee(s)||J(s))return hg(e,r,s),yr(e,s,n,r);if(typeof s!="symbol"){if(G(t)){r=Object.freeze(r.concat(t));for(let i=0;i<t.items.length;++i){const o=yr(i,t.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===De)return De;o===Tt&&(t.items.splice(i,1),i-=1)}}}else if(J(t)){r=Object.freeze(r.concat(t));const i=yr("key",t.key,n,r);if(i===De)return De;i===Tt&&(t.key=null);const o=yr("value",t.value,n,r);if(o===De)return De;o===Tt&&(t.value=null)}}return s}async function Yl(e,t){const n=fg(t);Jn(e)?await gr(null,e.contents,n,Object.freeze([e]))===Tt&&(e.contents=null):await gr(null,e,n,Object.freeze([]))}Yl.BREAK=De;Yl.SKIP=cg;Yl.REMOVE=Tt;async function gr(e,t,n,r){const s=await dg(e,t,n,r);if(ee(s)||J(s))return hg(e,r,s),gr(e,s,n,r);if(typeof s!="symbol"){if(G(t)){r=Object.freeze(r.concat(t));for(let i=0;i<t.items.length;++i){const o=await gr(i,t.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===De)return De;o===Tt&&(t.items.splice(i,1),i-=1)}}}else if(J(t)){r=Object.freeze(r.concat(t));const i=await gr("key",t.key,n,r);if(i===De)return De;i===Tt&&(t.key=null);const o=await gr("value",t.value,n,r);if(o===De)return De;o===Tt&&(t.value=null)}}return s}function fg(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function dg(e,t,n,r){var s,i,o,l,a;if(typeof n=="function")return n(e,t,r);if(Jr(t))return(s=n.Map)==null?void 0:s.call(n,e,t,r);if(Xr(t))return(i=n.Seq)==null?void 0:i.call(n,e,t,r);if(J(t))return(o=n.Pair)==null?void 0:o.call(n,e,t,r);if(W(t))return(l=n.Scalar)==null?void 0:l.call(n,e,t,r);if(Qn(t))return(a=n.Alias)==null?void 0:a.call(n,e,t,r)}function hg(e,t,n){const r=t[t.length-1];if(G(r))r.items[e]=n;else if(J(r))e==="key"?r.key=n:r.value=n;else if(Jn(r))r.contents=n;else{const s=Qn(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const IS={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},OS=e=>e.replace(/[!,[\]{}]/g,t=>IS[t]);class Oe{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Oe.defaultYaml,t),this.tags=Object.assign({},Oe.defaultTags,n)}clone(){const t=new Oe(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Oe(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Oe.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Oe.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Oe.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Oe.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=t.match(/^(.*!)([^!]*)$/s);s||n(`The ${t} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+OS(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(t&&r.length>0&&ee(t.contents)){const i={};gn(t.contents,(o,l)=>{ee(l)&&l.tag&&(i[l.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!t||s.some(l=>l.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}Oe.defaultYaml={explicit:!1,version:"1.2"};Oe.defaultTags={"!!":"tag:yaml.org,2002:"};function pg(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function mg(e){const t=new Set;return gn(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function yg(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function RS(e,t){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s||(s=mg(e));const o=yg(t,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(W(o.node)||G(o.node)))o.node.anchor=o.anchor;else{const l=new Error("Failed to resolve repeated object (this should not happen)");throw l.source=i,l}}},sourceObjects:r}}function wr(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],l=wr(e,r,String(s),o);l===void 0?delete r[s]:l!==o&&(r[s]=l)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=wr(e,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=wr(e,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=wr(e,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return e.call(t,n,r)}function it(e,t,n){if(Array.isArray(e))return e.map((r,s)=>it(r,String(s),n));if(e&&typeof e.toJSON=="function"){if(!n||!NS(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=e.toJSON(t,n);return n.onCreate&&n.onCreate(s),s}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class Ff{constructor(t){Object.defineProperty(this,at,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Jn(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=it(this,"",o);if(typeof s=="function")for(const{count:a,res:u}of o.anchors.values())s(u,a);return typeof i=="function"?wr(i,{"":l},"",l):l}}class Gl extends Ff{constructor(t){super(jf),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return gn(t,{Node:(r,s)=>{if(s===this)return gn.BREAK;s.anchor===this.source&&(n=s)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s);if(!o){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(a)}let l=r.get(o);if(l||(it(o,null,n),l=r.get(o)),!l||l.res===void 0){const a="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(a)}if(i>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=io(s,o,r)),l.count*l.aliasCount>i)){const a="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(a)}return l.res}toString(t,n,r){const s=`*${this.source}`;if(t){if(pg(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(t.implicitKey)return`${s} `}return s}}function io(e,t,n){if(Qn(t)){const r=t.resolve(e),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(G(t)){let r=0;for(const s of t.items){const i=io(e,s,n);i>r&&(r=i)}return r}else if(J(t)){const r=io(e,t.key,n),s=io(e,t.value,n);return Math.max(r,s)}return 1}const gg=e=>!e||typeof e!="function"&&typeof e!="object";class T extends Ff{constructor(t){super($t),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:it(this.value,t,n)}toString(){return String(this.value)}}T.BLOCK_FOLDED="BLOCK_FOLDED";T.BLOCK_LITERAL="BLOCK_LITERAL";T.PLAIN="PLAIN";T.QUOTE_DOUBLE="QUOTE_DOUBLE";T.QUOTE_SINGLE="QUOTE_SINGLE";const TS="tag:yaml.org,2002:";function $S(e,t,n){if(t){const r=n.filter(i=>i.tag===t),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find(r=>{var s;return((s=r.identify)==null?void 0:s.call(r,e))&&!r.format})}function ei(e,t,n){var c,d,p;if(Jn(e)&&(e=e.contents),ee(e))return e;if(J(e)){const v=(d=(c=n.schema[pn]).createNode)==null?void 0:d.call(c,n.schema,null,n);return v.items.push(e),v}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:l}=n;let a;if(r&&e&&typeof e=="object"){if(a=l.get(e),a)return a.anchor||(a.anchor=s(e)),new Gl(a.anchor);a={anchor:null,node:null},l.set(e,a)}t!=null&&t.startsWith("!!")&&(t=TS+t.slice(2));let u=$S(e,t,o.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const v=new T(e);return a&&(a.node=v),v}u=e instanceof Map?o[pn]:Symbol.iterator in Object(e)?o[Qr]:o[pn]}i&&(i(u),delete n.onTagObj);const h=u!=null&&u.createNode?u.createNode(n.schema,e,n):typeof((p=u==null?void 0:u.nodeClass)==null?void 0:p.from)=="function"?u.nodeClass.from(n.schema,e,n):new T(e);return t?h.tag=t:u.default||(h.tag=u.tag),a&&(a.node=h),h}function Go(e,t,n){let r=n;for(let s=t.length-1;s>=0;--s){const i=t[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return ei(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const ys=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class wg extends Ff{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>ee(r)||J(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(ys(t))this.add(n);else{const[r,...s]=t,i=this.get(r,!0);if(G(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,Go(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(G(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...s]=t,i=this.get(r,!0);return s.length===0?!n&&W(i)?i.value:i:G(i)?i.getIn(s,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!J(n))return!1;const r=n.value;return r==null||t&&W(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const s=this.get(n,!0);return G(s)?s.hasIn(r):!1}setIn(t,n){const[r,...s]=t;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(G(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,Go(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const LS=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Ut(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Rn=(e,t,n)=>e.endsWith(`
`)?Ut(n,t):n.includes(`
`)?`
`+Ut(n,t):(e.endsWith(" ")?"":" ")+n,vg="flow",mc="block",oo="quoted";function Zl(e,t,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:l}={}){if(!s||s<0)return e;s<i&&(i=0);const a=Math.max(1+i,1+s-t.length);if(e.length<=a)return e;const u=[],h={};let c=s-t.length;typeof r=="number"&&(r>s-Math.max(2,i)?u.push(0):c=s-r);let d,p,v=!1,y=-1,w=-1,m=-1;n===mc&&(y=Dh(e,y,t.length),y!==-1&&(c=y+a));for(let g;g=e[y+=1];){if(n===oo&&g==="\\"){switch(w=y,e[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}m=y}if(g===`
`)n===mc&&(y=Dh(e,y,t.length)),c=y+t.length+a,d=void 0;else{if(g===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){const S=e[y+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(d=y)}if(y>=c)if(d)u.push(d),c=d+a,d=void 0;else if(n===oo){for(;p===" "||p==="	";)p=g,g=e[y+=1],v=!0;const S=y>m+1?y-2:w-1;if(h[S])return e;u.push(S),h[S]=!0,c=S+a,d=void 0}else v=!0}p=g}if(v&&l&&l(),u.length===0)return e;o&&o();let f=e.slice(0,u[0]);for(let g=0;g<u.length;++g){const S=u[g],k=u[g+1]||e.length;S===0?f=`
${t}${e.slice(0,k)}`:(n===oo&&h[S]&&(f+=`${e[S]}\\`),f+=`
${t}${e.slice(S+1,k)}`)}return f}function Dh(e,t,n){let r=t,s=t+1,i=e[s];for(;i===" "||i==="	";)if(t<s+n)i=e[++t];else{do i=e[++t];while(i&&i!==`
`);r=t,s=t+1,i=e[s]}return r}const ea=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),ta=e=>/^(%|---|\.\.\.)/m.test(e);function MS(e,t,n){if(!t||t<0)return!1;const r=t-n,s=e.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(e[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function $s(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,s=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(ta(e)?"  ":"");let o="",l=0;for(let a=0,u=n[a];u;u=n[++a])if(u===" "&&n[a+1]==="\\"&&n[a+2]==="n"&&(o+=n.slice(l,a)+"\\ ",a+=1,l=a,u="\\"),u==="\\")switch(n[a+1]){case"u":{o+=n.slice(l,a);const h=n.substr(a+2,4);switch(h){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:h.substr(0,2)==="00"?o+="\\x"+h.substr(2):o+=n.substr(a,6)}a+=5,l=a+1}break;case"n":if(r||n[a+2]==='"'||n.length<s)a+=1;else{for(o+=n.slice(l,a)+`

`;n[a+2]==="\\"&&n[a+3]==="n"&&n[a+4]!=='"';)o+=`
`,a+=2;o+=i,n[a+2]===" "&&(o+="\\"),a+=1,l=a+1}break;default:a+=1}return o=l?o+n.slice(l):n,r?o:Zl(o,i,oo,ea(t,!1))}function yc(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return $s(e,t);const n=t.indent||(ta(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Zl(r,n,vg,ea(t,!1))}function vr(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=$s;else{const s=e.includes('"'),i=e.includes("'");s&&!i?r=yc:i&&!s?r=$s:r=n?yc:$s}return r(e,t)}let gc;try{gc=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{gc=/\n+(?!\n|$)/g}function lo({comment:e,type:t,value:n},r,s,i){const{blockQuote:o,commentString:l,lineWidth:a}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return vr(n,r);const u=r.indent||(r.forceBlockIndent||ta(n)?"  ":""),h=o==="literal"?!0:o==="folded"||t===T.BLOCK_FOLDED?!1:t===T.BLOCK_LITERAL?!0:!MS(n,a,u.length);if(!n)return h?`|
`:`>
`;let c,d;for(d=n.length;d>0;--d){const _=n[d-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let p=n.substring(d);const v=p.indexOf(`
`);v===-1?c="-":n===p||v!==p.length-1?(c="+",i&&i()):c="",p&&(n=n.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(gc,`$&${u}`));let y=!1,w,m=-1;for(w=0;w<n.length;++w){const _=n[w];if(_===" ")y=!0;else if(_===`
`)m=w;else break}let f=n.substring(0,m<w?m+1:w);f&&(n=n.substring(f.length),f=f.replace(/\n+/g,`$&${u}`));let S=(h?"|":">")+(y?u?"2":"1":"")+c;if(e&&(S+=" "+l(e.replace(/ ?[\r\n]+/g," ")),s&&s()),h)return n=n.replace(/\n+/g,`$&${u}`),`${S}
${u}${f}${n}${p}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);const k=Zl(`${f}${n}${p}`,u,mc,ea(r,!0));return`${S}
${u}${k}`}function DS(e,t,n,r){const{type:s,value:i}=e,{actualString:o,implicitKey:l,indent:a,indentStep:u,inFlow:h}=t;if(l&&i.includes(`
`)||h&&/[[\]{},]/.test(i))return vr(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return l||h||!i.includes(`
`)?vr(i,t):lo(e,t,n,r);if(!l&&!h&&s!==T.PLAIN&&i.includes(`
`))return lo(e,t,n,r);if(ta(i)){if(a==="")return t.forceBlockIndent=!0,lo(e,t,n,r);if(l&&a===u)return vr(i,t)}const c=i.replace(/\n+/g,`$&
${a}`);if(o){const d=y=>{var w;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((w=y.test)==null?void 0:w.test(c))},{compat:p,tags:v}=t.doc.schema;if(v.some(d)||p!=null&&p.some(d))return vr(i,t)}return l?c:Zl(c,a,vg,ea(t,!1))}function ci(e,t,n,r){const{implicitKey:s,inFlow:i}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:l}=e;l!==T.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(l=T.QUOTE_DOUBLE);const a=h=>{switch(h){case T.BLOCK_FOLDED:case T.BLOCK_LITERAL:return s||i?vr(o.value,t):lo(o,t,n,r);case T.QUOTE_DOUBLE:return $s(o.value,t);case T.QUOTE_SINGLE:return yc(o.value,t);case T.PLAIN:return DS(o,t,n,r);default:return null}};let u=a(l);if(u===null){const{defaultKeyType:h,defaultStringType:c}=t.options,d=s&&h||c;if(u=a(d),u===null)throw new Error(`Unsupported default string type ${d}`)}return u}function Sg(e,t){const n=Object.assign({blockQuote:!0,commentString:LS,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function BS(e,t){var s;if(t.tag){const i=e.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)??i[0]}let n,r;if(W(t)){r=t.value;let i=e.filter(o=>{var l;return(l=o.identify)==null?void 0:l.call(o,r)});if(i.length>1){const o=i.filter(l=>l.test);o.length>0&&(i=o)}n=i.find(o=>o.format===t.format)??i.find(o=>!o.format)}else r=t,n=e.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=((s=r==null?void 0:r.constructor)==null?void 0:s.name)??typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function jS(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(W(e)||G(e))&&e.anchor;i&&pg(i)&&(n.add(i),s.push(`&${i}`));const o=e.tag?e.tag:t.default?null:t.tag;return o&&s.push(r.directives.tagString(o)),s.join(" ")}function zr(e,t,n,r){var a;if(J(e))return e.toString(t,n,r);if(Qn(e)){if(t.doc.directives)return e.toString(t);if((a=t.resolvedAliases)!=null&&a.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const i=ee(e)?e:t.doc.createNode(e,{onTagObj:u=>s=u});s||(s=BS(t.doc.schema.tags,i));const o=jS(i,s,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const l=typeof s.stringify=="function"?s.stringify(i,t,n,r):W(i)?ci(i,t,n,r):i.toString(t,n,r);return o?W(i)||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${t.indent}${l}`:l}function FS({key:e,value:t},n,r,s){const{allNullValues:i,doc:o,indent:l,indentStep:a,options:{commentString:u,indentSeq:h,simpleKeys:c}}=n;let d=ee(e)&&e.comment||null;if(c){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(G(e)||!ee(e)&&typeof e=="object"){const b="With simple keys, collection cannot be used as a key value";throw new Error(b)}}let p=!c&&(!e||d&&t==null&&!n.inFlow||G(e)||(W(e)?e.type===T.BLOCK_FOLDED||e.type===T.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(c||!i),indent:l+a});let v=!1,y=!1,w=zr(e,n,()=>v=!0,()=>y=!0);if(!p&&!n.inFlow&&w.length>1024){if(c)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||t==null)return v&&r&&r(),w===""?"?":p?`? ${w}`:w}else if(i&&!c||t==null&&p)return w=`? ${w}`,d&&!v?w+=Rn(w,n.indent,u(d)):y&&s&&s(),w;v&&(d=null),p?(d&&(w+=Rn(w,n.indent,u(d))),w=`? ${w}
${l}:`):(w=`${w}:`,d&&(w+=Rn(w,n.indent,u(d))));let m,f,g;ee(t)?(m=!!t.spaceBefore,f=t.commentBefore,g=t.comment):(m=!1,f=null,g=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!p&&!d&&W(t)&&(n.indentAtStart=w.length+1),y=!1,!h&&a.length>=2&&!n.inFlow&&!p&&Xr(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let S=!1;const k=zr(t,n,()=>S=!0,()=>y=!0);let _=" ";if(d||m||f){if(_=m?`
`:"",f){const b=u(f);_+=`
${Ut(b,n.indent)}`}k===""&&!n.inFlow?_===`
`&&(_=`

`):_+=`
${n.indent}`}else if(!p&&G(t)){const b=k[0],E=k.indexOf(`
`),I=E!==-1,x=n.inFlow??t.flow??t.items.length===0;if(I||!x){let R=!1;if(I&&(b==="&"||b==="!")){let F=k.indexOf(" ");b==="&"&&F!==-1&&F<E&&k[F+1]==="!"&&(F=k.indexOf(" ",F+1)),(F===-1||E<F)&&(R=!0)}R||(_=`
${n.indent}`)}}else(k===""||k[0]===`
`)&&(_="");return w+=_+k,n.inFlow?S&&r&&r():g&&!S?w+=Rn(w,n.indent,u(g)):y&&s&&s(),w}function _g(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const Di="<<",Kt={identify:e=>e===Di||typeof e=="symbol"&&e.description===Di,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new T(Symbol(Di)),{addToJSMap:kg}),stringify:()=>Di},US=(e,t)=>(Kt.identify(t)||W(t)&&(!t.type||t.type===T.PLAIN)&&Kt.identify(t.value))&&(e==null?void 0:e.doc.schema.tags.some(n=>n.tag===Kt.tag&&n.default));function kg(e,t,n){if(n=e&&Qn(n)?n.resolve(e.doc):n,Xr(n))for(const r of n.items)Qa(e,t,r);else if(Array.isArray(n))for(const r of n)Qa(e,t,r);else Qa(e,t,n)}function Qa(e,t,n){const r=e&&Qn(n)?n.resolve(e.doc):n;if(!Jr(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,e,Map);for(const[i,o]of s)t instanceof Map?t.has(i)||t.set(i,o):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function Eg(e,t,{key:n,value:r}){if(ee(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(US(e,n))kg(e,t,r);else{const s=it(n,"",e);if(t instanceof Map)t.set(s,it(r,s,e));else if(t instanceof Set)t.add(s);else{const i=zS(n,s,e),o=it(r,i,e);i in t?Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[i]=o}}return t}function zS(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(ee(e)&&(n!=null&&n.doc)){const r=Sg(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=e.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),_g(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}function Uf(e,t,n){const r=ei(e,void 0,n),s=ei(t,void 0,n);return new Pe(r,s)}class Pe{constructor(t,n=null){Object.defineProperty(this,at,{value:ug}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return ee(n)&&(n=n.clone(t)),ee(r)&&(r=r.clone(t)),new Pe(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return Eg(n,r,this)}toString(t,n,r){return t!=null&&t.doc?FS(this,t,n,r):JSON.stringify(this)}}function bg(e,t,n){return(t.inFlow??e.flow?WS:KS)(e,t,n)}function KS({comment:e,items:t},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:l}){const{indent:a,options:{commentString:u}}=n,h=Object.assign({},n,{indent:i,type:null});let c=!1;const d=[];for(let v=0;v<t.length;++v){const y=t[v];let w=null;if(ee(y))!c&&y.spaceBefore&&d.push(""),Zo(n,d,y.commentBefore,c),y.comment&&(w=y.comment);else if(J(y)){const f=ee(y.key)?y.key:null;f&&(!c&&f.spaceBefore&&d.push(""),Zo(n,d,f.commentBefore,c))}c=!1;let m=zr(y,h,()=>w=null,()=>c=!0);w&&(m+=Rn(m,i,u(w))),c&&w&&(c=!1),d.push(r+m)}let p;if(d.length===0)p=s.start+s.end;else{p=d[0];for(let v=1;v<d.length;++v){const y=d[v];p+=y?`
${a}${y}`:`
`}}return e?(p+=`
`+Ut(u(e),a),l&&l()):c&&o&&o(),p}function WS({items:e},t,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:l}}=t;r+=i;const a=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,h=0;const c=[];for(let v=0;v<e.length;++v){const y=e[v];let w=null;if(ee(y))y.spaceBefore&&c.push(""),Zo(t,c,y.commentBefore,!1),y.comment&&(w=y.comment);else if(J(y)){const f=ee(y.key)?y.key:null;f&&(f.spaceBefore&&c.push(""),Zo(t,c,f.commentBefore,!1),f.comment&&(u=!0));const g=ee(y.value)?y.value:null;g?(g.comment&&(w=g.comment),g.commentBefore&&(u=!0)):y.value==null&&(f!=null&&f.comment)&&(w=f.comment)}w&&(u=!0);let m=zr(y,a,()=>w=null);v<e.length-1&&(m+=","),w&&(m+=Rn(m,r,l(w))),!u&&(c.length>h||m.includes(`
`))&&(u=!0),c.push(m),h=c.length}const{start:d,end:p}=n;if(c.length===0)return d+p;if(!u){const v=c.reduce((y,w)=>y+w.length+2,2);u=t.options.lineWidth>0&&v>t.options.lineWidth}if(u){let v=d;for(const y of c)v+=y?`
${i}${s}${y}`:`
`;return`${v}
${s}${p}`}else return`${d}${o}${c.join(" ")}${o}${p}`}function Zo({indent:e,options:{commentString:t}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=Ut(t(r),e);n.push(i.trimStart())}}function Tn(e,t){const n=W(t)?t.value:t;for(const r of e)if(J(r)&&(r.key===t||r.key===n||W(r.key)&&r.key.value===n))return r}class He extends wg{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(pn,t),this.items=[]}static from(t,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(t),l=(a,u)=>{if(typeof i=="function")u=i.call(n,a,u);else if(Array.isArray(i)&&!i.includes(a))return;(u!==void 0||s)&&o.items.push(Uf(a,u,r))};if(n instanceof Map)for(const[a,u]of n)l(a,u);else if(n&&typeof n=="object")for(const a of Object.keys(n))l(a,n[a]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,n){var o;let r;J(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Pe(t,t==null?void 0:t.value):r=new Pe(t.key,t.value);const s=Tn(this.items,r.key),i=(o=this.schema)==null?void 0:o.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);W(s.value)&&gg(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const l=this.items.findIndex(a=>i(r,a)<0);l===-1?this.items.push(r):this.items.splice(l,0,r)}else this.items.push(r)}delete(t){const n=Tn(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Tn(this.items,t),s=r==null?void 0:r.value;return(!n&&W(s)?s.value:s)??void 0}has(t){return!!Tn(this.items,t)}set(t,n){this.add(new Pe(t,n),!0)}toJSON(t,n,r){const s=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items)Eg(n,s,i);return s}toString(t,n,r){if(!t)return JSON.stringify(this);for(const s of this.items)if(!J(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),bg(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Yr={collection:"map",default:!0,nodeClass:He,tag:"tag:yaml.org,2002:map",resolve(e,t){return Jr(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>He.from(e,t,n)};class wn extends wg{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Qr,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=Bi(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=Bi(t);if(typeof r!="number")return;const s=this.items[r];return!n&&W(s)?s.value:s}has(t){const n=Bi(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=Bi(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const s=this.items[r];W(s)&&gg(n)?s.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(it(i,String(s++),n));return r}toString(t,n,r){return t?bg(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n)){let o=0;for(let l of n){if(typeof s=="function"){const a=n instanceof Set?l:String(o++);l=s.call(n,a,l)}i.items.push(ei(l,void 0,r))}}return i}}function Bi(e){let t=W(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Gr={collection:"seq",default:!0,nodeClass:wn,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Xr(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>wn.from(e,t,n)},na={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),ci(e,t,n,r)}},ra={identify:e=>e==null,createNode:()=>new T(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new T(null),stringify:({source:e},t)=>typeof e=="string"&&ra.test.test(e)?e:t.options.nullStr},zf={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new T(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&zf.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function kt({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let l=t-(i.length-o-1);for(;l-- >0;)i+="0"}return i}const Cg={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:kt},Ag={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():kt(e)}},xg={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new T(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:kt},sa=e=>typeof e=="bigint"||Number.isInteger(e),Kf=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function Pg(e,t,n){const{value:r}=e;return sa(r)&&r>=0?n+r.toString(t):kt(e)}const Ng={identify:e=>sa(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Kf(e,2,8,n),stringify:e=>Pg(e,8,"0o")},Ig={identify:sa,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Kf(e,0,10,n),stringify:kt},Og={identify:e=>sa(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Kf(e,2,16,n),stringify:e=>Pg(e,16,"0x")},VS=[Yr,Gr,na,ra,zf,Ng,Ig,Og,Cg,Ag,xg];function Bh(e){return typeof e=="bigint"||Number.isInteger(e)}const ji=({value:e})=>JSON.stringify(e),qS=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:ji},{identify:e=>e==null,createNode:()=>new T(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:ji},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:ji},{identify:Bh,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Bh(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:ji}],HS={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},QS=[Yr,Gr].concat(qS,HS),Wf={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,s,i){const o=n;let l;if(typeof Buffer=="function")l=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);l=btoa(a)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=T.BLOCK_LITERAL),t!==T.QUOTE_DOUBLE){const a=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(l.length/a),h=new Array(u);for(let c=0,d=0;c<u;++c,d+=a)h[c]=l.substr(d,a);l=h.join(t===T.BLOCK_LITERAL?`
`:" ")}return ci({comment:e,type:t,value:l},r,s,i)}};function Rg(e,t){if(Xr(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!J(r)){if(Jr(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const s=r.items[0]||new Pe(new T(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}e.items[n]=J(r)?r:new Pe(r)}}else t("Expected a sequence for this tag");return e}function Tg(e,t,n){const{replacer:r}=n,s=new wn(e);s.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(i++),o));let l,a;if(Array.isArray(o))if(o.length===2)l=o[0],a=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)l=u[0],a=o[l];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else l=o;s.items.push(Uf(l,a,n))}return s}const Vf={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Rg,createNode:Tg};class Nr extends wn{constructor(){super(),this.add=He.prototype.add.bind(this),this.delete=He.prototype.delete.bind(this),this.get=He.prototype.get.bind(this),this.has=He.prototype.has.bind(this),this.set=He.prototype.set.bind(this),this.tag=Nr.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(J(s)?(i=it(s.key,"",n),o=it(s.value,i,n)):i=it(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(t,n,r){const s=Tg(t,n,r),i=new this;return i.items=s.items,i}}Nr.tag="tag:yaml.org,2002:omap";const qf={collection:"seq",identify:e=>e instanceof Map,nodeClass:Nr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Rg(e,t),r=[];for(const{key:s}of n.items)W(s)&&(r.includes(s.value)?t(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new Nr,n)},createNode:(e,t,n)=>Nr.from(e,t,n)};function $g({value:e,source:t},n){return t&&(e?Lg:Mg).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const Lg={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new T(!0),stringify:$g},Mg={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new T(!1),stringify:$g},JS={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:kt},XS={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():kt(e)}},YS={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new T(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:kt},fi=e=>typeof e=="bigint"||Number.isInteger(e);function ia(e,t,n,{intAsBigInt:r}){const s=e[0];if((s==="-"||s==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return s==="-"?BigInt(-1)*o:o}const i=parseInt(e,n);return s==="-"?-1*i:i}function Hf(e,t,n){const{value:r}=e;if(fi(r)){const s=r.toString(t);return r<0?"-"+n+s.substr(1):n+s}return kt(e)}const GS={identify:fi,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>ia(e,2,2,n),stringify:e=>Hf(e,2,"0b")},ZS={identify:fi,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>ia(e,1,8,n),stringify:e=>Hf(e,8,"0")},e_={identify:fi,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>ia(e,0,10,n),stringify:kt},t_={identify:fi,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>ia(e,2,16,n),stringify:e=>Hf(e,16,"0x")};class Ir extends He{constructor(t){super(t),this.tag=Ir.tag}add(t){let n;J(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Pe(t.key,null):n=new Pe(t,null),Tn(this.items,n.key)||this.items.push(n)}get(t,n){const r=Tn(this.items,t);return!n&&J(r)?W(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Tn(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Pe(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(Uf(o,null,r));return i}}Ir.tag="tag:yaml.org,2002:set";const Qf={collection:"map",identify:e=>e instanceof Set,nodeClass:Ir,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Ir.from(e,t,n),resolve(e,t){if(Jr(e)){if(e.hasAllNullValues(!0))return Object.assign(new Ir,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Jf(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,s=o=>t?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,l)=>o*s(60)+s(l),s(0));return n==="-"?s(-1)*i:i}function Dg(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return kt(e);let r="";t<0&&(r="-",t*=n(-1));const s=n(60),i=[t%s];return t<60?i.unshift(0):(t=(t-i[0])/s,i.unshift(t%s),t>=60&&(t=(t-i[0])/s,i.unshift(t))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Bg={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Jf(e,n),stringify:Dg},jg={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Jf(e,!1),stringify:Dg},oa={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(oa.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,l]=t.map(Number),a=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,s,i||0,o||0,l||0,a);const h=t[8];if(h&&h!=="Z"){let c=Jf(h,!1);Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},jh=[Yr,Gr,na,ra,Lg,Mg,GS,ZS,e_,t_,JS,XS,YS,Wf,Kt,qf,Vf,Qf,Bg,jg,oa],Fh=new Map([["core",VS],["failsafe",[Yr,Gr,na]],["json",QS],["yaml11",jh],["yaml-1.1",jh]]),Uh={binary:Wf,bool:zf,float:xg,floatExp:Ag,floatNaN:Cg,floatTime:jg,int:Ig,intHex:Og,intOct:Ng,intTime:Bg,map:Yr,merge:Kt,null:ra,omap:qf,pairs:Vf,seq:Gr,set:Qf,timestamp:oa},n_={"tag:yaml.org,2002:binary":Wf,"tag:yaml.org,2002:merge":Kt,"tag:yaml.org,2002:omap":qf,"tag:yaml.org,2002:pairs":Vf,"tag:yaml.org,2002:set":Qf,"tag:yaml.org,2002:timestamp":oa};function Ja(e,t,n){const r=Fh.get(t);if(r&&!e)return n&&!r.includes(Kt)?r.concat(Kt):r.slice();let s=r;if(!s)if(Array.isArray(e))s=[];else{const i=Array.from(Fh.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${i} or define customTags array`)}if(Array.isArray(e))for(const i of e)s=s.concat(i);else typeof e=="function"&&(s=e(s.slice()));return n&&(s=s.concat(Kt)),s.reduce((i,o)=>{const l=typeof o=="string"?Uh[o]:o;if(!l){const a=JSON.stringify(o),u=Object.keys(Uh).map(h=>JSON.stringify(h)).join(", ");throw new Error(`Unknown custom tag ${a}; use one of ${u}`)}return i.includes(l)||i.push(l),i},[])}const r_=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class la{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:l}){this.compat=Array.isArray(t)?Ja(t,"compat"):t?Ja(null,t):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?n_:{},this.tags=Ja(n,this.name,r),this.toStringOptions=l??null,Object.defineProperty(this,pn,{value:Yr}),Object.defineProperty(this,$t,{value:na}),Object.defineProperty(this,Qr,{value:Gr}),this.sortMapEntries=typeof o=="function"?o:o===!0?r_:null}clone(){const t=Object.create(la.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function s_(e,t){var a;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const u=e.directives.toString(e);u?(n.push(u),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const s=Sg(e,t),{commentString:i}=s.options;if(e.commentBefore){n.length!==1&&n.unshift("");const u=i(e.commentBefore);n.unshift(Ut(u,""))}let o=!1,l=null;if(e.contents){if(ee(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const c=i(e.contents.commentBefore);n.push(Ut(c,""))}s.forceBlockIndent=!!e.comment,l=e.contents.comment}const u=l?void 0:()=>o=!0;let h=zr(e.contents,s,()=>l=null,u);l&&(h+=Rn(h,"",i(l))),(h[0]==="|"||h[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${h}`:n.push(h)}else n.push(zr(e.contents,s));if((a=e.directives)!=null&&a.docEnd)if(e.comment){const u=i(e.comment);u.includes(`
`)?(n.push("..."),n.push(Ut(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=e.comment;u&&o&&(u=u.replace(/^\n+/,"")),u&&((!o||l)&&n[n.length-1]!==""&&n.push(""),n.push(Ut(i(u),"")))}return n.join(`
`)+`
`}class Zr{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,at,{value:pc});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Oe({version:o}),this.setSchema(o,r),this.contents=t===void 0?null:this.createNode(t,s,r)}clone(){const t=Object.create(Zr.prototype,{[at]:{value:pc}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=ee(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Yn(this.contents)&&this.contents.add(t)}addIn(t,n){Yn(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=mg(this);t.anchor=!n||r.has(n)?yg(n||"a",r):n}return new Gl(t.anchor)}createNode(t,n,r){let s;if(typeof n=="function")t=n.call({"":t},"",t),s=n;else if(Array.isArray(n)){const w=f=>typeof f=="number"||f instanceof String||f instanceof Number,m=n.filter(w).map(String);m.length>0&&(n=n.concat(m)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:l,keepUndefined:a,onTagObj:u,tag:h}=r??{},{onAnchor:c,setAnchors:d,sourceObjects:p}=RS(this,o||"a"),v={aliasDuplicateObjects:i??!0,keepUndefined:a??!1,onAnchor:c,onTagObj:u,replacer:s,schema:this.schema,sourceObjects:p},y=ei(t,h,v);return l&&G(y)&&(y.flow=!0),d(),y}createPair(t,n,r={}){const s=this.createNode(t,null,r),i=this.createNode(n,null,r);return new Pe(s,i)}delete(t){return Yn(this.contents)?this.contents.delete(t):!1}deleteIn(t){return ys(t)?this.contents==null?!1:(this.contents=null,!0):Yn(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return G(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return ys(t)?!n&&W(this.contents)?this.contents.value:this.contents:G(this.contents)?this.contents.getIn(t,n):void 0}has(t){return G(this.contents)?this.contents.has(t):!1}hasIn(t){return ys(t)?this.contents!==void 0:G(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=Go(this.schema,[t],n):Yn(this.contents)&&this.contents.set(t,n)}setIn(t,n){ys(t)?this.contents=n:this.contents==null?this.contents=Go(this.schema,Array.from(t),n):Yn(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Oe({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Oe({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new la(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const l={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=it(this.contents,n??"",l);if(typeof i=="function")for(const{count:u,res:h}of l.anchors.values())i(h,u);return typeof o=="function"?wr(o,{"":a},"",a):a}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return s_(this,t)}}function Yn(e){if(G(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Xf extends Error{constructor(t,n,r,s){super(),this.name=t,this.code=r,this.message=s,this.pos=n}}class $n extends Xf{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class Fg extends Xf{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const el=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(l=>t.linePos(l));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const l=Math.min(i-39,o.length-79);o=""+o.substring(l),i-=l-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,i))){let l=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);l.length>80&&(l=l.substring(0,79)+`
`),o=l+o}if(/[^ ]/.test(o)){let l=1;const a=n.linePos[1];a&&a.line===r&&a.col>s&&(l=Math.max(1,Math.min(a.col-s,80-i)));const u=" ".repeat(i)+"^".repeat(l);n.message+=`:

${o}
${u}
`}};function Kr(e,{flow:t,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:l}){let a=!1,u=l,h=l,c="",d="",p=!1,v=!1,y=null,w=null,m=null,f=null,g=null,S=null,k=null;for(const E of e)switch(v&&(E.type!=="space"&&E.type!=="newline"&&E.type!=="comma"&&i(E.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),v=!1),y&&(u&&E.type!=="comment"&&E.type!=="newline"&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),E.type){case"space":!t&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&E.source.includes("	")&&(y=E),h=!0;break;case"comment":{h||i(E,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const I=E.source.substring(1)||" ";c?c+=d+I:c=I,d="",u=!1;break}case"newline":u?c?c+=E.source:a=!0:d+=E.source,u=!0,p=!0,(w||m)&&(f=E),h=!0;break;case"anchor":w&&i(E,"MULTIPLE_ANCHORS","A node can have at most one anchor"),E.source.endsWith(":")&&i(E.offset+E.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=E,k===null&&(k=E.offset),u=!1,h=!1,v=!0;break;case"tag":{m&&i(E,"MULTIPLE_TAGS","A node can have at most one tag"),m=E,k===null&&(k=E.offset),u=!1,h=!1,v=!0;break}case n:(w||m)&&i(E,"BAD_PROP_ORDER",`Anchors and tags must be after the ${E.source} indicator`),S&&i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.source} in ${t??"collection"}`),S=E,u=n==="seq-item-ind"||n==="explicit-key-ind",h=!1;break;case"comma":if(t){g&&i(E,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),g=E,u=!1,h=!1;break}default:i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.type} token`),u=!1,h=!1}const _=e[e.length-1],b=_?_.offset+_.source.length:s;return v&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(u&&y.indent<=o||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:g,found:S,spaceBefore:a,comment:c,hasNewline:p,anchor:w,tag:m,newlineAfterProp:f,end:b,start:k??b}}function ti(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(ti(t.key)||ti(t.value))return!0}return!1;default:return!0}}function wc(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&ti(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Ug(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||W(i)&&W(o)&&i.value===o.value;return t.some(i=>s(i.key,n))}const zh="All mapping items must start at the same column";function i_({composeNode:e,composeEmptyNode:t},n,r,s,i){var h;const o=(i==null?void 0:i.nodeClass)??He,l=new o(n.schema);n.atRoot&&(n.atRoot=!1);let a=r.offset,u=null;for(const c of r.items){const{start:d,key:p,sep:v,value:y}=c,w=Kr(d,{indicator:"explicit-key-ind",next:p??(v==null?void 0:v[0]),offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0}),m=!w.found;if(m){if(p&&(p.type==="block-seq"?s(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==r.indent&&s(a,"BAD_INDENT",zh)),!w.anchor&&!w.tag&&!v){u=w.end,w.comment&&(l.comment?l.comment+=`
`+w.comment:l.comment=w.comment);continue}(w.newlineAfterProp||ti(p))&&s(p??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((h=w.found)==null?void 0:h.indent)!==r.indent&&s(a,"BAD_INDENT",zh);n.atKey=!0;const f=w.end,g=p?e(n,p,w,s):t(n,f,d,null,w,s);n.schema.compat&&wc(r.indent,p,s),n.atKey=!1,Ug(n,l.items,g)&&s(f,"DUPLICATE_KEY","Map keys must be unique");const S=Kr(v??[],{indicator:"map-value-ind",next:y,offset:g.range[2],onError:s,parentIndent:r.indent,startOnNewline:!p||p.type==="block-scalar"});if(a=S.end,S.found){m&&((y==null?void 0:y.type)==="block-map"&&!S.hasNewline&&s(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&w.start<S.found.offset-1024&&s(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const k=y?e(n,y,S,s):t(n,a,v,null,S,s);n.schema.compat&&wc(r.indent,y,s),a=k.range[2];const _=new Pe(g,k);n.options.keepSourceTokens&&(_.srcToken=c),l.items.push(_)}else{m&&s(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),S.comment&&(g.comment?g.comment+=`
`+S.comment:g.comment=S.comment);const k=new Pe(g);n.options.keepSourceTokens&&(k.srcToken=c),l.items.push(k)}}return u&&u<a&&s(u,"IMPOSSIBLE","Map comment with trailing content"),l.range=[r.offset,a,u??a],l}function o_({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=(i==null?void 0:i.nodeClass)??wn,l=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let a=r.offset,u=null;for(const{start:h,value:c}of r.items){const d=Kr(h,{indicator:"seq-item-ind",next:c,offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||c)c&&c.type==="block-seq"?s(d.end,"BAD_INDENT","All sequence items must start at the same column"):s(a,"MISSING_CHAR","Sequence item without - indicator");else{u=d.end,d.comment&&(l.comment=d.comment);continue}const p=c?e(n,c,d,s):t(n,d.end,h,null,d,s);n.schema.compat&&wc(r.indent,c,s),a=p.range[2],l.items.push(p)}return l.range=[r.offset,a,u??a],l}function di(e,t,n,r){let s="";if(e){let i=!1,o="";for(const l of e){const{source:a,type:u}=l;switch(u){case"space":i=!0;break;case"comment":{n&&!i&&r(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const h=a.substring(1)||" ";s?s+=o+h:s=h,o="";break}case"newline":s&&(o+=a),i=!0;break;default:r(l,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=a.length}}return{comment:s,offset:t}}const Xa="Block collections are not allowed within flow collections",Ya=e=>e&&(e.type==="block-map"||e.type==="block-seq");function l_({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=r.start.source==="{",l=o?"flow map":"flow sequence",a=(i==null?void 0:i.nodeClass)??(o?He:wn),u=new a(n.schema);u.flow=!0;const h=n.atRoot;h&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=r.offset+r.start.source.length;for(let w=0;w<r.items.length;++w){const m=r.items[w],{start:f,key:g,sep:S,value:k}=m,_=Kr(f,{flow:l,indicator:"explicit-key-ind",next:g??(S==null?void 0:S[0]),offset:c,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!_.found){if(!_.anchor&&!_.tag&&!S&&!k){w===0&&_.comma?s(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`):w<r.items.length-1&&s(_.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${l}`),_.comment&&(u.comment?u.comment+=`
`+_.comment:u.comment=_.comment),c=_.end;continue}!o&&n.options.strict&&ti(g)&&s(g,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(w===0)_.comma&&s(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`);else if(_.comma||s(_.start,"MISSING_CHAR",`Missing , between ${l} items`),_.comment){let b="";e:for(const E of f)switch(E.type){case"comma":case"space":break;case"comment":b=E.source.substring(1);break e;default:break e}if(b){let E=u.items[u.items.length-1];J(E)&&(E=E.value??E.key),E.comment?E.comment+=`
`+b:E.comment=b,_.comment=_.comment.substring(b.length+1)}}if(!o&&!S&&!_.found){const b=k?e(n,k,_,s):t(n,_.end,S,null,_,s);u.items.push(b),c=b.range[2],Ya(k)&&s(b.range,"BLOCK_IN_FLOW",Xa)}else{n.atKey=!0;const b=_.end,E=g?e(n,g,_,s):t(n,b,f,null,_,s);Ya(g)&&s(E.range,"BLOCK_IN_FLOW",Xa),n.atKey=!1;const I=Kr(S??[],{flow:l,indicator:"map-value-ind",next:k,offset:E.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(I.found){if(!o&&!_.found&&n.options.strict){if(S)for(const F of S){if(F===I.found)break;if(F.type==="newline"){s(F,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}_.start<I.found.offset-1024&&s(I.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else k&&("source"in k&&k.source&&k.source[0]===":"?s(k,"MISSING_CHAR",`Missing space after : in ${l}`):s(I.start,"MISSING_CHAR",`Missing , or : between ${l} items`));const x=k?e(n,k,I,s):I.found?t(n,I.end,S,null,I,s):null;x?Ya(k)&&s(x.range,"BLOCK_IN_FLOW",Xa):I.comment&&(E.comment?E.comment+=`
`+I.comment:E.comment=I.comment);const R=new Pe(E,x);if(n.options.keepSourceTokens&&(R.srcToken=m),o){const F=u;Ug(n,F.items,E)&&s(b,"DUPLICATE_KEY","Map keys must be unique"),F.items.push(R)}else{const F=new He(n.schema);F.flow=!0,F.items.push(R);const et=(x??E).range;F.range=[E.range[0],et[1],et[2]],u.items.push(F)}c=x?x.range[2]:I.end}}const d=o?"}":"]",[p,...v]=r.end;let y=c;if(p&&p.source===d)y=p.offset+p.source.length;else{const w=l[0].toUpperCase()+l.substring(1),m=h?`${w} must end with a ${d}`:`${w} in block collection must be sufficiently indented and end with a ${d}`;s(c,h?"MISSING_CHAR":"BAD_INDENT",m),p&&p.source.length!==1&&v.unshift(p)}if(v.length>0){const w=di(v,y,n.options.strict,s);w.comment&&(u.comment?u.comment+=`
`+w.comment:u.comment=w.comment),u.range=[r.offset,y,w.offset]}else u.range=[r.offset,y,y];return u}function Ga(e,t,n,r,s,i){const o=n.type==="block-map"?i_(e,t,n,r,i):n.type==="block-seq"?o_(e,t,n,r,i):l_(e,t,n,r,i),l=o.constructor;return s==="!"||s===l.tagName?(o.tag=l.tagName,o):(s&&(o.tag=s),o)}function a_(e,t,n,r,s){var d;const i=r.tag,o=i?t.directives.tagName(i.source,p=>s(i,"TAG_RESOLVE_FAILED",p)):null;if(n.type==="block-seq"){const{anchor:p,newlineAfterProp:v}=r,y=p&&i?p.offset>i.offset?p:i:p??i;y&&(!v||v.offset<y.offset)&&s(y,"MISSING_CHAR","Missing newline after block sequence props")}const l=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===He.tagName&&l==="map"||o===wn.tagName&&l==="seq")return Ga(e,t,n,s,o);let a=t.schema.tags.find(p=>p.tag===o&&p.collection===l);if(!a){const p=t.schema.knownTags[o];if(p&&p.collection===l)t.schema.tags.push(Object.assign({},p,{default:!1})),a=p;else return p!=null&&p.collection?s(i,"BAD_COLLECTION_TYPE",`${p.tag} used for ${l} collection, but expects ${p.collection}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Ga(e,t,n,s,o)}const u=Ga(e,t,n,s,o,a),h=((d=a.resolve)==null?void 0:d.call(a,u,p=>s(i,"TAG_RESOLVE_FAILED",p),t.options))??u,c=ee(h)?h:new T(h);return c.range=u.range,c.tag=o,a!=null&&a.format&&(c.format=a.format),c}function zg(e,t,n){const r=t.offset,s=u_(t,e.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?T.BLOCK_FOLDED:T.BLOCK_LITERAL,o=t.source?c_(t.source):[];let l=o.length;for(let y=o.length-1;y>=0;--y){const w=o[y][1];if(w===""||w==="\r")l=y;else break}if(l===0){const y=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let w=r+s.length;return t.source&&(w+=t.source.length),{value:y,type:i,comment:s.comment,range:[r,w,w]}}let a=t.indent+s.indent,u=t.offset+s.length,h=0;for(let y=0;y<l;++y){const[w,m]=o[y];if(m===""||m==="\r")s.indent===0&&w.length>a&&(a=w.length);else{w.length<a&&n(u+w.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(a=w.length),h=y,a===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=w.length+m.length+1}for(let y=o.length-1;y>=l;--y)o[y][0].length>a&&(l=y+1);let c="",d="",p=!1;for(let y=0;y<h;++y)c+=o[y][0].slice(a)+`
`;for(let y=h;y<l;++y){let[w,m]=o[y];u+=w.length+m.length+1;const f=m[m.length-1]==="\r";if(f&&(m=m.slice(0,-1)),m&&w.length<a){const S=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(u-m.length-(f?2:1),"BAD_INDENT",S),w=""}i===T.BLOCK_LITERAL?(c+=d+w.slice(a)+m,d=`
`):w.length>a||m[0]==="	"?(d===" "?d=`
`:!p&&d===`
`&&(d=`

`),c+=d+w.slice(a)+m,d=`
`,p=!0):m===""?d===`
`?c+=`
`:d=`
`:(c+=d+m,d=" ",p=!1)}switch(s.chomp){case"-":break;case"+":for(let y=l;y<o.length;++y)c+=`
`+o[y][0].slice(a);c[c.length-1]!==`
`&&(c+=`
`);break;default:c+=`
`}const v=r+s.length+t.source.length;return{value:c,type:i,comment:s.comment,range:[r,v,v]}}function u_({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=t[0],i=s[0];let o=0,l="",a=-1;for(let d=1;d<s.length;++d){const p=s[d];if(!l&&(p==="-"||p==="+"))l=p;else{const v=Number(p);!o&&v?o=v:a===-1&&(a=e+d)}}a!==-1&&r(a,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let u=!1,h="",c=s.length;for(let d=1;d<t.length;++d){const p=t[d];switch(p.type){case"space":u=!0;case"newline":c+=p.source.length;break;case"comment":n&&!u&&r(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),c+=p.source.length,h=p.source.substring(1);break;case"error":r(p,"UNEXPECTED_TOKEN",p.message),c+=p.source.length;break;default:{const v=`Unexpected token in block scalar header: ${p.type}`;r(p,"UNEXPECTED_TOKEN",v);const y=p.source;y&&typeof y=="string"&&(c+=y.length)}}}return{mode:i,indent:o,chomp:l,comment:h,length:c}}function c_(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),i=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)i.push([t[o],t[o+1]]);return i}function Kg(e,t,n){const{offset:r,type:s,source:i,end:o}=e;let l,a;const u=(d,p,v)=>n(r+d,p,v);switch(s){case"scalar":l=T.PLAIN,a=f_(i,u);break;case"single-quoted-scalar":l=T.QUOTE_SINGLE,a=d_(i,u);break;case"double-quoted-scalar":l=T.QUOTE_DOUBLE,a=h_(i,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const h=r+i.length,c=di(o,h,t,n);return{value:a,type:l,comment:c.comment,range:[r,h,c.offset]}}function f_(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Wg(e)}function d_(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Wg(e.slice(1,-1)).replace(/''/g,"'")}function Wg(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let s=r[1],i=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const l=/[ \t]*(.*)/sy;return l.lastIndex=o,r=l.exec(e),s+i+((r==null?void 0:r[1])??"")}function h_(e,t){let n="";for(let r=1;r<e.length-1;++r){const s=e[r];if(!(s==="\r"&&e[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=p_(e,r);n+=i,r=o}else if(s==="\\"){let i=e[++r];const o=m_[i];if(o)n+=o;else if(i===`
`)for(i=e[r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="\r"&&e[r+1]===`
`)for(i=e[++r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="x"||i==="u"||i==="U"){const l={x:2,u:4,U:8}[i];n+=y_(e,r+1,l,t),r+=l}else{const l=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),n+=l}}else if(s===" "||s==="	"){const i=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>i?e.slice(i,r+1):s)}else n+=s}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function p_(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const m_={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function y_(e,t,n,r){const s=e.substr(t,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const l=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),l}return String.fromCodePoint(o)}function Vg(e,t,n,r){const{value:s,type:i,comment:o,range:l}=t.type==="block-scalar"?zg(e,t,r):Kg(t,e.options.strict,r),a=n?e.directives.tagName(n.source,c=>r(n,"TAG_RESOLVE_FAILED",c)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[$t]:a?u=g_(e.schema,s,a,n,r):t.type==="scalar"?u=w_(e,s,t,r):u=e.schema[$t];let h;try{const c=u.resolve(s,d=>r(n??t,"TAG_RESOLVE_FAILED",d),e.options);h=W(c)?c:new T(c)}catch(c){const d=c instanceof Error?c.message:String(c);r(n??t,"TAG_RESOLVE_FAILED",d),h=new T(s)}return h.range=l,h.source=s,i&&(h.type=i),a&&(h.tag=a),u.format&&(h.format=u.format),o&&(h.comment=o),h}function g_(e,t,n,r,s){var l;if(n==="!")return e[$t];const i=[];for(const a of e.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if((l=a.test)!=null&&l.test(t))return a;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[$t])}function w_({atKey:e,directives:t,schema:n},r,s,i){const o=n.tags.find(l=>{var a;return(l.default===!0||e&&l.default==="key")&&((a=l.test)==null?void 0:a.test(r))})||n[$t];if(n.compat){const l=n.compat.find(a=>{var u;return a.default&&((u=a.test)==null?void 0:u.test(r))})??n[$t];if(o.tag!==l.tag){const a=t.tagString(o.tag),u=t.tagString(l.tag),h=`Value may be parsed as either ${a} or ${u}`;i(s,"TAG_RESOLVE_FAILED",h,!0)}}return o}function v_(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let s=t[r];switch(s.type){case"space":case"comment":case"newline":e-=s.source.length;continue}for(s=t[++r];(s==null?void 0:s.type)==="space";)e+=s.source.length,s=t[++r];break}}return e}const S_={composeNode:qg,composeEmptyNode:Yf};function qg(e,t,n,r){const s=e.atKey,{spaceBefore:i,comment:o,anchor:l,tag:a}=n;let u,h=!0;switch(t.type){case"alias":u=__(e,t,r),(l||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=Vg(e,t,a,r),l&&(u.anchor=l.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=a_(S_,e,t,n,r),l&&(u.anchor=l.source.substring(1));break;default:{const c=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",c),u=Yf(e,t.offset,void 0,null,n,r),h=!1}}return l&&u.anchor===""&&r(l,"BAD_ALIAS","Anchor cannot be an empty string"),s&&e.options.stringKeys&&(!W(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(a??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(u.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?u.comment=o:u.commentBefore=o),e.options.keepSourceTokens&&h&&(u.srcToken=t),u}function Yf(e,t,n,r,{spaceBefore:s,comment:i,anchor:o,tag:l,end:a},u){const h={type:"scalar",offset:v_(t,n,r),indent:-1,source:""},c=Vg(e,h,l,u);return o&&(c.anchor=o.source.substring(1),c.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(c.spaceBefore=!0),i&&(c.comment=i,c.range[2]=a),c}function __({options:e},{offset:t,source:n,end:r},s){const i=new Gl(n.substring(1));i.source===""&&s(t,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,l=di(r,o,e.strict,s);return i.range=[t,o,l.offset],l.comment&&(i.comment=l.comment),i}function k_(e,t,{offset:n,start:r,value:s,end:i},o){const l=Object.assign({_directives:t},e),a=new Zr(void 0,l),u={atKey:!1,atRoot:!0,directives:a.directives,options:a.options,schema:a.schema},h=Kr(r,{indicator:"doc-start",next:s??(i==null?void 0:i[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});h.found&&(a.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!h.hasNewline&&o(h.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),a.contents=s?qg(u,s,h,o):Yf(u,h.end,r,null,h,o);const c=a.contents.range[2],d=di(i,c,!1,o);return d.comment&&(a.comment=d.comment),a.range=[n,c,d.offset],a}function as(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function Kh(e){var s;let t="",n=!1,r=!1;for(let i=0;i<e.length;++i){const o=e[i];switch(o[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((s=e[i+1])==null?void 0:s[0])!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class Gf{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=as(n);i?this.warnings.push(new Fg(o,r,s)):this.errors.push(new $n(o,r,s))},this.directives=new Oe({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:s}=Kh(this.prelude);if(r){const i=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(s||t.directives.docStart||!i)t.commentBefore=r;else if(G(i)&&!i.flow&&i.items.length>0){let o=i.items[0];J(o)&&(o=o.key);const l=o.commentBefore;o.commentBefore=l?`${r}
${l}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Kh(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const s of t)yield*this.next(s);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,s)=>{const i=as(t);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=k_(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new $n(as(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new $n(as(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=di(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new $n(as(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),s=new Zr(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}function E_(e,t=!0,n){if(e){const r=(s,i,o)=>{const l=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(n)n(l,i,o);else throw new $n([l,l+1],i,o)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Kg(e,t,r);case"block-scalar":return zg({options:{strict:t}},e,r)}}return null}function b_(e,t){const{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:i=-1,type:o="PLAIN"}=t,l=ci({type:o,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),a=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(l[0]){case"|":case">":{const u=l.indexOf(`
`),h=l.substring(0,u),c=l.substring(u+1)+`
`,d=[{type:"block-scalar-header",offset:i,indent:r,source:h}];return Hg(d,a)||d.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:i,indent:r,props:d,source:c}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:l,end:a};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:l,end:a};default:return{type:"scalar",offset:i,indent:r,source:l,end:a}}}function C_(e,t,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:i=!1,type:o}=n,l="indent"in e?e.indent:null;if(r&&typeof l=="number"&&(l+=2),!o)switch(e.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const u=e.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const a=ci({type:o,value:t},{implicitKey:s||l===null,indent:l!==null&&l>0?" ".repeat(l):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(a[0]){case"|":case">":A_(e,a);break;case'"':Za(e,a,"double-quoted-scalar");break;case"'":Za(e,a,"single-quoted-scalar");break;default:Za(e,a,"scalar")}}function A_(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),s=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const i=e.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=r,e.source=s}else{const{offset:i}=e,o="indent"in e?e.indent:-1,l=[{type:"block-scalar-header",offset:i,indent:o,source:r}];Hg(l,"end"in e?e.end:void 0)||l.push({type:"newline",offset:-1,indent:o,source:`
`});for(const a of Object.keys(e))a!=="type"&&a!=="offset"&&delete e[a];Object.assign(e,{type:"block-scalar",indent:o,props:l,source:s})}}function Hg(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function Za(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let s=t.length;e.props[0].type==="block-scalar-header"&&(s-=e.props[0].source.length);for(const i of r)i.offset+=s;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const s={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[s]});break}default:{const r="indent"in e?e.indent:-1,s="end"in e&&Array.isArray(e.end)?e.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(e))i!=="type"&&i!=="offset"&&delete e[i];Object.assign(e,{type:n,indent:r,source:t,end:s})}}}const x_=e=>"type"in e?tl(e):ao(e);function tl(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=tl(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=ao(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=ao(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=ao(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function ao({start:e,key:t,sep:n,value:r}){let s="";for(const i of e)s+=i.source;if(t&&(s+=tl(t)),n)for(const i of n)s+=i.source;return r&&(s+=tl(r)),s}const vc=Symbol("break visit"),P_=Symbol("skip children"),Qg=Symbol("remove item");function Wn(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Jg(Object.freeze([]),e,t)}Wn.BREAK=vc;Wn.SKIP=P_;Wn.REMOVE=Qg;Wn.itemAtPath=(e,t)=>{let n=e;for(const[r,s]of t){const i=n==null?void 0:n[r];if(i&&"items"in i)n=i.items[s];else return}return n};Wn.parentCollection=(e,t)=>{const n=Wn.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],s=n==null?void 0:n[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function Jg(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const s of["key","value"]){const i=t[s];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const l=Jg(Object.freeze(e.concat([[s,o]])),i.items[o],n);if(typeof l=="number")o=l-1;else{if(l===vc)return vc;l===Qg&&(i.items.splice(o,1),o-=1)}}typeof r=="function"&&s==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const aa="\uFEFF",ua="",ca="",ni="",N_=e=>!!e&&"items"in e,I_=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function O_(e){switch(e){case aa:return"<BOM>";case ua:return"<DOC>";case ca:return"<FLOW_END>";case ni:return"<SCALAR>";default:return JSON.stringify(e)}}function Xg(e){switch(e){case aa:return"byte-order-mark";case ua:return"doc-mode";case ca:return"flow-error-end";case ni:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const R_=Object.freeze(Object.defineProperty({__proto__:null,BOM:aa,DOCUMENT:ua,FLOW_END:ca,SCALAR:ni,createScalarToken:b_,isCollection:N_,isScalar:I_,prettyToken:O_,resolveAsScalar:E_,setScalarValue:C_,stringify:x_,tokenType:Xg,visit:Wn},Symbol.toStringTag,{value:"Module"}));function ct(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Wh=new Set("0123456789ABCDEFabcdef"),T_=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Fi=new Set(",[]{}"),$_=new Set(` ,[]{}
\r	`),eu=e=>!e||$_.has(e);class Yg{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const s=this.buffer[r+t+1];if(s===`
`||!s&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&ct(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===aa&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const i=t[r-1];if(i===" "||i==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const i=t[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield ua,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&ct(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ct(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&ct(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(eu),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&ct(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield ca,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(eu),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||ct(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ct(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let s=t+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];t=s-1}else if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const l=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>l)t=i;else break}while(!0);return yield ni,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(ct(i)||t&&Fi.has(i))break;n=r}else if(ct(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||t&&Fi.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&Fi.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield ni,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(eu))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(ct(n)||t&&Fi.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!ct(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(T_.has(n))n=this.buffer[++t];else if(n==="%"&&Wh.has(this.buffer[t+1])&&Wh.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Gg{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<t?n=i+1:r=i}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const s=this.lineStarts[n-1];return{line:n,col:t-s+1}}}}function xn(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Vh(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Zg(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ui(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Gn(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function qh(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!xn(t.start,"explicit-key-ind")&&!xn(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Zg(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Zf{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Yg,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=Xg(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&qh(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&Vh(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{Vh(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Ui(this.peek(2)),r=Gn(n);let s;t.end?(s=t.end,s.push(this.sourceToken),delete t.end):s=[this.sourceToken];const i={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const s=!this.onKeyLine&&this.indent===t.indent,i=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(i&&n.sep&&!n.value){const l=[];for(let a=0;a<n.sep.length;++a){const u=n.sep[a];switch(u.type){case"newline":l.push(a);break;case"space":break;case"comment":u.indent>t.indent&&(l.length=0);break;default:l.length=0}}l.length>=2&&(o=n.sep.splice(l[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(xn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Zg(n.key)&&!xn(n.sep,"newline")){const l=Gn(n.start),a=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:a,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(xn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const l=Gn(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):xn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const l=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:l,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(l):(Object.assign(n,{key:l,sep:[]}),this.onKeyLine=!0);return}default:{const l=this.startBlockValue(t);if(l){s&&l.type!=="block-seq"&&t.items.push({start:o}),this.stack.push(l);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||xn(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const s=this.startBlockValue(t);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=Ui(r),i=Gn(s);qh(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const l={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:i,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=l}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Ui(t),r=Gn(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Ui(t),r=Gn(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function e0(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Gg||null,prettyErrors:t}}function L_(e,t={}){const{lineCounter:n,prettyErrors:r}=e0(t),s=new Zf(n==null?void 0:n.addNewLine),i=new Gf(t),o=Array.from(i.compose(s.parse(e)));if(r&&n)for(const l of o)l.errors.forEach(el(e,n)),l.warnings.forEach(el(e,n));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function t0(e,t={}){const{lineCounter:n,prettyErrors:r}=e0(t),s=new Zf(n==null?void 0:n.addNewLine),i=new Gf(t);let o=null;for(const l of i.compose(s.parse(e),!0,e.length))if(!o)o=l;else if(o.options.logLevel!=="silent"){o.errors.push(new $n(l.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(el(e,n)),o.warnings.forEach(el(e,n))),o}function M_(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const s=t0(e,n);if(!s)return null;if(s.warnings.forEach(i=>_g(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function D_(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(e===void 0){const{keepUndefined:s}=n??t??{};if(!s)return}return Jn(e)&&!r?e.toString(n):new Zr(e,r,n).toString(n)}const Sc=Object.freeze(Object.defineProperty({__proto__:null,Alias:Gl,CST:R_,Composer:Gf,Document:Zr,Lexer:Yg,LineCounter:Gg,Pair:Pe,Parser:Zf,Scalar:T,Schema:la,YAMLError:Xf,YAMLMap:He,YAMLParseError:$n,YAMLSeq:wn,YAMLWarning:Fg,isAlias:Qn,isCollection:G,isDocument:Jn,isMap:Jr,isNode:ee,isPair:J,isScalar:W,isSeq:Xr,parse:M_,parseAllDocuments:L_,parseDocument:t0,stringify:D_,visit:gn,visitAsync:Yl},Symbol.toStringTag,{value:"Module"})),tu={actionTypes:`
    { type: "addEntity", entityProps: { uuid: string, x: number, y: number, rotation: number, scale: number, behaviors: Array<{ uuid: string, type: string, name?: string }> } }
    { type: "removeEntity", entityId: string }
    { type: "updateEntity", entityId: string, updates: { x?: number, y?: number, rotation?: number, scale?: number, behaviors?: Array<{ uuid: string, type: string, name?: string }> } }
    { type: "addBehavior", entityId: string, behaviorProps: { type: string, name?: string, ... other behavior-specific properties } }
    { type: "removeBehavior", entityId: string, behaviorType: string }
    { type: "updateBehavior", entityId: string, behaviorType: string, updates: { name?: string, ... other behavior-specific properties } }
    { type: "clearWorld" }
    { type: "selectEntities", entityIds: string[] }
    { type: "deselectEntities", entityIds: string[] }
  `,builtInBehaviors:`
    /**
     * Renders a circular shape for the entity.
     * @property {string} type - Always "RenderCircle"
     * @property {number} radius - The radius of the circle
     */
    RenderCircle: { type: "RenderCircle", radius: number }

    /**
     * Changes the color of the entity.
     * @property {string} type - Always "ChangeColor"
     * @property {string} color - The new color to apply (e.g., "red", "#FF0000")
     */
    ChangeColor: { type: "ChangeColor", color: string }

    /**
     * Simplifies the mesh of the entity to a polygon with specified number of sides.
     * @property {string} type - Always "SimplifyMesh"
     * @property {number} sides - The number of sides for the simplified polygon
     */
    SimplifyMesh: { type: "SimplifyMesh", sides: number }

    /**
     * Allows for custom behavior implementation.
     * @property {string} type - Always "CustomBehavior"
     * @property {string} name - A unique name for this custom behavior
     * @property {string} [update] - Optional. A stringified function to be executed each frame
     * Type: \`(entity, deltaTime, totalTime) => void\`, where time is in seconds.
     * @property {any} [extrakeys] - Any additional properties specific to this custom behavior
     */
    CustomBehavior: { 
      type: "CustomBehavior", 
      name: string, 
      update?: string,
      [extrakeys: string]: any
    }

    /**
     * Renders an emoji as the visual representation of the entity.
     * @property {string} type - Always "RenderEmoji"
     * @property {string} emoji - The emoji character to render
     * @property {number} [fontSize] - Optional. The font size of the emoji
     */
    RenderEmoji: { type: "RenderEmoji", emoji: string, fontSize?: number }
  `,examples:`
    Example 1:
    User: "Add a red circle to the world."
    Assistant: 
    { 
      "actions": [
        { 
          "type": "addEntity", 
          "entityProps": { 
            "x": 0, "y": 0, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderCircle", "radius": 10, "color": "red" }] 
          }
        }
      ] 
    }

    Example 2:
    User: "Select the blue circle and make it bigger and darker."
    Assistant:
    { 
      "actions": [
        { "type": "selectEntities", "entityIds": ["<uuid of blue circle>"] },
        { "type": "updateEntity", "entityId": "blue-circle", "updates": { "scale": <entity's current scale x 2> } },
        { "type": "updateBehavior", "entityId": "blue-circle", "behaviorType": "RenderCircle", "updates": { "color": "<a darker shade of blue>" } }
      ] 
    }

    Example 3:
    User: "Make the heart pulse."
    Assistant:
    { 
      "actions": [
        {
          "type": "addBehavior", 
          "entityId": "<uuid of the entity with heart emoji>", 
          "behaviorProps": { 
            "type": "CustomBehavior", 
            "name": "Pulse",
            "pulseSpeed": 1.1,
            "pulseAmplitude": 0.1,
            "update": "entity.scale = <the original scale value> + Math.sin(totalTime * this.pulseSpeed) * this.pulseAmplitude;"
          } 
        }
      ] 
    }

    Example 4:
    User: "Make the star orbit around the center."
    Assistant:
    {
      "actions": [
        {
          "type": "addBehavior",
          "entityId": "<uuid of the star entity>",
          "behaviorProps": {
            "type": "CustomBehavior",
            "name": "Orbit",
            "radius": 100,
            "speed": 0.001,
            "update": "entity.x = Math.cos(totalTime * this.speed) * this.radius; entity.y = Math.sin(totalTime * this.speed) * this.radius;"
          }
        }
      ]
    }

    Example 5:
    User: "Add a colorful square that cycles through colors."
    Assistant:
    {
      "actions": [
        {
          "type": "addEntity",
          "entityProps": {
            "x": 0, "y": 0, "rotation": 0, "scale": 1,
            "behaviors": [
              { "type": "SimplifyMesh", "sides": 4 },
              {
                "type": "CustomBehavior",
                "name": "ColorCycle",
                "cycleSpeed": 0.1,
                "update": "const hue = (totalTime * this.cycleSpeed) % 360; entity.color = \`hsl(\${hue}, 100%, 50%)\`;"
              }
            ]
          }
        }
      ]
    }

    Example 6:
    User: "Create a bouncing ball."
    Assistant:
    {
      "actions": [
        {
          "type": "addEntity",
          "entityProps": {
            "x": 0, "y": 0, "rotation": 0, "scale": 1,
            "behaviors": [
              { "type": "RenderCircle", "radius": 20 },
              {
                "type": "CustomBehavior",
                "name": "Bounce",
                "bounceHeight": 100,
                "bounceSpeed": 0.005,
                "update": "entity.y = Math.abs(Math.sin(totalTime * this.bounceSpeed)) * this.bounceHeight;"
              }
            ]
          }
        }
      ]
    }

    Example 7:
    User: "Add a shaking emoji."
    Assistant:
    {
      "actions": [
        {
          "type": "addEntity",
          "entityProps": {
            "x": 0, "y": 0, "rotation": 0, "scale": 1,
            "behaviors": [
              { "type": "RenderEmoji", "emoji": "", "fontSize": 40 },
              {
                "type": "CustomBehavior",
                "name": "Shake",
                "intensity": 4,
                "update": "entity.x += (Math.random() - 0.5) * this.intensity; entity.y += (Math.random() - 0.5) * this.intensity;"
              }
            ]
          }
        }
      ]
    }

    Example 8:
    User: "Add 5 random animals."
    Assistant:
    {
      "actions": [
        { "type": "addEntity", "entityProps": { "x": -480, "y": 150, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderEmoji", "emoji": "" }] } },
        { "type": "addEntity", "entityProps": { "x": 0, "y": -280, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderEmoji", "emoji": "" }] } },
        { "type": "addEntity", "entityProps": { "x": 440, "y": 490, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderEmoji", "emoji": "" }] } },
        { "type": "addEntity", "entityProps": { "x": -200, "y": -220, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderEmoji", "emoji": "" }] } },
        { "type": "addEntity", "entityProps": { "x": 200, "y": -300, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderEmoji", "emoji": "" }] } }
      ]
    }
  `};function n0(){const e=le.stage.width,t=le.stage.height,n=`
    - top left corner: ${-e/2}x${-t/2}.
    - bottom right corner: ${e/2}x${t/2}.
`,r=_c(JSON.parse(JSON.stringify(le.entities))),s=`
`+Sc.stringify(r,{});return`
    You are an AI assistant that generates actions for a game engine.
    You can add, remove, update entities, behaviors, and select/deselect entities.
    You can also clear the world, clear the selection, and generate actions based on user's request.

    An action resolver will parse your json response and execute the actions.
    It's important to remember that you're writing json actions, not code, so imporovise where you must.

    Here are the action types you can use:
    ${tu.actionTypes}

    Here are the built-in behaviors you can use:
    ${tu.builtInBehaviors}

    Current state of the world:
    
    Stage bounds: ${n}

    Entities in the world: 
    ${s}

    Current selection (entity ids): [${Ce.selectedEntityIds.join(", ")}]

    ----
    ${tu.examples}
  `}function _c(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(n=>_c(n));const t={};for(const[n,r]of Object.entries(e))typeof r=="number"?t[n]=Math.round(r):typeof r=="object"?t[n]=_c(r):t[n]=r;return t}const r0={type:"object",properties:{actions:{type:"array",items:{type:"object",properties:{type:{type:"string"},entityProps:{type:"object",properties:{x:{type:"number"},y:{type:"number"},rotation:{type:"number"},scale:{type:"number"},behaviors:{type:"array",items:{type:"object",properties:{type:{type:"string"},name:{type:"string"}},required:["type"]}}},required:["x","y","rotation","scale","behaviors"]},entityId:{type:"string"},updates:{type:"object"},behaviorProps:{type:"object"},behaviorType:{type:"string"},entityIds:{type:"array",items:{type:"string"}}},required:["type"]}}},required:["actions"]};let nu=null;const B_=()=>{if(!nu){let t=localStorage.getItem("groq_api_key");if(!t)if(t=prompt("Please enter your GROQ API key:"),t)localStorage.setItem("groq_api_key",t),console.log(" API key saved to local storage");else throw console.error(" No API key provided"),new Error("GROQ API key is required");nu=new ie({apiKey:t,dangerouslyAllowBrowser:!0}),console.log(" GROQ instance created")}return nu};async function kc(e){var l,a;const t=B_(),n=JSON.stringify(r0),r=`${n0()}

Please generate a list of actions based on the user's request. Your response should be a JSON object that strictly adheres to the following schema:

${n}

Respond only with the JSON object, without any additional text.`;console.log(" Sending request to GROQ");const i=(a=(l=(await t.chat.completions.create({model:"mixtral-8x7b-32768",messages:[{role:"system",content:r},{role:"user",content:e}],response_format:{type:"json_object"}})).choices[0])==null?void 0:l.message)==null?void 0:a.content;if(console.log(" Received response from GROQ",i),!i)throw new Error("Unexpected response format from GROQ");const o=JSON.parse(i);if(Array.isArray(o.actions))return o;if(Array.isArray(o))return{actions:o};if("type"in o)return{actions:[o]};throw console.log(" Parsed actions from GROQ:",o),new Error("Failed to parse GROQ response")}const j_={addEntity:e=>{console.log(" Adding entity:",e.entityProps.uuid),Ae.addEntity(e.entityProps)},removeEntity:e=>{console.log(" Removing entity:",e.entityId),Ae.removeEntity(e.entityId)},updateEntity:e=>{console.log(" Updating entity:",e.entityId);const t=Ae.getEntity(e.entityId);if(!t)throw new Error("Entity not found");Object.assign(t,e.updates)},addBehavior:e=>{console.log(" Adding behavior to entity:",e.entityId),Ae.addBehaviorToEntity(e.entityId,e.behaviorProps)},removeBehavior:e=>{console.log(" Removing behavior from entity:",e.entityId),Ae.removeBehaviorFromEntity(e.entityId,e.behaviorType)},updateBehavior:e=>{console.log(" Updating behavior for entity:",e.entityId);const t=Ae.getEntity(e.entityId);if(!t)throw new Error("Entity not found");const n=t.behaviors.findIndex(s=>s.type===e.behaviorType),r=t.behaviors[n];if(r)for(const s in e.updates){const i=s;r[i]!==e.updates[i]&&(r[i]=e.updates[i])}else{const s={type:e.behaviorType,...e.updates,uuid:crypto.randomUUID()};t.behaviors.push(s)}},clearWorld:()=>{console.log(" Clearing the world"),Ae.clearWorld()},selectEntities:e=>{console.log(" Selecting entities:",e.entityIds),hn.setSelectedEntityIds(e.entityIds)},deselectEntities:e=>{console.log(" Deselecting entities:",e.entityIds),hn.removeSelectedEntityIds(e.entityIds)},clearSelection:()=>{console.log(" Clearing entity selection"),hn.clearSelection()}},s0=e=>{console.log(" Resolving action:",e.type);try{const t=j_[e.type];t?t(e):console.error(" Unknown action type:",e.type)}catch(t){console.error(` Error resolving action ${e.type}:`,t)}};function F_(){const[e,t]=B.useState(""),{aiBusy:n}=Qt(Ce),r=async s=>{if(s.preventDefault(),!(n||!e.trim())){console.log(" Prompt submitted:",e),hn.setAIBusy(!0);try{const i=await kc(e);console.log(" Received actions from AI:",i);for(const o of i.actions)await z_(100),s0(o);t("")}catch(i){console.error(" Error processing AI actions:",i)}finally{hn.setAIBusy(!1)}}};return A.jsx(U_,{prompt:e,setPrompt:t,onSubmit:r,disabled:n})}function U_({prompt:e,setPrompt:t,onSubmit:n,disabled:r}){const[s,i]=B.useState(!1),o=B.useRef(null);B.useEffect(()=>{const a=e.length>30||e.includes(`
`);if(i(a),o.current){o.current.style.height="auto";const u=a?`${Math.max(o.current.scrollHeight,96)}px`:"40px";o.current.style.height=u}},[e]);const l=a=>{a.key==="Enter"&&!a.shiftKey&&!a.ctrlKey&&(a.preventDefault(),n(a))};return A.jsx("form",{onSubmit:n,className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 select-none",children:A.jsxs("div",{className:`relative transition-all duration-300 ease-in-out ${s?"w-[32rem]":"w-96"}`,children:[A.jsx("textarea",{rows:1,ref:o,value:e,onChange:a=>t(a.target.value),onKeyDown:l,placeholder:"Enter prompt...",disabled:r,className:`w-full px-4 py-2 rounded-3xl border border-gray-300 shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none transition-all duration-300 ease-in-out ${s?"h-auto min-h-[6rem] text-xs":"h-10 overflow-hidden"} ${r?"bg-gray-100 cursor-not-allowed":""}`}),A.jsx("button",{type:"submit",className:"absolute right-3 top-3",disabled:r,children:r?A.jsx(tS,{className:"h-5 w-5 text-gray-500 animate-spin"}):A.jsx(nS,{className:"h-5 w-5 text-gray-500"})})]})})}const z_=e=>new Promise(t=>setTimeout(t,e));function K_({cellSize:e=40}){return A.jsxs(A.Fragment,{children:[A.jsx("defs",{children:A.jsxs("pattern",{id:"plusPattern",x:"0",y:"0",width:e,height:e,patternUnits:"userSpaceOnUse",children:[A.jsx("rect",{width:e,height:e,fill:"#f8f8f8"}),A.jsx("path",{d:`M${e/2} ${e*.375} V${e*.625} M${e*.375} ${e/2} H${e*.625}`,stroke:"#d8d8d8",strokeWidth:"1"})]})}),A.jsx("rect",{x:"-100%",y:"-100%",width:"200%",height:"200%",fill:"url(#plusPattern)"})]})}const Hh={RenderCircle:{render(){return A.jsx("circle",{r:this.radius})}},ChangeColor:{render(e,t){const n=this.color||"white";return A.jsx("g",{fill:n,children:t})}},SimplifyMesh:{render(e){var i,o,l;const t=((i=e.behaviors.find(a=>a.type==="SimplifyMesh"))==null?void 0:i.sides)||6,n=((o=e.behaviors.find(a=>a.type==="RenderCircle"))==null?void 0:o.radius)||10,r=((l=e.behaviors.find(a=>a.type==="ChangeColor"))==null?void 0:l.color)||void 0,s=W_(n,t);return A.jsx("polygon",{points:s,fill:r})}},CustomBehavior:{update(e,t,n){if(typeof this.update=="function")return this.update.call(this,e,t,n);typeof this.update=="string"&&new Function("entity","deltaTime","totalTime",this.update).call(this,e,t,n)},render(e,t){if(typeof this.render=="function")return this.render.call(this,e,t);if(typeof this.render=="string"){const n=`return (${this.render})`;return new Function("entity","content",n).call(this,e,t)}return t}},RenderEmoji:{render(e,t){const n=this.emoji,r=~~(this.fontSize||40);return A.jsxs(A.Fragment,{children:[t,A.jsx("text",{fontSize:r,textAnchor:"middle",dominantBaseline:"central",style:{userSelect:"none"},y:"-2",children:n})]})}}};function W_(e,t){let n="";for(let r=0;r<t;r++){const s=r/t*2*Math.PI,i=e*Math.cos(s),o=e*Math.sin(s);n+=`${i},${o} `}return n.trim()}const i0={update:(e,t,n)=>{e.behaviors.forEach(r=>{var o;const s=r.type,i=Hh[s];(o=i==null?void 0:i.update)==null||o.apply(r,[e,t,n])})},render:e=>{let t=null;return e.behaviors.forEach(n=>{var i;const r=n.type,s=Hh[r];t=(i=s==null?void 0:s.render)==null?void 0:i.apply(n,[e,t])}),t},getBehavior:(e,t)=>e.behaviors.find(n=>n.type===t)},V_=({entity:e,onClick:t})=>{const n=s=>{t(e,s)};for(const s of["x","y","rotation","scale"]){const i=e[s];isNaN(i)&&(console.warn(`Entity ${e.uuid} has a non-numeric value for ${s}: ${i}`),e[s]=1)}const r=`translate(${e.x}, ${e.y}) rotate(${e.rotation}) scale(${e.scale})`;return A.jsx("g",{onClick:n,transform:r,children:i0.render(e)})};function o0(e,t){return e.behaviors.find(n=>n.type===t)}const q_=({entity:e})=>{const t=o0(e,"RenderCircle"),n=((t==null?void 0:t.radius)??30)*2*e.scale+4;return A.jsx("rect",{x:e.x-n/2,y:e.y-n/2,width:n,height:n,fill:"none",stroke:"blue",strokeWidth:"1",strokeDasharray:"2, 2"})},H_=e=>{const t=B.useRef(),n=B.useRef(),r=B.useRef(),s=B.useCallback(i=>{if(r.current||(r.current=i),n.current!==void 0){const o=(i-n.current)/1e3,l=(i-r.current)/1e3;e(o,l)}n.current=i,t.current=requestAnimationFrame(s)},[e]);B.useEffect(()=>(console.log(" Starting animation frame loop"),t.current=requestAnimationFrame(s),()=>{console.log(" Stopping animation frame loop"),t.current&&cancelAnimationFrame(t.current)}),[s])},Q_=()=>{const[e,t]=B.useState(!1),n=Qt(le),r=Sc.stringify(n),s=Qt(Ce),i=Sc.stringify(s);return B.useEffect(()=>{const o=l=>{l.key==="`"&&(t(a=>!a),console.log(" Toggled World State Inspector"))};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[]),e?A.jsx("div",{className:"absolute top-4 left-4 max-h-[calc(100vh-32px)] overflow-y-auto bg-white rounded-lg border border-gray-300 shadow-md animate-slide-in",children:A.jsxs("div",{className:"p-4 overflow-x-auto",children:[A.jsx("pre",{className:"text-xs font-bold mb-2",children:"IDE"}),A.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:i}),A.jsx("br",{}),A.jsx("hr",{}),A.jsx("br",{}),A.jsx("pre",{className:"text-xs font-bold mb-2",children:"World"}),A.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:r})]})}):null},J_=()=>A.jsxs(A.Fragment,{children:[X_(),Qh(20),Qh(10)]}),X_=()=>{const{stage:e}=Qt(le);return A.jsx("rect",{x:-e.width/2,y:-e.height/2,width:e.width,height:e.height,fill:"none",stroke:"gray",strokeWidth:"1",strokeDasharray:"18,4,18,0"})},Qh=e=>{const{stage:t}=Qt(le);return A.jsx("rect",{x:-t.width/2-e,y:-t.height/2-e,width:t.width+e*2,height:t.height+e*2,fill:"none",stroke:"gray",strokeWidth:"1",strokeDasharray:"8",opacity:.2})};function Y_(){return H_((e,t)=>{for(const n of le.entities)i0.update(n,e,t)}),A.jsxs("div",{className:"w-full h-screen relative overflow-hidden",children:[A.jsx(G_,{}),A.jsx(tk,{})]})}const G_=()=>{const{stage:e}=Qt(le),[t,n]=B.useState("0 0 1000 1000"),r=[.5,.38196601125],s=B.useCallback(()=>{hn.clearSelection()},[]);return B.useEffect(()=>{const i=()=>{const{innerWidth:o,innerHeight:l}=window,a=Math.min(o/e.width,l/e.height)*.8,u=o/a,h=l/a,c=-u*r[0]+e.width*(r[0]-.5),d=-h*r[1]+e.height*(r[1]-.5);n(`${c} ${d} ${u} ${h}`),console.log(" Updated viewBox:",`${c} ${d} ${u} ${h}`)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[e.width,e.height,r]),A.jsxs("svg",{className:"w-full h-full",viewBox:t,onClick:s,children:[A.jsx(K_,{}),A.jsx(J_,{}),A.jsx(Z_,{}),A.jsx(ek,{})]})},Z_=()=>{const{entities:e}=Qt(le),t=B.useCallback((n,r)=>{r.stopPropagation(),hn.toggleEntitySelection(n.uuid,r.ctrlKey),console.log(" Entity clicked:",n.uuid)},[]);return A.jsx("g",{fill:"#ddd",stroke:"black",strokeWidth:1,children:e.map(n=>A.jsx("g",{className:"with-shadow",children:A.jsx(V_,{entity:n,onClick:t})},n.uuid))})},ek=()=>{const e=By();return A.jsx(A.Fragment,{children:e.map(t=>A.jsx(q_,{entity:t},t.uuid))})},tk=()=>{const e=By();return A.jsxs(A.Fragment,{children:[A.jsx(Q_,{}),A.jsx("div",{className:"absolute top-4 right-4 max-w-md max-h-[calc(100vh-2rem)] overflow-y-auto",children:e.map(t=>A.jsx(Yv,{entity:t},`selection-${t.uuid}`))}),A.jsx(F_,{})]})},Jh=["","","","","","","","","",""],Xh=["dodgerblue","hotpink","gold","lime","purple","teal","tomato"];function*nk(e){for(let t=0;t<e;t++)yield t}function rk(){Ae.clearWorld();const{width:e,height:t}=le.stage,n=10;function r(){const s=Ae.addEntity({x:(Math.random()-.5)*e,y:(Math.random()-.5)*t,rotation:Math.random()*360,scale:1,behaviors:[]});return Ae.addBehaviorToEntity(s.uuid,{type:"RenderCircle",radius:10+Math.random()*40}),s}for(const s of nk(n)){const i=r();if(i.name="circle",s%3===0&&(Ae.addBehaviorToEntity(i.uuid,{type:"SimplifyMesh",sides:6}),i.name="simplified "+i.name),s%2===0){const o=o0(i,"RenderCircle"),a=1.33*((o==null?void 0:o.radius)??20),u=Jh[Math.floor(Math.random()*Jh.length)];Ae.addBehaviorToEntity(i.uuid,{type:"RenderEmoji",emoji:u,fontSize:a}),i.name=i.name+" with "+u}else{const o=Xh[Math.floor(Math.random()*Xh.length)];Ae.addBehaviorToEntity(i.uuid,{type:"ChangeColor",color:o}),i.name=o+" "+i.name}}console.log(" Sample world populated with entities and emojis")}const We={addBehaviorToSelectedEntity:e=>{const t=Ce.selectedEntityIds[0];t!==null?(Ae.addBehaviorToEntity(t,e),console.log(` Added behavior ${e.type} to entity ${t}`)):console.warn(" No entity selected. Please select an entity first.")},makePulse:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Pulse",update:`
        entity.scale = 1 + Math.sin(Date.now() * 0.005) * 0.5;
      `}),console.log(" Added pulse animation to selected entity")},makeSpin:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Spin",update:`
        entity.rotation += 4 * deltaTime;
      `}),console.log(" Added spin animation to selected entity")},makeOrbit:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Orbit",update:`
        const radius = 100;
        const speed = 0.001;
        entity.x = Math.cos(Date.now() * speed) * radius;
        entity.y = Math.sin(Date.now() * speed) * radius;
      `}),console.log(" Added orbit animation to selected entity")},makeBounce:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Bounce",update:`
        entity.y = Math.abs(Math.sin(Date.now() * 0.005)) * 100;
      `}),console.log(" Added bounce animation to selected entity")},makeWiggle:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Wiggle",update:`
        entity.rotation = Math.sin(Date.now() * 0.01) * 15;
      `}),console.log(" Added wiggle animation to selected entity")},makeFade:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Fade",update:`
        entity.opacity = (Math.sin(Date.now() * 0.003) + 1) / 2;
      `}),console.log(" Added fade animation to selected entity")},makeZigZag:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"ZigZag",update:`
        entity.x += Math.sin(Date.now() * 0.01) * 2;
        entity.y += 0.5;
        if (entity.y > 300) entity.y = -300;
      `}),console.log(" Added zig-zag animation to selected entity")},makeGrow:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Grow",update:`
        entity.scale = Math.min(entity.scale * 1.01, 3);
      `}),console.log(" Added grow animation to selected entity")},makeShrink:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Shrink",update:`
        entity.scale = Math.max(entity.scale * 0.99, 0.1);
      `}),console.log(" Added shrink animation to selected entity")},makeShake:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Shake",update:`
        entity.x += (Math.random() - 0.5) * 4;
        entity.y += (Math.random() - 0.5) * 4;
      `}),console.log(" Added shake animation to selected entity")},makeColorCycle:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"ColorCycle",update:"\n        const hue = (Date.now() * 0.1) % 360;\n        entity.color = `hsl(${hue}, 100%, 50%)`;\n      "}),console.log(" Added color cycle animation to selected entity")},makePingPong:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"PingPong",update:`
        entity.x = Math.sin(Date.now() * 0.003) * 200;
      `}),console.log(" Added ping-pong animation to selected entity")}};Object.assign(globalThis,{God:We});function sk(){return B.useEffect(()=>(window.location.search.includes("sample")&&rk(),()=>{Ae.clearWorld(),hn.clearSelection()}),[]),A.jsx(Y_,{})}const nr="4.67.3";let Yh=!1,Ls,l0,a0,Ec,u0,c0,f0,d0,h0;function ik(e,t={auto:!1}){if(Yh)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Ls)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Ls}'\``);Yh=t.auto,Ls=e.kind,l0=e.fetch,a0=e.FormData,Ec=e.File,u0=e.ReadableStream,c0=e.getMultipartRequestOptions,f0=e.getDefaultAgent,d0=e.fileFromPath,h0=e.isFsReadStream}class ok{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function lk({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new ok(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}Ls||ik(lk(),{auto:!0});class Vn{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Vn.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(Vn.NEWLINE_REGEXP);return r&&s.pop(),s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new D(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new D(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new D("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}Vn.NEWLINE_CHARS=new Set([`
`,"\r"]);Vn.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class It{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of ak(t,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(l&&l.error)throw new _e(void 0,l.error,void 0,void 0);yield l}else{let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event=="error")throw new _e(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new It(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new Vn,l=p0(t);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new It(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new It(()=>s(t),this.controller),new It(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new u0({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*ak(e,t){if(!e.body)throw t.abort(),new D("Attempted to iterate over a response with no body");const n=new fk,r=new Vn,s=p0(e.body);for await(const i of uk(s))for(const o of r.decode(i)){const l=n.decode(o);l&&(yield l)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*uk(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=ck(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}function ck(e){for(let r=0;r<e.length-2;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}class fk{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=dk(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function dk(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function p0(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const m0=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",y0=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&fa(e),fa=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",hk=e=>y0(e)||m0(e)||h0(e);async function g0(e,t,n){var s;if(e=await e,y0(e))return e;if(m0(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=fa(i)?[await i.arrayBuffer()]:[i];return new Ec(o,t,n)}const r=await pk(e);if(t||(t=yk(e)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Ec(r,t,n)}async function pk(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(fa(e))t.push(await e.arrayBuffer());else if(gk(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${mk(e)}`);return t}function mk(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function yk(e){var t;return ru(e.name)||ru(e.filename)||((t=ru(e.path))==null?void 0:t.split(/[\\/]/).pop())}const ru=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},gk=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Gh=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Wr=async e=>{const t=await wk(e.body);return c0(t,e)},wk=async e=>{const t=new a0;return await Promise.all(Object.entries(e||{}).map(([n,r])=>bc(t,n,r))),t},bc=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(hk(n)){const r=await g0(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>bc(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>bc(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Or={},vk=function(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},Sk=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},zi;async function w0(e){const{response:t}=e;if(e.options.stream)return Rr("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):It.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await t.json();return Rr("response",t.status,t.url,t.headers,i),v0(i,t)}const s=await t.text();return Rr("response",t.status,t.url,t.headers,s),s}function v0(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class da extends Promise{constructor(t,n=w0){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new da(this.responsePromise,async n=>v0(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class _k{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=su("maxRetries",n),this.timeout=su("timeout",r),this.httpAgent=s,this.fetch=i??l0}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...xk(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Ok()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&fa(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var y;const{method:r,path:s,query:i,headers:o={}}=t,l=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:Gh(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,a=this.calculateContentLength(l),u=this.buildURL(s,i);"timeout"in t&&su("timeout",t.timeout);const h=t.timeout??this.timeout,c=t.httpAgent??this.httpAgent??f0(u),d=h+1e3;typeof((y=c==null?void 0:c.options)==null?void 0:y.timeout)=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const p=this.buildHeaders({options:t,headers:o,contentLength:a,retryCount:n});return{req:{method:r,...l&&{body:l},headers:p,...c&&{agent:c},signal:t.signal??null},url:u,timeout:h}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(t);return np(i,o),np(i,n),Gh(t.body)&&Ls!=="node"&&delete i["content-type"],$k(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return _e.generate(t,n,r,s)}request(t,n=null){return new da(this.makeRequest(t,n))}async makeRequest(t,n){var c,d;const r=await t,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:l}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),Rr("request",o,r,i.headers),(c=r.signal)!=null&&c.aborted)throw new yt;const a=new AbortController,u=await this.fetchWithTimeout(o,i,l,a).catch(Cc);if(u instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new yt;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new ed:new ha({cause:u})}const h=Ek(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const f=`retrying, ${n} attempts remaining`;return Rr(`response (error; ${f})`,u.status,o,h),this.retryRequest(r,n,h)}const p=await u.text().catch(f=>Cc(f).message),v=Pk(p),y=v?void 0:p;throw Rr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,h,y),this.makeStatusError(u.status,v,y,h)}return{response:u,options:r,controller:a}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new kk(this,r,t)}buildURL(t,n){const r=Ik(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return _0(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new D(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:s.signal,...o}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await hi(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${nr}`}}class S0{constructor(t,n,r,s){zi.set(this,void 0),vk(this,zi,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new D("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[s,i]of r)t.url.searchParams.set(s,i);n.query=void 0,n.path=t.url.toString()}return await Sk(this,zi,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(zi=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class kk extends da{constructor(t,n,r){super(n,async s=>new r(t,s.response,await w0(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const Ek=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),bk={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ze=e=>typeof e=="object"&&e!==null&&!_0(e)&&Object.keys(e).every(t=>k0(bk,t)),Ck=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":ep(Deno.build.os),"X-Stainless-Arch":Zh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":ep(process.platform),"X-Stainless-Arch":Zh(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=Ak();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Ak(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const Zh=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",ep=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let tp;const xk=()=>tp??(tp=Ck()),Pk=e=>{try{return JSON.parse(e)}catch{return}},Nk=new RegExp("^(?:[a-z]+:)?//","i"),Ik=e=>Nk.test(e),hi=e=>new Promise(t=>setTimeout(t,e)),su=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new D(`${e} must be an integer`);if(t<0)throw new D(`${e} must be a positive integer`);return t},Cc=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Ki=e=>{var t,n,r,s;if(typeof process<"u")return((t=Or==null?void 0:Or[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function _0(e){if(!e)return!0;for(const t in e)return!1;return!0}function k0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function np(e,t){for(const n in t){if(!k0(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}function Rr(e,...t){typeof process<"u"&&(Or==null?void 0:Or.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${e}`,...t)}const Ok=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Rk=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Tk=e=>typeof(e==null?void 0:e.get)=="function",$k=(e,t)=>{var r;const n=t.toLowerCase();if(Tk(e)){const s=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,l)=>o+l.toUpperCase());for(const i of[t,n,t.toUpperCase(),s]){const o=e.get(i);if(o)return o}}for(const[s,i]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i};function iu(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class D extends Error{}class _e extends D{constructor(t,n,r,s){super(`${_e.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t)return new ha({message:r,cause:Cc(n)});const i=n==null?void 0:n.error;return t===400?new E0(t,i,r,s):t===401?new b0(t,i,r,s):t===403?new C0(t,i,r,s):t===404?new A0(t,i,r,s):t===409?new x0(t,i,r,s):t===422?new P0(t,i,r,s):t===429?new N0(t,i,r,s):t>=500?new I0(t,i,r,s):new _e(t,i,r,s)}}class yt extends _e{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}}class ha extends _e{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class ed extends ha{constructor({message:t}={}){super({message:t??"Request timed out."})}}class E0 extends _e{constructor(){super(...arguments),this.status=400}}class b0 extends _e{constructor(){super(...arguments),this.status=401}}class C0 extends _e{constructor(){super(...arguments),this.status=403}}class A0 extends _e{constructor(){super(...arguments),this.status=404}}class x0 extends _e{constructor(){super(...arguments),this.status=409}}class P0 extends _e{constructor(){super(...arguments),this.status=422}}class N0 extends _e{constructor(){super(...arguments),this.status=429}}class I0 extends _e{}class O0 extends D{constructor(){super("Could not parse response content as the length limit was reached")}}class R0 extends D{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const Ac="RFC3986",xc={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},Lk="RFC1738",Mk=Array.isArray,Ct=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),ou=1024,Dk=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<i.length;l+=ou){const a=i.length>=ou?i.slice(l,l+ou):i,u=[];for(let h=0;h<a.length;++h){let c=a.charCodeAt(h);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===Lk&&(c===40||c===41)){u[u.length]=a.charAt(h);continue}if(c<128){u[u.length]=Ct[c];continue}if(c<2048){u[u.length]=Ct[192|c>>6]+Ct[128|c&63];continue}if(c<55296||c>=57344){u[u.length]=Ct[224|c>>12]+Ct[128|c>>6&63]+Ct[128|c&63];continue}h+=1,c=65536+((c&1023)<<10|a.charCodeAt(h)&1023),u[u.length]=Ct[240|c>>18]+Ct[128|c>>12&63]+Ct[128|c>>6&63]+Ct[128|c&63]}o+=u.join("")}return o};function Bk(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function rp(e,t){if(Mk(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const jk=Object.prototype.hasOwnProperty,T0={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},xt=Array.isArray,Fk=Array.prototype.push,$0=function(e,t){Fk.apply(e,xt(t)?t:[t])},Uk=Date.prototype.toISOString,ce={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Dk,encodeValuesOnly:!1,format:Ac,formatter:xc[Ac],indices:!1,serializeDate(e){return Uk.call(e)},skipNulls:!1,strictNullHandling:!1};function zk(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const lu={};function L0(e,t,n,r,s,i,o,l,a,u,h,c,d,p,v,y,w,m){let f=e,g=m,S=0,k=!1;for(;(g=g.get(lu))!==void 0&&!k;){const x=g.get(e);if(S+=1,typeof x<"u"){if(x===S)throw new RangeError("Cyclic object value");k=!0}typeof g.get(lu)>"u"&&(S=0)}if(typeof u=="function"?f=u(t,f):f instanceof Date?f=d==null?void 0:d(f):n==="comma"&&xt(f)&&(f=rp(f,function(x){return x instanceof Date?d==null?void 0:d(x):x})),f===null){if(i)return a&&!y?a(t,ce.encoder,w,"key",p):t;f=""}if(zk(f)||Bk(f)){if(a){const x=y?t:a(t,ce.encoder,w,"key",p);return[(v==null?void 0:v(x))+"="+(v==null?void 0:v(a(f,ce.encoder,w,"value",p)))]}return[(v==null?void 0:v(t))+"="+(v==null?void 0:v(String(f)))]}const _=[];if(typeof f>"u")return _;let b;if(n==="comma"&&xt(f))y&&a&&(f=rp(f,a)),b=[{value:f.length>0?f.join(",")||null:void 0}];else if(xt(u))b=u;else{const x=Object.keys(f);b=h?x.sort(h):x}const E=l?String(t).replace(/\./g,"%2E"):String(t),I=r&&xt(f)&&f.length===1?E+"[]":E;if(s&&xt(f)&&f.length===0)return I+"[]";for(let x=0;x<b.length;++x){const R=b[x],F=typeof R=="object"&&typeof R.value<"u"?R.value:f[R];if(o&&F===null)continue;const et=c&&l?R.replace(/\./g,"%2E"):R,mi=xt(f)?typeof n=="function"?n(I,et):I:I+(c?"."+et:"["+et+"]");m.set(e,S);const yi=new WeakMap;yi.set(lu,m),$0(_,L0(F,mi,n,r,s,i,o,l,n==="comma"&&y&&xt(f)?null:a,u,h,c,d,p,v,y,w,yi))}return _}function Kk(e=ce){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||ce.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Ac;if(typeof e.format<"u"){if(!jk.call(xc,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=xc[n];let s=ce.filter;(typeof e.filter=="function"||xt(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in T0?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=ce.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:ce.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ce.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ce.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ce.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ce.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ce.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ce.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ce.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ce.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ce.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ce.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ce.strictNullHandling}}function Wk(e,t={}){let n=e;const r=Kk(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):xt(r.filter)&&(i=r.filter,s=i);const o=[];if(typeof n!="object"||n===null)return"";const l=T0[r.arrayFormat],a=l==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let d=0;d<s.length;++d){const p=s[d];r.skipNulls&&n[p]===null||$0(o,L0(n[p],p,l,a,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const h=o.join(r.delimiter);let c=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),h.length>0?c+h:""}class td extends S0{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Et extends S0{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class z{constructor(t){this._client=t}}let nl=class extends z{create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}};nl||(nl={});let rl=class extends z{constructor(){super(...arguments),this.completions=new nl(this._client)}};(function(e){e.Completions=nl})(rl||(rl={}));class sl extends z{create(t,n){return this._client.post("/audio/speech",{body:t,...n,__binaryResponse:!0})}}sl||(sl={});class il extends z{create(t,n){return this._client.post("/audio/transcriptions",Wr({body:t,...n}))}}il||(il={});class ol extends z{create(t,n){return this._client.post("/audio/translations",Wr({body:t,...n}))}}ol||(ol={});class ll extends z{constructor(){super(...arguments),this.transcriptions=new il(this._client),this.translations=new ol(this._client),this.speech=new sl(this._client)}}(function(e){e.Transcriptions=il,e.Translations=ol,e.Speech=sl})(ll||(ll={}));class al extends z{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/batches",nd,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class nd extends Et{}(function(e){e.BatchesPage=nd})(al||(al={}));class ul extends z{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/assistants",rd,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class rd extends Et{}(function(e){e.AssistantsPage=rd})(ul||(ul={}));function sp(e){return typeof e.parse=="function"}const Tr=e=>(e==null?void 0:e.role)==="assistant",M0=e=>(e==null?void 0:e.role)==="function",D0=e=>(e==null?void 0:e.role)==="tool";var ft=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},X=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Pc,uo,co,gs,ws,fo,vs,Mt,Ss,cl,fl,rr,B0;class j0{constructor(){Pc.add(this),this.controller=new AbortController,uo.set(this,void 0),co.set(this,()=>{}),gs.set(this,()=>{}),ws.set(this,void 0),fo.set(this,()=>{}),vs.set(this,()=>{}),Mt.set(this,{}),Ss.set(this,!1),cl.set(this,!1),fl.set(this,!1),rr.set(this,!1),ft(this,uo,new Promise((t,n)=>{ft(this,co,t,"f"),ft(this,gs,n,"f")}),"f"),ft(this,ws,new Promise((t,n)=>{ft(this,fo,t,"f"),ft(this,vs,n,"f")}),"f"),X(this,uo,"f").catch(()=>{}),X(this,ws,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},X(this,Pc,"m",B0).bind(this))},0)}_connected(){this.ended||(X(this,co,"f").call(this),this._emit("connect"))}get ended(){return X(this,Ss,"f")}get errored(){return X(this,cl,"f")}get aborted(){return X(this,fl,"f")}abort(){this.controller.abort()}on(t,n){return(X(this,Mt,"f")[t]||(X(this,Mt,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=X(this,Mt,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(X(this,Mt,"f")[t]||(X(this,Mt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{ft(this,rr,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){ft(this,rr,!0,"f"),await X(this,ws,"f")}_emit(t,...n){if(X(this,Ss,"f"))return;t==="end"&&(ft(this,Ss,!0,"f"),X(this,fo,"f").call(this));const r=X(this,Mt,"f")[t];if(r&&(X(this,Mt,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!X(this,rr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),X(this,gs,"f").call(this,s),X(this,vs,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!X(this,rr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),X(this,gs,"f").call(this,s),X(this,vs,"f").call(this,s),this._emit("end")}}_emitFinal(){}}uo=new WeakMap,co=new WeakMap,gs=new WeakMap,ws=new WeakMap,fo=new WeakMap,vs=new WeakMap,Mt=new WeakMap,Ss=new WeakMap,cl=new WeakMap,fl=new WeakMap,rr=new WeakMap,Pc=new WeakSet,B0=function(t){if(ft(this,cl,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new yt),t instanceof yt)return ft(this,fl,!0,"f"),this._emit("abort",t);if(t instanceof D)return this._emit("error",t);if(t instanceof Error){const n=new D(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new D(String(t)))};function F0(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function pi(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Vk(e,t){return!t||!U0(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:sd(e,t)}function sd(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new O0;if(r.finish_reason==="content_filter")throw new R0;return{...r,message:{...r.message,tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>Hk(t,i)))??[],parsed:r.message.content&&!r.message.refusal?qk(t,r.message.content):null}}});return{...e,choices:n}}function qk(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function Hk(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:pi(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function Qk(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return pi(n)||(n==null?void 0:n.function.strict)||!1}function U0(e){var t;return F0(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>pi(n)||n.type==="function"&&n.function.strict===!0))??!1}function Jk(e){for(const t of e??[]){if(t.type!=="function")throw new D(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new D(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Le=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},be,Nc,dl,Ic,Oc,Rc,z0,Tc;const ip=10;class K0 extends j0{constructor(){super(...arguments),be.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(M0(t)||D0(t))&&t.content)this._emit("functionCallResult",t.content);else if(Tr(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Tr(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new D("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Le(this,be,"m",Nc).call(this)}async finalMessage(){return await this.done(),Le(this,be,"m",dl).call(this)}async finalFunctionCall(){return await this.done(),Le(this,be,"m",Ic).call(this)}async finalFunctionCallResult(){return await this.done(),Le(this,be,"m",Oc).call(this)}async totalUsage(){return await this.done(),Le(this,be,"m",Rc).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=Le(this,be,"m",dl).call(this);n&&this._emit("finalMessage",n);const r=Le(this,be,"m",Nc).call(this);r&&this._emit("finalContent",r);const s=Le(this,be,"m",Ic).call(this);s&&this._emit("finalFunctionCall",s);const i=Le(this,be,"m",Oc).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Le(this,be,"m",Rc).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Le(this,be,"m",z0).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(sd(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var d;const s="function",{function_call:i="auto",stream:o,...l}=n,a=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=ip}=r||{},h={};for(const p of n.functions)h[p.name||p.function.name]=p;const c=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const y=(d=(await this._createChatCompletion(t,{...l,function_call:i,functions:c,messages:[...this.messages]},r)).choices[0])==null?void 0:d.message;if(!y)throw new D("missing message in ChatCompletion response");if(!y.function_call)return;const{name:w,arguments:m}=y.function_call,f=h[w];if(f){if(a&&a!==w){const _=`Invalid function_call: ${JSON.stringify(w)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,name:w,content:_});continue}}else{const _=`Invalid function_call: ${JSON.stringify(w)}. Available options are: ${c.map(b=>JSON.stringify(b.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:w,content:_});continue}let g;try{g=sp(f)?await f.parse(m):m}catch(_){this._addMessage({role:s,name:w,content:_ instanceof Error?_.message:String(_)});continue}const S=await f.function(g,this),k=Le(this,be,"m",Tc).call(this,S);if(this._addMessage({role:s,name:w,content:k}),a)return}}async _runTools(t,n,r){var p,v,y;const s="tool",{tool_choice:i="auto",stream:o,...l}=n,a=typeof i!="string"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:u=ip}=r||{},h=n.tools.map(w=>{if(pi(w)){if(!w.$callback)throw new D("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),c={};for(const w of h)w.type==="function"&&(c[w.function.name||w.function.function.name]=w.function);const d="tools"in n?h.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of n.messages)this._addMessage(w,!1);for(let w=0;w<u;++w){const f=(v=(await this._createChatCompletion(t,{...l,tool_choice:i,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!f)throw new D("missing message in ChatCompletion response");if(!((y=f.tool_calls)!=null&&y.length))return;for(const g of f.tool_calls){if(g.type!=="function")continue;const S=g.id,{name:k,arguments:_}=g.function,b=c[k];if(b){if(a&&a!==k){const R=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,tool_call_id:S,content:R});continue}}else{const R=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(c).map(F=>JSON.stringify(F)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:S,content:R});continue}let E;try{E=sp(b)?await b.parse(_):_}catch(R){const F=R instanceof Error?R.message:String(R);this._addMessage({role:s,tool_call_id:S,content:F});continue}const I=await b.function(E,this),x=Le(this,be,"m",Tc).call(this,I);if(this._addMessage({role:s,tool_call_id:S,content:x}),a)return}}}}be=new WeakSet,Nc=function(){return Le(this,be,"m",dl).call(this).content??null},dl=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Tr(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new D("stream ended without producing a ChatCompletionMessage with role=assistant")},Ic=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Tr(s)&&(s!=null&&s.function_call))return s.function_call;if(Tr(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Oc=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(M0(n)&&n.content!=null||D0(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Rc=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},z0=function(t){if(t.n!=null&&t.n>1)throw new D("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Tc=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ri extends K0{static runFunctions(t,n,r){const s=new ri,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new ri,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),Tr(t)&&t.content&&this._emit("content",t.content)}}const W0=1,V0=2,q0=4,H0=8,Q0=16,J0=32,X0=64,Y0=128,G0=256,Z0=Y0|G0,ew=Q0|J0|Z0|X0,tw=W0|V0|ew,nw=q0|H0,Xk=tw|nw,pe={STR:W0,NUM:V0,ARR:q0,OBJ:H0,NULL:Q0,BOOL:J0,NAN:X0,INFINITY:Y0,MINUS_INFINITY:G0,INF:Z0,SPECIAL:ew,ATOM:tw,COLLECTION:nw,ALL:Xk};class Yk extends Error{}class Gk extends Error{}function Zk(e,t=pe.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return eE(e.trim(),t)}const eE=(e,t)=>{const n=e.length;let r=0;const s=d=>{throw new Yk(`${d} at position ${r}`)},i=d=>{throw new Gk(`${d} at position ${r}`)},o=()=>(c(),r>=n&&s("Unexpected end of input"),e[r]==='"'?l():e[r]==="{"?a():e[r]==="["?u():e.substring(r,r+4)==="null"||pe.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||pe.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||pe.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||pe.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||pe.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||pe.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):h()),l=()=>{const d=r;let p=!1;for(r++;r<n&&(e[r]!=='"'||p&&e[r-1]==="\\");)p=e[r]==="\\"?!p:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(d,++r-Number(p)))}catch(v){i(String(v))}else if(pe.STR&t)try{return JSON.parse(e.substring(d,r-Number(p))+'"')}catch{return JSON.parse(e.substring(d,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},a=()=>{r++,c();const d={};try{for(;e[r]!=="}";){if(c(),r>=n&&pe.OBJ&t)return d;const p=l();c(),r++;try{const v=o();Object.defineProperty(d,p,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(pe.OBJ&t)return d;throw v}c(),e[r]===","&&r++}}catch{if(pe.OBJ&t)return d;s("Expected '}' at end of object")}return r++,d},u=()=>{r++;const d=[];try{for(;e[r]!=="]";)d.push(o()),c(),e[r]===","&&r++}catch{if(pe.ARR&t)return d;s("Expected ']' at end of array")}return r++,d},h=()=>{if(r===0){e==="-"&&pe.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(pe.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(p))}}const d=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(pe.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(d,r))}catch{e.substring(d,r)==="-"&&pe.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(d,e.lastIndexOf("e")))}catch(v){i(String(v))}}},c=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return o()},op=e=>Zk(e,pe.ALL^pe.NUM);var Zn=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},K=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ue,Lt,er,Yt,au,Wi,uu,cu,fu,Vi,du,lp;class si extends K0{constructor(t){super(),ue.add(this),Lt.set(this,void 0),er.set(this,void 0),Yt.set(this,void 0),Zn(this,Lt,t,"f"),Zn(this,er,[],"f")}get currentChatCompletionSnapshot(){return K(this,Yt,"f")}static fromReadableStream(t){const n=new si(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new si(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),K(this,ue,"m",au).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of i)K(this,ue,"m",uu).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new yt;return this._addChatCompletion(K(this,ue,"m",Vi).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),K(this,ue,"m",au).call(this),this._connected();const s=It.fromReadableStream(t,this.controller);let i;for await(const l of s)i&&i!==l.id&&this._addChatCompletion(K(this,ue,"m",Vi).call(this)),K(this,ue,"m",uu).call(this,l),i=l.id;if((o=s.controller.signal)!=null&&o.aborted)throw new yt;return this._addChatCompletion(K(this,ue,"m",Vi).call(this))}[(Lt=new WeakMap,er=new WeakMap,Yt=new WeakMap,ue=new WeakSet,au=function(){this.ended||Zn(this,Yt,void 0,"f")},Wi=function(n){let r=K(this,er,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},K(this,er,"f")[n.index]=r,r)},uu=function(n){var s,i,o,l,a,u,h,c,d,p,v,y,w,m,f;if(this.ended)return;const r=K(this,ue,"m",lp).call(this,n);this._emit("chunk",n,r);for(const g of n.choices){const S=r.choices[g.index];g.delta.content!=null&&((s=S.message)==null?void 0:s.role)==="assistant"&&((i=S.message)!=null&&i.content)&&(this._emit("content",g.delta.content,S.message.content),this._emit("content.delta",{delta:g.delta.content,snapshot:S.message.content,parsed:S.message.parsed})),g.delta.refusal!=null&&((o=S.message)==null?void 0:o.role)==="assistant"&&((l=S.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:g.delta.refusal,snapshot:S.message.refusal}),((a=g.logprobs)==null?void 0:a.content)!=null&&((u=S.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=g.logprobs)==null?void 0:h.content,snapshot:((c=S.logprobs)==null?void 0:c.content)??[]}),((d=g.logprobs)==null?void 0:d.refusal)!=null&&((p=S.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=g.logprobs)==null?void 0:v.refusal,snapshot:((y=S.logprobs)==null?void 0:y.refusal)??[]});const k=K(this,ue,"m",Wi).call(this,S);S.finish_reason&&(K(this,ue,"m",fu).call(this,S),k.current_tool_call_index!=null&&K(this,ue,"m",cu).call(this,S,k.current_tool_call_index));for(const _ of g.delta.tool_calls??[])k.current_tool_call_index!==_.index&&(K(this,ue,"m",fu).call(this,S),k.current_tool_call_index!=null&&K(this,ue,"m",cu).call(this,S,k.current_tool_call_index)),k.current_tool_call_index=_.index;for(const _ of g.delta.tool_calls??[]){const b=(w=S.message.tool_calls)==null?void 0:w[_.index];b!=null&&b.type&&((b==null?void 0:b.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(m=b.function)==null?void 0:m.name,index:_.index,arguments:b.function.arguments,parsed_arguments:b.function.parsed_arguments,arguments_delta:((f=_.function)==null?void 0:f.arguments)??""}):(b==null||b.type,void 0))}}},cu=function(n,r){var o,l,a;if(K(this,ue,"m",Wi).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(a=(l=K(this,Lt,"f"))==null?void 0:l.tools)==null?void 0:a.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:pi(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},fu=function(n){var s,i;const r=K(this,ue,"m",Wi).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=K(this,ue,"m",du).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Vi=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");const n=K(this,Yt,"f");if(!n)throw new D("request ended without sending any chunks");return Zn(this,Yt,void 0,"f"),Zn(this,er,[],"f"),tE(n,K(this,Lt,"f"))},du=function(){var r;const n=(r=K(this,Lt,"f"))==null?void 0:r.response_format;return F0(n)?n:null},lp=function(n){var r,s,i,o;let l=K(this,Yt,"f");const{choices:a,...u}=n;l?Object.assign(l,u):l=Zn(this,Yt,{...u,choices:[]},"f");for(const{delta:h,finish_reason:c,index:d,logprobs:p=null,...v}of n.choices){let y=l.choices[d];if(y||(y=l.choices[d]={finish_reason:c,index:d,message:{},logprobs:p,...v}),p)if(!y.logprobs)y.logprobs=Object.assign({},p);else{const{content:_,refusal:b,...E}=p;Object.assign(y.logprobs,E),_&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(..._)),b&&((s=y.logprobs).refusal??(s.refusal=[]),y.logprobs.refusal.push(...b))}if(c&&(y.finish_reason=c,K(this,Lt,"f")&&U0(K(this,Lt,"f")))){if(c==="length")throw new O0;if(c==="content_filter")throw new R0}if(Object.assign(y,v),!h)continue;const{content:w,refusal:m,function_call:f,role:g,tool_calls:S,...k}=h;if(Object.assign(y.message,k),m&&(y.message.refusal=(y.message.refusal||"")+m),g&&(y.message.role=g),f&&(y.message.function_call?(f.name&&(y.message.function_call.name=f.name),f.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=f.arguments)):y.message.function_call=f),w&&(y.message.content=(y.message.content||"")+w,!y.message.refusal&&K(this,ue,"m",du).call(this)&&(y.message.parsed=op(y.message.content))),S){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:_,id:b,type:E,function:I,...x}of S){const R=(o=y.message.tool_calls)[_]??(o[_]={});Object.assign(R,x),b&&(R.id=b),E&&(R.type=E),I&&(R.function??(R.function={name:I.name??"",arguments:""})),I!=null&&I.name&&(R.function.name=I.name),I!=null&&I.arguments&&(R.function.arguments+=I.arguments,Qk(K(this,Lt,"f"),R)&&(R.function.parsed_arguments=op(R.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new It(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function tE(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:o,...l}=e,a={...l,id:n,choices:r.map(({message:u,finish_reason:h,index:c,logprobs:d,...p})=>{if(!h)throw new D(`missing finish_reason for choice ${c}`);const{content:v=null,function_call:y,tool_calls:w,...m}=u,f=u.role;if(!f)throw new D(`missing role for choice ${c}`);if(y){const{arguments:g,name:S}=y;if(g==null)throw new D(`missing function_call.arguments for choice ${c}`);if(!S)throw new D(`missing function_call.name for choice ${c}`);return{...p,message:{content:v,function_call:{arguments:g,name:S},role:f,refusal:u.refusal??null},finish_reason:h,index:c,logprobs:d}}return w?{...p,index:c,finish_reason:h,logprobs:d,message:{...m,role:f,content:v,refusal:u.refusal??null,tool_calls:w.map((g,S)=>{const{function:k,type:_,id:b,...E}=g,{arguments:I,name:x,...R}=k||{};if(b==null)throw new D(`missing choices[${c}].tool_calls[${S}].id
${qi(e)}`);if(_==null)throw new D(`missing choices[${c}].tool_calls[${S}].type
${qi(e)}`);if(x==null)throw new D(`missing choices[${c}].tool_calls[${S}].function.name
${qi(e)}`);if(I==null)throw new D(`missing choices[${c}].tool_calls[${S}].function.arguments
${qi(e)}`);return{...E,id:b,type:_,function:{...R,name:x,arguments:I}}})}}:{...p,message:{...m,content:v,role:f,refusal:u.refusal??null},finish_reason:h,index:c,logprobs:d}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return Vk(a,t)}function qi(e){return JSON.stringify(e)}class $r extends si{static fromReadableStream(t){const n=new $r(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const s=new $r(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new $r(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let rw=class extends z{parse(t,n){return Jk(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>sd(r,t))}runFunctions(t,n){return t.stream?$r.runFunctions(this._client,t,n):ri.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?$r.runTools(this._client,t,n):ri.runTools(this._client,t,n)}stream(t,n){return si.createChatCompletion(this._client,t,n)}};class hl extends z{constructor(){super(...arguments),this.completions=new rw(this._client)}}(function(e){e.Completions=rw})(hl||(hl={}));var O=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ke=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},we,$c,Pt,ho,ht,Ln,Sr,Pn,pl,Ve,po,mo,Ms,_s,ks,ap,up,cp,fp,dp,hp,pp;class gt extends j0{constructor(){super(...arguments),we.add(this),$c.set(this,[]),Pt.set(this,{}),ho.set(this,{}),ht.set(this,void 0),Ln.set(this,void 0),Sr.set(this,void 0),Pn.set(this,void 0),pl.set(this,void 0),Ve.set(this,void 0),po.set(this,void 0),mo.set(this,void 0),Ms.set(this,void 0)}[($c=new WeakMap,Pt=new WeakMap,ho=new WeakMap,ht=new WeakMap,Ln=new WeakMap,Sr=new WeakMap,Pn=new WeakMap,pl=new WeakMap,Ve=new WeakMap,po=new WeakMap,mo=new WeakMap,Ms=new WeakMap,we=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new gt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=It.fromReadableStream(t,this.controller);for await(const o of s)O(this,we,"m",_s).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new yt;return this._addRun(O(this,we,"m",ks).call(this))}toReadableStream(){return new It(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s,i){const o=new gt;return o._run(()=>o._runToolAssistantStream(t,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,r,s,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...s,stream:!0},a=await t.submitToolOutputs(n,r,l,{...i,signal:this.controller.signal});this._connected();for await(const h of a)O(this,we,"m",_s).call(this,h);if((u=a.controller.signal)!=null&&u.aborted)throw new yt;return this._addRun(O(this,we,"m",ks).call(this))}static createThreadAssistantStream(t,n,r){const s=new gt;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new gt;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return O(this,po,"f")}currentRun(){return O(this,mo,"f")}currentMessageSnapshot(){return O(this,ht,"f")}currentRunStepSnapshot(){return O(this,Ms,"f")}async finalRunSteps(){return await this.done(),Object.values(O(this,Pt,"f"))}async finalMessages(){return await this.done(),Object.values(O(this,ho,"f"))}async finalRun(){if(await this.done(),!O(this,Ln,"f"))throw Error("Final run was not received.");return O(this,Ln,"f")}async _createThreadAssistantStream(t,n,r){var l;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const a of o)O(this,we,"m",_s).call(this,a);if((l=o.controller.signal)!=null&&l.aborted)throw new yt;return this._addRun(O(this,we,"m",ks).call(this))}async _createAssistantStream(t,n,r,s){var a;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await t.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const u of l)O(this,we,"m",_s).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new yt;return this._addRun(O(this,we,"m",ks).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(iu(i)&&iu(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!iu(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const a=i[l];a==null?i.push(o):i[l]=this.accumulateDelta(a,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s,i){return await this._createToolAssistantStream(r,t,n,s,i)}}_s=function(t){if(!this.ended)switch(Ke(this,po,t,"f"),O(this,we,"m",cp).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":O(this,we,"m",pp).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":O(this,we,"m",up).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":O(this,we,"m",ap).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ks=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");if(!O(this,Ln,"f"))throw Error("Final run has not been received");return O(this,Ln,"f")},ap=function(t){const[n,r]=O(this,we,"m",dp).call(this,t,O(this,ht,"f"));Ke(this,ht,n,"f"),O(this,ho,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=O(this,Sr,"f")){if(O(this,Pn,"f"))switch(O(this,Pn,"f").type){case"text":this._emit("textDone",O(this,Pn,"f").text,O(this,ht,"f"));break;case"image_file":this._emit("imageFileDone",O(this,Pn,"f").image_file,O(this,ht,"f"));break}Ke(this,Sr,s.index,"f")}Ke(this,Pn,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(O(this,Sr,"f")!==void 0){const s=t.data.content[O(this,Sr,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,O(this,ht,"f"));break;case"text":this._emit("textDone",s.text,O(this,ht,"f"));break}}O(this,ht,"f")&&this._emit("messageDone",t.data),Ke(this,ht,void 0,"f")}},up=function(t){const n=O(this,we,"m",fp).call(this,t);switch(Ke(this,Ms,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==O(this,pl,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(O(this,Ve,"f")&&this._emit("toolCallDone",O(this,Ve,"f")),Ke(this,pl,i.index,"f"),Ke(this,Ve,n.step_details.tool_calls[i.index],"f"),O(this,Ve,"f")&&this._emit("toolCallCreated",O(this,Ve,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ke(this,Ms,void 0,"f"),t.data.step_details.type=="tool_calls"&&O(this,Ve,"f")&&(this._emit("toolCallDone",O(this,Ve,"f")),Ke(this,Ve,void 0,"f")),this._emit("runStepDone",t.data,n);break}},cp=function(t){O(this,$c,"f").push(t),this._emit("event",t)},fp=function(t){switch(t.event){case"thread.run.step.created":return O(this,Pt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=O(this,Pt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=gt.accumulateDelta(n,r.delta);O(this,Pt,"f")[t.data.id]=s}return O(this,Pt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":O(this,Pt,"f")[t.data.id]=t.data;break}if(O(this,Pt,"f")[t.data.id])return O(this,Pt,"f")[t.data.id];throw new Error("No snapshot available")},dp=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=O(this,we,"m",hp).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},hp=function(t,n){return gt.accumulateDelta(n,t)},pp=function(t){switch(Ke(this,mo,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Ke(this,Ln,t.data,"f"),O(this,Ve,"f")&&(this._emit("toolCallDone",O(this,Ve,"f")),Ke(this,Ve,void 0,"f"));break}};class ml extends z{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,id,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class id extends Et{}(function(e){e.MessagesPage=id})(ml||(ml={}));class yl extends z{retrieve(t,n,r,s={},i){return ze(s)?this.retrieve(t,n,r,{},s):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,r={},s){return ze(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,od,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class od extends Et{}(function(e){e.RunStepsPage=od})(yl||(yl={}));class gl extends z{constructor(){super(...arguments),this.steps=new yl(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,ld,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}createAndStream(t,n,r){return gt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await hi(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,r){return gt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,s){const i=await this.submitToolOutputs(t,n,r,s);return await this.poll(t,i.id,s)}submitToolOutputsStream(t,n,r,s){return gt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,s)}}class ld extends Et{}(function(e){e.RunsPage=ld,e.Steps=yl,e.RunStepsPage=od})(gl||(gl={}));class wl extends z{constructor(){super(...arguments),this.runs=new gl(this._client),this.messages=new ml(this._client)}create(t={},n){return ze(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return gt.createThreadAssistantStream(t,this._client.beta.threads,n)}}(function(e){e.Runs=gl,e.RunsPage=ld,e.Messages=ml,e.MessagesPage=id})(wl||(wl={}));const nE=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};let vl=class extends z{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,pa,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(t,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=i.response.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await hi(l);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}};class pa extends Et{}(function(e){e.VectorStoreFilesPage=pa})(vl||(vl={}));class Sl extends z{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r={},s){return ze(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,pa,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await hi(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),l=this._client,a=n.values(),u=[...r];async function h(d){for(let p of d){const v=await l.files.create({file:p,purpose:"assistants"},s);u.push(v.id)}}const c=Array(o).fill(a).map(h);return await nE(c),await this.createAndPoll(t,{file_ids:u})}}Sl||(Sl={});class _l extends z{constructor(){super(...arguments),this.files=new vl(this._client),this.fileBatches=new Sl(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/vector_stores",ad,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class ad extends Et{}(function(e){e.VectorStoresPage=ad,e.Files=vl,e.VectorStoreFilesPage=pa,e.FileBatches=Sl})(_l||(_l={}));class kl extends z{constructor(){super(...arguments),this.vectorStores=new _l(this._client),this.chat=new hl(this._client),this.assistants=new ul(this._client),this.threads=new wl(this._client)}}(function(e){e.VectorStores=_l,e.VectorStoresPage=ad,e.Chat=hl,e.Assistants=ul,e.AssistantsPage=rd,e.Threads=wl})(kl||(kl={}));class El extends z{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}El||(El={});class bl extends z{create(t,n){return this._client.post("/embeddings",{body:t,...n})}}bl||(bl={});class Cl extends z{create(t,n){return this._client.post("/files",Wr({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/files",ud,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(t);for(;!o.status||!s.has(o.status);)if(await hi(n),o=await this.retrieve(t),Date.now()-i>r)throw new ed({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return o}}class ud extends td{}(function(e){e.FileObjectsPage=ud})(Cl||(Cl={}));class Al extends z{list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,cd,{query:n,...r})}}class cd extends Et{}(function(e){e.FineTuningJobCheckpointsPage=cd})(Al||(Al={}));class xl extends z{constructor(){super(...arguments),this.checkpoints=new Al(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",fd,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return ze(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,dd,{query:n,...r})}}class fd extends Et{}class dd extends Et{}(function(e){e.FineTuningJobsPage=fd,e.FineTuningJobEventsPage=dd,e.Checkpoints=Al,e.FineTuningJobCheckpointsPage=cd})(xl||(xl={}));class Pl extends z{constructor(){super(...arguments),this.jobs=new xl(this._client)}}(function(e){e.Jobs=xl,e.FineTuningJobsPage=fd,e.FineTuningJobEventsPage=dd})(Pl||(Pl={}));class Nl extends z{createVariation(t,n){return this._client.post("/images/variations",Wr({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Wr({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}Nl||(Nl={});class Il extends z{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",hd,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class hd extends td{}(function(e){e.ModelsPage=hd})(Il||(Il={}));class Ol extends z{create(t,n){return this._client.post("/moderations",{body:t,...n})}}Ol||(Ol={});class Rl extends z{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,Wr({body:n,...r}))}}Rl||(Rl={});class Tl extends z{constructor(){super(...arguments),this.parts=new Rl(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}(function(e){e.Parts=Rl})(Tl||(Tl={}));var sw;class oe extends _k{constructor({baseURL:t=Ki("OPENAI_BASE_URL"),apiKey:n=Ki("OPENAI_API_KEY"),organization:r=Ki("OPENAI_ORG_ID")??null,project:s=Ki("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new D("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&Rk())throw new D(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new El(this),this.chat=new rl(this),this.embeddings=new bl(this),this.files=new Cl(this),this.images=new Nl(this),this.audio=new ll(this),this.moderations=new Ol(this),this.models=new Il(this),this.fineTuning=new Pl(this),this.beta=new kl(this),this.batches=new al(this),this.uploads=new Tl(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return Wk(t,{arrayFormat:"brackets"})}}sw=oe;oe.OpenAI=sw;oe.DEFAULT_TIMEOUT=6e5;oe.OpenAIError=D;oe.APIError=_e;oe.APIConnectionError=ha;oe.APIConnectionTimeoutError=ed;oe.APIUserAbortError=yt;oe.NotFoundError=A0;oe.ConflictError=x0;oe.RateLimitError=N0;oe.BadRequestError=E0;oe.AuthenticationError=b0;oe.InternalServerError=I0;oe.PermissionDeniedError=C0;oe.UnprocessableEntityError=P0;oe.toFile=g0;oe.fileFromPath=d0;(function(e){e.Page=td,e.CursorPage=Et,e.Completions=El,e.Chat=rl,e.Embeddings=bl,e.Files=Cl,e.FileObjectsPage=ud,e.Images=Nl,e.Audio=ll,e.Moderations=Ol,e.Models=Il,e.ModelsPage=hd,e.FineTuning=Pl,e.Beta=kl,e.Batches=al,e.BatchesPage=nd,e.Uploads=Tl})(oe||(oe={}));let hu=null;const rE=()=>{if(!hu){let t=localStorage.getItem("openai_api_key");if(!t)if(t=prompt("Please enter your OpenAI API key:"),t)localStorage.setItem("openai_api_key",t),console.log(" API key saved to local storage");else throw console.error(" No API key provided"),new Error("OpenAI API key is required");hu=new oe({apiKey:t,dangerouslyAllowBrowser:!0}),console.log(" OpenAI instance created")}return hu};async function mp(e){const t=rE(),n=n0();console.log(" Sending request to OpenAI");const r=await t.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:n},{role:"user",content:e}],response_format:{type:"json_object"},functions:[{name:"generate_actions",description:"Generate a list of actions based on the user's request",parameters:r0}],function_call:{name:"generate_actions"}});console.log(" Received response from OpenAI");const s=r.choices[0].message.function_call;if(s&&s.name==="generate_actions")return JSON.parse(s.arguments||"{}");throw new Error("Unexpected response format from OpenAI")}async function sE(){console.log(" Debug initialized");const e={openai:mp,groq:kc};Object.assign(window,{worldDataState:le,worldDataStateActions:Ae,getActionsFromOpenAI:mp,getActionsFromGroq:kc,go:async(t,n="groq")=>{const r=e[n],s=await r(t);for(const i of s.actions)await iE(),s0(i);console.log(" Received actions from OpenAI:",s)}})}const iE=()=>new Promise(e=>requestAnimationFrame(e));Py(document.getElementById("root")).render(A.jsx(B.StrictMode,{children:A.jsx(sk,{})}));requestAnimationFrame(sE);
