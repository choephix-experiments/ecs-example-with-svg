(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Sp={exports:{}},Ll={},_p={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=Symbol.for("react.element"),cw=Symbol.for("react.portal"),fw=Symbol.for("react.fragment"),dw=Symbol.for("react.strict_mode"),hw=Symbol.for("react.profiler"),pw=Symbol.for("react.provider"),mw=Symbol.for("react.context"),yw=Symbol.for("react.forward_ref"),gw=Symbol.for("react.suspense"),ww=Symbol.for("react.memo"),vw=Symbol.for("react.lazy"),vd=Symbol.iterator;function Sw(e){return e===null||typeof e!="object"?null:(e=vd&&e[vd]||e["@@iterator"],typeof e=="function"?e:null)}var Ep={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kp=Object.assign,bp={};function qr(e,t,n){this.props=e,this.context=t,this.refs=bp,this.updater=n||Ep}qr.prototype.isReactComponent={};qr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cp(){}Cp.prototype=qr.prototype;function Dc(e,t,n){this.props=e,this.context=t,this.refs=bp,this.updater=n||Ep}var Fc=Dc.prototype=new Cp;Fc.constructor=Dc;kp(Fc,qr.prototype);Fc.isPureReactComponent=!0;var Sd=Array.isArray,Ap=Object.prototype.hasOwnProperty,Uc={current:null},xp={key:!0,ref:!0,__self:!0,__source:!0};function Pp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ap.call(t,r)&&!xp.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ii,type:e,key:i,ref:o,props:s,_owner:Uc.current}}function _w(e,t){return{$$typeof:ii,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ii}function Ew(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _d=/\/+/g;function va(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ew(""+e.key):t.toString(36)}function Hi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ii:case cw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+va(o,0):r,Sd(s)?(n="",e!=null&&(n=e.replace(_d,"$&/")+"/"),Hi(s,t,n,"",function(u){return u})):s!=null&&(zc(s)&&(s=_w(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_d,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Sd(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+va(i,l);o+=Hi(i,t,n,a,s)}else if(a=Sw(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+va(i,l++),o+=Hi(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vi(e,t,n){if(e==null)return e;var r=[],s=0;return Hi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function kw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},Qi={transition:null},bw={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Qi,ReactCurrentOwner:Uc};function Np(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:vi,forEach:function(e,t,n){vi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vi(e,function(){t++}),t},toArray:function(e){return vi(e,function(t){return t})||[]},only:function(e){if(!zc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=qr;M.Fragment=fw;M.Profiler=hw;M.PureComponent=Dc;M.StrictMode=dw;M.Suspense=gw;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bw;M.act=Np;M.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Uc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Ap.call(t,a)&&!xp.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ii,type:e.type,key:s,ref:i,props:r,_owner:o}};M.createContext=function(e){return e={$$typeof:mw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pw,_context:e},e.Consumer=e};M.createElement=Pp;M.createFactory=function(e){var t=Pp.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:yw,render:e}};M.isValidElement=zc;M.lazy=function(e){return{$$typeof:vw,_payload:{_status:-1,_result:e},_init:kw}};M.memo=function(e,t){return{$$typeof:ww,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Qi.transition;Qi.transition={};try{e()}finally{Qi.transition=t}};M.unstable_act=Np;M.useCallback=function(e,t){return Te.current.useCallback(e,t)};M.useContext=function(e){return Te.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};M.useEffect=function(e,t){return Te.current.useEffect(e,t)};M.useId=function(){return Te.current.useId()};M.useImperativeHandle=function(e,t,n){return Te.current.useImperativeHandle(e,t,n)};M.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return Te.current.useMemo(e,t)};M.useReducer=function(e,t,n){return Te.current.useReducer(e,t,n)};M.useRef=function(e){return Te.current.useRef(e)};M.useState=function(e){return Te.current.useState(e)};M.useSyncExternalStore=function(e,t,n){return Te.current.useSyncExternalStore(e,t,n)};M.useTransition=function(){return Te.current.useTransition()};M.version="18.3.1";_p.exports=M;var j=_p.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw=j,Aw=Symbol.for("react.element"),xw=Symbol.for("react.fragment"),Pw=Object.prototype.hasOwnProperty,Nw=Cw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Iw={key:!0,ref:!0,__self:!0,__source:!0};function Ip(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Pw.call(t,r)&&!Iw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Aw,type:e,key:i,ref:o,props:s,_owner:Nw.current}}Ll.Fragment=xw;Ll.jsx=Ip;Ll.jsxs=Ip;Sp.exports=Ll;var A=Sp.exports,Op={exports:{}},Ge={},Rp={exports:{}},Tp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,$){var L=N.length;N.push($);e:for(;0<L;){var le=L-1>>>1,pe=N[le];if(0<s(pe,$))N[le]=$,N[L]=pe,L=le;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var $=N[0],L=N.pop();if(L!==$){N[0]=L;e:for(var le=0,pe=N.length,gi=pe>>>1;le<gi;){var kn=2*(le+1)-1,wa=N[kn],bn=kn+1,wi=N[bn];if(0>s(wa,L))bn<pe&&0>s(wi,wa)?(N[le]=wi,N[bn]=L,le=bn):(N[le]=wa,N[kn]=L,le=kn);else if(bn<pe&&0>s(wi,L))N[le]=wi,N[bn]=L,le=bn;else break e}}return $}function s(N,$){var L=N.sortIndex-$.sortIndex;return L!==0?L:N.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,c=null,d=3,p=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=N)r(u),$.sortIndex=$.expirationTime,t(a,$);else break;$=n(u)}}function S(N){if(y=!1,g(N),!v)if(n(a)!==null)v=!0,ya(E);else{var $=n(u);$!==null&&ga(S,$.startTime-N)}}function E(N,$){v=!1,y&&(y=!1,m(k),k=-1),p=!0;var L=d;try{for(g($),c=n(a);c!==null&&(!(c.expirationTime>$)||N&&!R());){var le=c.callback;if(typeof le=="function"){c.callback=null,d=c.priorityLevel;var pe=le(c.expirationTime<=$);$=e.unstable_now(),typeof pe=="function"?c.callback=pe:c===n(a)&&r(a),g($)}else r(a);c=n(a)}if(c!==null)var gi=!0;else{var kn=n(u);kn!==null&&ga(S,kn.startTime-$),gi=!1}return gi}finally{c=null,d=L,p=!1}}var _=!1,b=null,k=-1,I=5,x=-1;function R(){return!(e.unstable_now()-x<I)}function F(){if(b!==null){var N=e.unstable_now();x=N;var $=!0;try{$=b(!0,N)}finally{$?et():(_=!1,b=null)}}else _=!1}var et;if(typeof f=="function")et=function(){f(F)};else if(typeof MessageChannel<"u"){var mi=new MessageChannel,yi=mi.port2;mi.port1.onmessage=F,et=function(){yi.postMessage(null)}}else et=function(){w(F,0)};function ya(N){b=N,_||(_=!0,et())}function ga(N,$){k=w(function(){N(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,ya(E))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var L=d;d=$;try{return N()}finally{d=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,$){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=d;d=N;try{return $()}finally{d=L}},e.unstable_scheduleCallback=function(N,$,L){var le=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?le+L:le):L=le,N){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=L+pe,N={id:h++,callback:$,priorityLevel:N,startTime:L,expirationTime:pe,sortIndex:-1},L>le?(N.sortIndex=L,t(u,N),n(a)===null&&N===n(u)&&(y?(m(k),k=-1):y=!0,ga(S,L-le))):(N.sortIndex=pe,t(a,N),v||p||(v=!0,ya(E))),N},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(N){var $=d;return function(){var L=d;d=$;try{return N.apply(this,arguments)}finally{d=L}}}})(Tp);Rp.exports=Tp;var Ow=Rp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw=j,Xe=Ow;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $p=new Set,Bs={};function Vn(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(Bs[e]=t,e=0;e<t.length;e++)$p.add(t[e])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gu=Object.prototype.hasOwnProperty,Tw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ed={},kd={};function $w(e){return gu.call(kd,e)?!0:gu.call(Ed,e)?!1:Tw.test(e)?kd[e]=!0:(Ed[e]=!0,!1)}function Lw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mw(e,t,n,r){if(t===null||typeof t>"u"||Lw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kc=/[\-:]([a-z])/g;function Wc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kc,Wc);Ee[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kc,Wc);Ee[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kc,Wc);Ee[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function qc(e,t,n,r){var s=Ee.hasOwnProperty(t)?Ee[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mw(t,n,s,r)&&(n=null),r||s===null?$w(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xt=Rw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Si=Symbol.for("react.element"),sr=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),Vc=Symbol.for("react.strict_mode"),wu=Symbol.for("react.profiler"),Lp=Symbol.for("react.provider"),Mp=Symbol.for("react.context"),Hc=Symbol.for("react.forward_ref"),vu=Symbol.for("react.suspense"),Su=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Bp=Symbol.for("react.offscreen"),bd=Symbol.iterator;function es(e){return e===null||typeof e!="object"?null:(e=bd&&e[bd]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,Sa;function us(e){if(Sa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sa=t&&t[1]||""}return`
`+Sa+e}var _a=!1;function Ea(e,t){if(!e||_a)return"";_a=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{_a=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?us(e):""}function Bw(e){switch(e.tag){case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return e=Ea(e.type,!1),e;case 11:return e=Ea(e.type.render,!1),e;case 1:return e=Ea(e.type,!0),e;default:return""}}function _u(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ir:return"Fragment";case sr:return"Portal";case wu:return"Profiler";case Vc:return"StrictMode";case vu:return"Suspense";case Su:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mp:return(e.displayName||"Context")+".Consumer";case Lp:return(e._context.displayName||"Context")+".Provider";case Hc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qc:return t=e.displayName||null,t!==null?t:_u(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return _u(e(t))}catch{}}return null}function jw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _u(t);case 8:return t===Vc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dw(e){var t=jp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _i(e){e._valueTracker||(e._valueTracker=Dw(e))}function Dp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eu(e,t){var n=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fp(e,t){t=t.checked,t!=null&&qc(e,"checked",t,!1)}function ku(e,t){Fp(e,t);var n=mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bu(e,t.type,n):t.hasOwnProperty("defaultValue")&&bu(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ad(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function bu(e,t,n){(t!=="number"||yo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cs=Array.isArray;function _r(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Cu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(cs(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function Up(e,t){var n=mn(t.value),r=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ei,Kp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ei=Ei||document.createElement("div"),Ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fw=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(e){Fw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ks[t]=ks[e]})});function Wp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ks.hasOwnProperty(e)&&ks[e]?(""+t).trim():t+"px"}function qp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Wp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Uw=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xu(e,t){if(t){if(Uw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Pu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=null;function Jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Iu=null,Er=null,kr=null;function Nd(e){if(e=ai(e)){if(typeof Iu!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Fl(t),Iu(e.stateNode,e.type,t))}}function Vp(e){Er?kr?kr.push(e):kr=[e]:Er=e}function Hp(){if(Er){var e=Er,t=kr;if(kr=Er=null,Nd(e),t)for(e=0;e<t.length;e++)Nd(t[e])}}function Qp(e,t){return e(t)}function Jp(){}var ka=!1;function Xp(e,t,n){if(ka)return e(t,n);ka=!0;try{return Qp(e,t,n)}finally{ka=!1,(Er!==null||kr!==null)&&(Jp(),Hp())}}function Ds(e,t){var n=e.stateNode;if(n===null)return null;var r=Fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Ou=!1;if(qt)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{Ou=!1}function zw(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var bs=!1,go=null,wo=!1,Ru=null,Kw={onError:function(e){bs=!0,go=e}};function Ww(e,t,n,r,s,i,o,l,a){bs=!1,go=null,zw.apply(Kw,arguments)}function qw(e,t,n,r,s,i,o,l,a){if(Ww.apply(this,arguments),bs){if(bs){var u=go;bs=!1,go=null}else throw Error(C(198));wo||(wo=!0,Ru=u)}}function Hn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Id(e){if(Hn(e)!==e)throw Error(C(188))}function Vw(e){var t=e.alternate;if(!t){if(t=Hn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Id(s),e;if(i===r)return Id(s),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Yp(e){return e=Vw(e),e!==null?Zp(e):null}function Zp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zp(e);if(t!==null)return t;e=e.sibling}return null}var em=Xe.unstable_scheduleCallback,Od=Xe.unstable_cancelCallback,Hw=Xe.unstable_shouldYield,Qw=Xe.unstable_requestPaint,ae=Xe.unstable_now,Jw=Xe.unstable_getCurrentPriorityLevel,Xc=Xe.unstable_ImmediatePriority,tm=Xe.unstable_UserBlockingPriority,vo=Xe.unstable_NormalPriority,Xw=Xe.unstable_LowPriority,nm=Xe.unstable_IdlePriority,Ml=null,Rt=null;function Gw(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Ml,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:ev,Yw=Math.log,Zw=Math.LN2;function ev(e){return e>>>=0,e===0?32:31-(Yw(e)/Zw|0)|0}var ki=64,bi=4194304;function fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function So(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=fs(l):(i&=o,i!==0&&(r=fs(i)))}else o=n&~s,o!==0?r=fs(o):i!==0&&(r=fs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),s=1<<n,r|=e[n],t&=~s;return r}function tv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=tv(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Tu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rm(){var e=ki;return ki<<=1,!(ki&4194240)&&(ki=64),e}function ba(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function rv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Gc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var U=0;function sm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var im,Yc,om,lm,am,$u=!1,Ci=[],on=null,ln=null,an=null,Fs=new Map,Us=new Map,tn=[],sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rd(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(t.pointerId)}}function ns(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ai(t),t!==null&&Yc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function iv(e,t,n,r,s){switch(t){case"focusin":return on=ns(on,e,t,n,r,s),!0;case"dragenter":return ln=ns(ln,e,t,n,r,s),!0;case"mouseover":return an=ns(an,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fs.set(i,ns(Fs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Us.set(i,ns(Us.get(i)||null,e,t,n,r,s)),!0}return!1}function um(e){var t=Nn(e.target);if(t!==null){var n=Hn(t);if(n!==null){if(t=n.tag,t===13){if(t=Gp(n),t!==null){e.blockedOn=t,am(e.priority,function(){om(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ji(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Nu=r,n.target.dispatchEvent(r),Nu=null}else return t=ai(n),t!==null&&Yc(t),e.blockedOn=n,!1;t.shift()}return!0}function Td(e,t,n){Ji(e)&&n.delete(t)}function ov(){$u=!1,on!==null&&Ji(on)&&(on=null),ln!==null&&Ji(ln)&&(ln=null),an!==null&&Ji(an)&&(an=null),Fs.forEach(Td),Us.forEach(Td)}function rs(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,ov)))}function zs(e){function t(s){return rs(s,e)}if(0<Ci.length){rs(Ci[0],e);for(var n=1;n<Ci.length;n++){var r=Ci[n];r.blockedOn===e&&(r.blockedOn=null)}}for(on!==null&&rs(on,e),ln!==null&&rs(ln,e),an!==null&&rs(an,e),Fs.forEach(t),Us.forEach(t),n=0;n<tn.length;n++)r=tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)um(n),n.blockedOn===null&&tn.shift()}var br=Xt.ReactCurrentBatchConfig,_o=!0;function lv(e,t,n,r){var s=U,i=br.transition;br.transition=null;try{U=1,Zc(e,t,n,r)}finally{U=s,br.transition=i}}function av(e,t,n,r){var s=U,i=br.transition;br.transition=null;try{U=4,Zc(e,t,n,r)}finally{U=s,br.transition=i}}function Zc(e,t,n,r){if(_o){var s=Lu(e,t,n,r);if(s===null)$a(e,t,r,Eo,n),Rd(e,r);else if(iv(s,e,t,n,r))r.stopPropagation();else if(Rd(e,r),t&4&&-1<sv.indexOf(e)){for(;s!==null;){var i=ai(s);if(i!==null&&im(i),i=Lu(e,t,n,r),i===null&&$a(e,t,r,Eo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $a(e,t,r,null,n)}}var Eo=null;function Lu(e,t,n,r){if(Eo=null,e=Jc(r),e=Nn(e),e!==null)if(t=Hn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Eo=e,null}function cm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jw()){case Xc:return 1;case tm:return 4;case vo:case Xw:return 16;case nm:return 536870912;default:return 16}default:return 16}}var rn=null,ef=null,Xi=null;function fm(){if(Xi)return Xi;var e,t=ef,n=t.length,r,s="value"in rn?rn.value:rn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Xi=s.slice(e,1<r?1-r:void 0)}function Gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function $d(){return!1}function Ye(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ai:$d,this.isPropagationStopped=$d,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tf=Ye(Vr),li=re({},Vr,{view:0,detail:0}),uv=Ye(li),Ca,Aa,ss,Bl=re({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(Ca=e.screenX-ss.screenX,Aa=e.screenY-ss.screenY):Aa=Ca=0,ss=e),Ca)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),Ld=Ye(Bl),cv=re({},Bl,{dataTransfer:0}),fv=Ye(cv),dv=re({},li,{relatedTarget:0}),xa=Ye(dv),hv=re({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),pv=Ye(hv),mv=re({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yv=Ye(mv),gv=re({},Vr,{data:0}),Md=Ye(gv),wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _v(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sv[e])?!!t[e]:!1}function nf(){return _v}var Ev=re({},li,{key:function(e){if(e.key){var t=wv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(e){return e.type==="keypress"?Gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kv=Ye(Ev),bv=re({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=Ye(bv),Cv=re({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf}),Av=Ye(Cv),xv=re({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pv=Ye(xv),Nv=re({},Bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Iv=Ye(Nv),Ov=[9,13,27,32],rf=qt&&"CompositionEvent"in window,Cs=null;qt&&"documentMode"in document&&(Cs=document.documentMode);var Rv=qt&&"TextEvent"in window&&!Cs,dm=qt&&(!rf||Cs&&8<Cs&&11>=Cs),jd=" ",Dd=!1;function hm(e,t){switch(e){case"keyup":return Ov.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function Tv(e,t){switch(e){case"compositionend":return pm(t);case"keypress":return t.which!==32?null:(Dd=!0,jd);case"textInput":return e=t.data,e===jd&&Dd?null:e;default:return null}}function $v(e,t){if(or)return e==="compositionend"||!rf&&hm(e,t)?(e=fm(),Xi=ef=rn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dm&&t.locale!=="ko"?null:t.data;default:return null}}var Lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lv[e.type]:t==="textarea"}function mm(e,t,n,r){Vp(r),t=ko(t,"onChange"),0<t.length&&(n=new tf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var As=null,Ks=null;function Mv(e){Am(e,0)}function jl(e){var t=ur(e);if(Dp(t))return e}function Bv(e,t){if(e==="change")return t}var ym=!1;if(qt){var Pa;if(qt){var Na="oninput"in document;if(!Na){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),Na=typeof Ud.oninput=="function"}Pa=Na}else Pa=!1;ym=Pa&&(!document.documentMode||9<document.documentMode)}function zd(){As&&(As.detachEvent("onpropertychange",gm),Ks=As=null)}function gm(e){if(e.propertyName==="value"&&jl(Ks)){var t=[];mm(t,Ks,e,Jc(e)),Xp(Mv,t)}}function jv(e,t,n){e==="focusin"?(zd(),As=t,Ks=n,As.attachEvent("onpropertychange",gm)):e==="focusout"&&zd()}function Dv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jl(Ks)}function Fv(e,t){if(e==="click")return jl(t)}function Uv(e,t){if(e==="input"||e==="change")return jl(t)}function zv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:zv;function Ws(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gu.call(t,s)||!Et(e[s],t[s]))return!1}return!0}function Kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wd(e,t){var n=Kd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kd(n)}}function wm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vm(){for(var e=window,t=yo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yo(e.document)}return t}function sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kv(e){var t=vm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wm(n.ownerDocument.documentElement,n)){if(r!==null&&sf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Wd(n,i);var o=Wd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wv=qt&&"documentMode"in document&&11>=document.documentMode,lr=null,Mu=null,xs=null,Bu=!1;function qd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bu||lr==null||lr!==yo(r)||(r=lr,"selectionStart"in r&&sf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xs&&Ws(xs,r)||(xs=r,r=ko(Mu,"onSelect"),0<r.length&&(t=new tf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ar={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},Ia={},Sm={};qt&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function Dl(e){if(Ia[e])return Ia[e];if(!ar[e])return e;var t=ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sm)return Ia[e]=t[n];return e}var _m=Dl("animationend"),Em=Dl("animationiteration"),km=Dl("animationstart"),bm=Dl("transitionend"),Cm=new Map,Vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){Cm.set(e,t),Vn(t,[e])}for(var Oa=0;Oa<Vd.length;Oa++){var Ra=Vd[Oa],qv=Ra.toLowerCase(),Vv=Ra[0].toUpperCase()+Ra.slice(1);vn(qv,"on"+Vv)}vn(_m,"onAnimationEnd");vn(Em,"onAnimationIteration");vn(km,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(bm,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function Hd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qw(r,t,void 0,e),e.currentTarget=null}function Am(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Hd(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Hd(s,l,u),i=a}}}if(wo)throw e=Ru,wo=!1,Ru=null,e}function H(e,t){var n=t[zu];n===void 0&&(n=t[zu]=new Set);var r=e+"__bubble";n.has(r)||(xm(t,e,2,!1),n.add(r))}function Ta(e,t,n){var r=0;t&&(r|=4),xm(n,e,r,t)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function qs(e){if(!e[Pi]){e[Pi]=!0,$p.forEach(function(n){n!=="selectionchange"&&(Hv.has(n)||Ta(n,!1,e),Ta(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pi]||(t[Pi]=!0,Ta("selectionchange",!1,t))}}function xm(e,t,n,r){switch(cm(t)){case 1:var s=lv;break;case 4:s=av;break;default:s=Zc}n=s.bind(null,t,n,e),s=void 0,!Ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function $a(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Nn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Xp(function(){var u=i,h=Jc(n),c=[];e:{var d=Cm.get(e);if(d!==void 0){var p=tf,v=e;switch(e){case"keypress":if(Gi(n)===0)break e;case"keydown":case"keyup":p=kv;break;case"focusin":v="focus",p=xa;break;case"focusout":v="blur",p=xa;break;case"beforeblur":case"afterblur":p=xa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Av;break;case _m:case Em:case km:p=pv;break;case bm:p=Pv;break;case"scroll":p=uv;break;case"wheel":p=Iv;break;case"copy":case"cut":case"paste":p=yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Bd}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var f=u,g;f!==null;){g=f;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,m!==null&&(S=Ds(f,m),S!=null&&y.push(Vs(f,S,g)))),w)break;f=f.return}0<y.length&&(d=new p(d,v,null,n,h),c.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==Nu&&(v=n.relatedTarget||n.fromElement)&&(Nn(v)||v[Vt]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Nn(v):null,v!==null&&(w=Hn(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=Ld,S="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=Bd,S="onPointerLeave",m="onPointerEnter",f="pointer"),w=p==null?d:ur(p),g=v==null?d:ur(v),d=new y(S,f+"leave",p,n,h),d.target=w,d.relatedTarget=g,S=null,Nn(h)===u&&(y=new y(m,f+"enter",v,n,h),y.target=g,y.relatedTarget=w,S=y),w=S,p&&v)t:{for(y=p,m=v,f=0,g=y;g;g=Xn(g))f++;for(g=0,S=m;S;S=Xn(S))g++;for(;0<f-g;)y=Xn(y),f--;for(;0<g-f;)m=Xn(m),g--;for(;f--;){if(y===m||m!==null&&y===m.alternate)break t;y=Xn(y),m=Xn(m)}y=null}else y=null;p!==null&&Qd(c,d,p,y,!1),v!==null&&w!==null&&Qd(c,w,v,y,!0)}}e:{if(d=u?ur(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=Bv;else if(Fd(d))if(ym)E=Uv;else{E=Dv;var _=jv}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Fv);if(E&&(E=E(e,u))){mm(c,E,n,h);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&bu(d,"number",d.value)}switch(_=u?ur(u):window,e){case"focusin":(Fd(_)||_.contentEditable==="true")&&(lr=_,Mu=u,xs=null);break;case"focusout":xs=Mu=lr=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,qd(c,n,h);break;case"selectionchange":if(Wv)break;case"keydown":case"keyup":qd(c,n,h)}var b;if(rf)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else or?hm(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(dm&&n.locale!=="ko"&&(or||k!=="onCompositionStart"?k==="onCompositionEnd"&&or&&(b=fm()):(rn=h,ef="value"in rn?rn.value:rn.textContent,or=!0)),_=ko(u,k),0<_.length&&(k=new Md(k,e,null,n,h),c.push({event:k,listeners:_}),b?k.data=b:(b=pm(n),b!==null&&(k.data=b)))),(b=Rv?Tv(e,n):$v(e,n))&&(u=ko(u,"onBeforeInput"),0<u.length&&(h=new Md("onBeforeInput","beforeinput",null,n,h),c.push({event:h,listeners:u}),h.data=b))}Am(c,t)})}function Vs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ko(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ds(e,n),i!=null&&r.unshift(Vs(e,i,s)),i=Ds(e,t),i!=null&&r.push(Vs(e,i,s))),e=e.return}return r}function Xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Ds(n,i),a!=null&&o.unshift(Vs(n,a,l))):s||(a=Ds(n,i),a!=null&&o.push(Vs(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Qv=/\r\n?/g,Jv=/\u0000|\uFFFD/g;function Jd(e){return(typeof e=="string"?e:""+e).replace(Qv,`
`).replace(Jv,"")}function Ni(e,t,n){if(t=Jd(t),Jd(e)!==t&&n)throw Error(C(425))}function bo(){}var ju=null,Du=null;function Fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uu=typeof setTimeout=="function"?setTimeout:void 0,Xv=typeof clearTimeout=="function"?clearTimeout:void 0,Xd=typeof Promise=="function"?Promise:void 0,Gv=typeof queueMicrotask=="function"?queueMicrotask:typeof Xd<"u"?function(e){return Xd.resolve(null).then(e).catch(Yv)}:Uu;function Yv(e){setTimeout(function(){throw e})}function La(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zs(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),It="__reactFiber$"+Hr,Hs="__reactProps$"+Hr,Vt="__reactContainer$"+Hr,zu="__reactEvents$"+Hr,Zv="__reactListeners$"+Hr,e1="__reactHandles$"+Hr;function Nn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gd(e);e!==null;){if(n=e[It])return n;e=Gd(e)}return t}e=n,n=e.parentNode}return null}function ai(e){return e=e[It]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Fl(e){return e[Hs]||null}var Ku=[],cr=-1;function Sn(e){return{current:e}}function Q(e){0>cr||(e.current=Ku[cr],Ku[cr]=null,cr--)}function V(e,t){cr++,Ku[cr]=e.current,e.current=t}var yn={},Ne=Sn(yn),De=Sn(!1),jn=yn;function Mr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(e){return e=e.childContextTypes,e!=null}function Co(){Q(De),Q(Ne)}function Yd(e,t,n){if(Ne.current!==yn)throw Error(C(168));V(Ne,t),V(De,n)}function Pm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,jw(e)||"Unknown",s));return re({},n,r)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,jn=Ne.current,V(Ne,e),V(De,De.current),!0}function Zd(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=Pm(e,t,jn),r.__reactInternalMemoizedMergedChildContext=e,Q(De),Q(Ne),V(Ne,e)):Q(De),V(De,n)}var Dt=null,Ul=!1,Ma=!1;function Nm(e){Dt===null?Dt=[e]:Dt.push(e)}function t1(e){Ul=!0,Nm(e)}function _n(){if(!Ma&&Dt!==null){Ma=!0;var e=0,t=U;try{var n=Dt;for(U=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dt=null,Ul=!1}catch(s){throw Dt!==null&&(Dt=Dt.slice(e+1)),em(Xc,_n),s}finally{U=t,Ma=!1}}return null}var fr=[],dr=0,xo=null,Po=0,tt=[],nt=0,Dn=null,Ft=1,Ut="";function Cn(e,t){fr[dr++]=Po,fr[dr++]=xo,xo=e,Po=t}function Im(e,t,n){tt[nt++]=Ft,tt[nt++]=Ut,tt[nt++]=Dn,Dn=e;var r=Ft;e=Ut;var s=32-wt(r)-1;r&=~(1<<s),n+=1;var i=32-wt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ft=1<<32-wt(t)+s|n<<s|r,Ut=i+e}else Ft=1<<i|n<<s|r,Ut=e}function of(e){e.return!==null&&(Cn(e,1),Im(e,1,0))}function lf(e){for(;e===xo;)xo=fr[--dr],fr[dr]=null,Po=fr[--dr],fr[dr]=null;for(;e===Dn;)Dn=tt[--nt],tt[nt]=null,Ut=tt[--nt],tt[nt]=null,Ft=tt[--nt],tt[nt]=null}var Je=null,Qe=null,J=!1,mt=null;function Om(e,t){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Qe=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dn!==null?{id:Ft,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Qe=null,!0):!1;default:return!1}}function Wu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qu(e){if(J){var t=Qe;if(t){var n=t;if(!eh(e,t)){if(Wu(e))throw Error(C(418));t=un(n.nextSibling);var r=Je;t&&eh(e,t)?Om(r,n):(e.flags=e.flags&-4097|2,J=!1,Je=e)}}else{if(Wu(e))throw Error(C(418));e.flags=e.flags&-4097|2,J=!1,Je=e}}}function th(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ii(e){if(e!==Je)return!1;if(!J)return th(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fu(e.type,e.memoizedProps)),t&&(t=Qe)){if(Wu(e))throw Rm(),Error(C(418));for(;t;)Om(e,t),t=un(t.nextSibling)}if(th(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Je?un(e.stateNode.nextSibling):null;return!0}function Rm(){for(var e=Qe;e;)e=un(e.nextSibling)}function Br(){Qe=Je=null,J=!1}function af(e){mt===null?mt=[e]:mt.push(e)}var n1=Xt.ReactCurrentBatchConfig;function is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Oi(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nh(e){var t=e._init;return t(e._payload)}function Tm(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=hn(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,g,S){return f===null||f.tag!==6?(f=Ka(g,m.mode,S),f.return=m,f):(f=s(f,g),f.return=m,f)}function a(m,f,g,S){var E=g.type;return E===ir?h(m,f,g.props.children,S,g.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zt&&nh(E)===f.type)?(S=s(f,g.props),S.ref=is(m,f,g),S.return=m,S):(S=so(g.type,g.key,g.props,null,m.mode,S),S.ref=is(m,f,g),S.return=m,S)}function u(m,f,g,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Wa(g,m.mode,S),f.return=m,f):(f=s(f,g.children||[]),f.return=m,f)}function h(m,f,g,S,E){return f===null||f.tag!==7?(f=Bn(g,m.mode,S,E),f.return=m,f):(f=s(f,g),f.return=m,f)}function c(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ka(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Si:return g=so(f.type,f.key,f.props,null,m.mode,g),g.ref=is(m,null,f),g.return=m,g;case sr:return f=Wa(f,m.mode,g),f.return=m,f;case Zt:var S=f._init;return c(m,S(f._payload),g)}if(cs(f)||es(f))return f=Bn(f,m.mode,g,null),f.return=m,f;Oi(m,f)}return null}function d(m,f,g,S){var E=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:l(m,f,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Si:return g.key===E?a(m,f,g,S):null;case sr:return g.key===E?u(m,f,g,S):null;case Zt:return E=g._init,d(m,f,E(g._payload),S)}if(cs(g)||es(g))return E!==null?null:h(m,f,g,S,null);Oi(m,g)}return null}function p(m,f,g,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(g)||null,l(f,m,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Si:return m=m.get(S.key===null?g:S.key)||null,a(f,m,S,E);case sr:return m=m.get(S.key===null?g:S.key)||null,u(f,m,S,E);case Zt:var _=S._init;return p(m,f,g,_(S._payload),E)}if(cs(S)||es(S))return m=m.get(g)||null,h(f,m,S,E,null);Oi(f,S)}return null}function v(m,f,g,S){for(var E=null,_=null,b=f,k=f=0,I=null;b!==null&&k<g.length;k++){b.index>k?(I=b,b=null):I=b.sibling;var x=d(m,b,g[k],S);if(x===null){b===null&&(b=I);break}e&&b&&x.alternate===null&&t(m,b),f=i(x,f,k),_===null?E=x:_.sibling=x,_=x,b=I}if(k===g.length)return n(m,b),J&&Cn(m,k),E;if(b===null){for(;k<g.length;k++)b=c(m,g[k],S),b!==null&&(f=i(b,f,k),_===null?E=b:_.sibling=b,_=b);return J&&Cn(m,k),E}for(b=r(m,b);k<g.length;k++)I=p(b,m,k,g[k],S),I!==null&&(e&&I.alternate!==null&&b.delete(I.key===null?k:I.key),f=i(I,f,k),_===null?E=I:_.sibling=I,_=I);return e&&b.forEach(function(R){return t(m,R)}),J&&Cn(m,k),E}function y(m,f,g,S){var E=es(g);if(typeof E!="function")throw Error(C(150));if(g=E.call(g),g==null)throw Error(C(151));for(var _=E=null,b=f,k=f=0,I=null,x=g.next();b!==null&&!x.done;k++,x=g.next()){b.index>k?(I=b,b=null):I=b.sibling;var R=d(m,b,x.value,S);if(R===null){b===null&&(b=I);break}e&&b&&R.alternate===null&&t(m,b),f=i(R,f,k),_===null?E=R:_.sibling=R,_=R,b=I}if(x.done)return n(m,b),J&&Cn(m,k),E;if(b===null){for(;!x.done;k++,x=g.next())x=c(m,x.value,S),x!==null&&(f=i(x,f,k),_===null?E=x:_.sibling=x,_=x);return J&&Cn(m,k),E}for(b=r(m,b);!x.done;k++,x=g.next())x=p(b,m,k,x.value,S),x!==null&&(e&&x.alternate!==null&&b.delete(x.key===null?k:x.key),f=i(x,f,k),_===null?E=x:_.sibling=x,_=x);return e&&b.forEach(function(F){return t(m,F)}),J&&Cn(m,k),E}function w(m,f,g,S){if(typeof g=="object"&&g!==null&&g.type===ir&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Si:e:{for(var E=g.key,_=f;_!==null;){if(_.key===E){if(E=g.type,E===ir){if(_.tag===7){n(m,_.sibling),f=s(_,g.props.children),f.return=m,m=f;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zt&&nh(E)===_.type){n(m,_.sibling),f=s(_,g.props),f.ref=is(m,_,g),f.return=m,m=f;break e}n(m,_);break}else t(m,_);_=_.sibling}g.type===ir?(f=Bn(g.props.children,m.mode,S,g.key),f.return=m,m=f):(S=so(g.type,g.key,g.props,null,m.mode,S),S.ref=is(m,f,g),S.return=m,m=S)}return o(m);case sr:e:{for(_=g.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=s(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Wa(g,m.mode,S),f.return=m,m=f}return o(m);case Zt:return _=g._init,w(m,f,_(g._payload),S)}if(cs(g))return v(m,f,g,S);if(es(g))return y(m,f,g,S);Oi(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,g),f.return=m,m=f):(n(m,f),f=Ka(g,m.mode,S),f.return=m,m=f),o(m)):n(m,f)}return w}var jr=Tm(!0),$m=Tm(!1),No=Sn(null),Io=null,hr=null,uf=null;function cf(){uf=hr=Io=null}function ff(e){var t=No.current;Q(No),e._currentValue=t}function Vu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t){Io=e,uf=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(je=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(uf!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(Io===null)throw Error(C(308));hr=e,Io.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var In=null;function df(e){In===null?In=[e]:In.push(e)}function Lm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,df(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ht(e,r)}function Ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,D&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ht(e,n)}return s=r.interleaved,s===null?(t.next=t,df(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ht(e,n)}function Yi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gc(e,n)}}function rh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oo(e,t,n,r){var s=e.updateQueue;en=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(i!==null){var c=s.baseState;o=0,h=u=a=null,l=i;do{var d=l.lane,p=l.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(d=t,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){c=v.call(p,c,d);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,d=typeof v=="function"?v.call(p,c,d):v,d==null)break e;c=re({},c,d);break e;case 2:en=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,a=c):h=h.next=p,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Un|=o,e.lanes=o,e.memoizedState=c}}function sh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var ui={},Tt=Sn(ui),Qs=Sn(ui),Js=Sn(ui);function On(e){if(e===ui)throw Error(C(174));return e}function pf(e,t){switch(V(Js,t),V(Qs,e),V(Tt,ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Au(t,e)}Q(Tt),V(Tt,t)}function Dr(){Q(Tt),Q(Qs),Q(Js)}function Bm(e){On(Js.current);var t=On(Tt.current),n=Au(t,e.type);t!==n&&(V(Qs,e),V(Tt,n))}function mf(e){Qs.current===e&&(Q(Tt),Q(Qs))}var Y=Sn(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=[];function yf(){for(var e=0;e<Ba.length;e++)Ba[e]._workInProgressVersionPrimary=null;Ba.length=0}var Zi=Xt.ReactCurrentDispatcher,ja=Xt.ReactCurrentBatchConfig,Fn=0,te=null,de=null,ye=null,To=!1,Ps=!1,Xs=0,r1=0;function be(){throw Error(C(321))}function gf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function wf(e,t,n,r,s,i){if(Fn=i,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zi.current=e===null||e.memoizedState===null?l1:a1,e=n(r,s),Ps){i=0;do{if(Ps=!1,Xs=0,25<=i)throw Error(C(301));i+=1,ye=de=null,t.updateQueue=null,Zi.current=u1,e=n(r,s)}while(Ps)}if(Zi.current=$o,t=de!==null&&de.next!==null,Fn=0,ye=de=te=null,To=!1,t)throw Error(C(300));return e}function vf(){var e=Xs!==0;return Xs=0,e}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?te.memoizedState=ye=e:ye=ye.next=e,ye}function lt(){if(de===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=ye===null?te.memoizedState:ye.next;if(t!==null)ye=t,de=e;else{if(e===null)throw Error(C(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ye===null?te.memoizedState=ye=e:ye=ye.next=e}return ye}function Gs(e,t){return typeof t=="function"?t(e):t}function Da(e){var t=lt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var h=u.lane;if((Fn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,te.lanes|=h,Un|=h}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Et(r,t.memoizedState)||(je=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,te.lanes|=i,Un|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fa(e){var t=lt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Et(i,t.memoizedState)||(je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function jm(){}function Dm(e,t){var n=te,r=lt(),s=t(),i=!Et(r.memoizedState,s);if(i&&(r.memoizedState=s,je=!0),r=r.queue,Sf(zm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,Ys(9,Um.bind(null,n,r,s,t),void 0,null),ge===null)throw Error(C(349));Fn&30||Fm(n,t,s)}return s}function Fm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Um(e,t,n,r){t.value=n,t.getSnapshot=r,Km(t)&&Wm(e)}function zm(e,t,n){return n(function(){Km(t)&&Wm(e)})}function Km(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Wm(e){var t=Ht(e,1);t!==null&&vt(t,e,1,-1)}function ih(e){var t=xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:e},t.queue=e,e=e.dispatch=o1.bind(null,te,e),[t.memoizedState,e]}function Ys(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function qm(){return lt().memoizedState}function eo(e,t,n,r){var s=xt();te.flags|=e,s.memoizedState=Ys(1|t,n,void 0,r===void 0?null:r)}function zl(e,t,n,r){var s=lt();r=r===void 0?null:r;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,r!==null&&gf(r,o.deps)){s.memoizedState=Ys(t,n,i,r);return}}te.flags|=e,s.memoizedState=Ys(1|t,n,i,r)}function oh(e,t){return eo(8390656,8,e,t)}function Sf(e,t){return zl(2048,8,e,t)}function Vm(e,t){return zl(4,2,e,t)}function Hm(e,t){return zl(4,4,e,t)}function Qm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jm(e,t,n){return n=n!=null?n.concat([e]):null,zl(4,4,Qm.bind(null,t,e),n)}function _f(){}function Xm(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gm(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ym(e,t,n){return Fn&21?(Et(n,t)||(n=rm(),te.lanes|=n,Un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,je=!0),e.memoizedState=n)}function s1(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var r=ja.transition;ja.transition={};try{e(!1),t()}finally{U=n,ja.transition=r}}function Zm(){return lt().memoizedState}function i1(e,t,n){var r=dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ey(e))ty(t,n);else if(n=Lm(e,t,n,r),n!==null){var s=Re();vt(n,e,r,s),ny(n,t,r)}}function o1(e,t,n){var r=dn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ey(e))ty(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Et(l,o)){var a=t.interleaved;a===null?(s.next=s,df(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Lm(e,t,s,r),n!==null&&(s=Re(),vt(n,e,r,s),ny(n,t,r))}}function ey(e){var t=e.alternate;return e===te||t!==null&&t===te}function ty(e,t){Ps=To=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ny(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gc(e,n)}}var $o={readContext:ot,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},l1={readContext:ot,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:oh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,eo(4194308,4,Qm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eo(4194308,4,e,t)},useInsertionEffect:function(e,t){return eo(4,2,e,t)},useMemo:function(e,t){var n=xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=i1.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:ih,useDebugValue:_f,useDeferredValue:function(e){return xt().memoizedState=e},useTransition:function(){var e=ih(!1),t=e[0];return e=s1.bind(null,e[1]),xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,s=xt();if(J){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),ge===null)throw Error(C(349));Fn&30||Fm(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,oh(zm.bind(null,r,i,e),[e]),r.flags|=2048,Ys(9,Um.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=xt(),t=ge.identifierPrefix;if(J){var n=Ut,r=Ft;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=r1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},a1={readContext:ot,useCallback:Xm,useContext:ot,useEffect:Sf,useImperativeHandle:Jm,useInsertionEffect:Vm,useLayoutEffect:Hm,useMemo:Gm,useReducer:Da,useRef:qm,useState:function(){return Da(Gs)},useDebugValue:_f,useDeferredValue:function(e){var t=lt();return Ym(t,de.memoizedState,e)},useTransition:function(){var e=Da(Gs)[0],t=lt().memoizedState;return[e,t]},useMutableSource:jm,useSyncExternalStore:Dm,useId:Zm,unstable_isNewReconciler:!1},u1={readContext:ot,useCallback:Xm,useContext:ot,useEffect:Sf,useImperativeHandle:Jm,useInsertionEffect:Vm,useLayoutEffect:Hm,useMemo:Gm,useReducer:Fa,useRef:qm,useState:function(){return Fa(Gs)},useDebugValue:_f,useDeferredValue:function(e){var t=lt();return de===null?t.memoizedState=e:Ym(t,de.memoizedState,e)},useTransition:function(){var e=Fa(Gs)[0],t=lt().memoizedState;return[e,t]},useMutableSource:jm,useSyncExternalStore:Dm,useId:Zm,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kl={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),s=dn(e),i=Kt(r,s);i.payload=t,n!=null&&(i.callback=n),t=cn(e,i,s),t!==null&&(vt(t,e,s,r),Yi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),s=dn(e),i=Kt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=cn(e,i,s),t!==null&&(vt(t,e,s,r),Yi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=dn(e),s=Kt(n,r);s.tag=2,t!=null&&(s.callback=t),t=cn(e,s,r),t!==null&&(vt(t,e,r,n),Yi(t,e,r))}};function lh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ws(n,r)||!Ws(s,i):!0}function ry(e,t,n){var r=!1,s=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(s=Fe(t)?jn:Ne.current,r=t.contextTypes,i=(r=r!=null)?Mr(e,s):yn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ah(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kl.enqueueReplaceState(t,t.state,null)}function Qu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},hf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ot(i):(i=Fe(t)?jn:Ne.current,s.context=Mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Kl.enqueueReplaceState(s,s.state,null),Oo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var n="",r=t;do n+=Bw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ua(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ju(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var c1=typeof WeakMap=="function"?WeakMap:Map;function sy(e,t,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mo||(Mo=!0,ic=r),Ju(e,t)},n}function iy(e,t,n){n=Kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ju(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ju(e,t),typeof r!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function uh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new c1;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=b1.bind(null,e,t,n),t.then(e,e))}function ch(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kt(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),e)}var f1=Xt.ReactCurrentOwner,je=!1;function Ie(e,t,n,r){t.child=e===null?$m(t,null,n,r):jr(t,e.child,n,r)}function dh(e,t,n,r,s){n=n.render;var i=t.ref;return Cr(t,s),r=wf(e,t,n,r,i,s),n=vf(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(J&&n&&of(t),t.flags|=1,Ie(e,t,r,s),t.child)}function hh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Nf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,oy(e,t,i,r,s)):(e=so(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ws,n(o,r)&&e.ref===t.ref)return Qt(e,t,s)}return t.flags|=1,e=hn(i,r),e.ref=t.ref,e.return=t,t.child=e}function oy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ws(i,r)&&e.ref===t.ref)if(je=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(je=!0);else return t.lanes=e.lanes,Qt(e,t,s)}return Xu(e,t,n,r,s)}function ly(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(mr,Ve),Ve|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(mr,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(mr,Ve),Ve|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,V(mr,Ve),Ve|=r;return Ie(e,t,s,n),t.child}function ay(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xu(e,t,n,r,s){var i=Fe(n)?jn:Ne.current;return i=Mr(t,i),Cr(t,s),n=wf(e,t,n,r,i,s),r=vf(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(J&&r&&of(t),t.flags|=1,Ie(e,t,n,s),t.child)}function ph(e,t,n,r,s){if(Fe(n)){var i=!0;Ao(t)}else i=!1;if(Cr(t,s),t.stateNode===null)to(e,t),ry(t,n,r),Qu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Fe(n)?jn:Ne.current,u=Mr(t,u));var h=n.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ah(t,o,r,u),en=!1;var d=t.memoizedState;o.state=d,Oo(t,r,o,s),a=t.memoizedState,l!==r||d!==a||De.current||en?(typeof h=="function"&&(Hu(t,n,h,r),a=t.memoizedState),(l=en||lh(t,n,l,r,d,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Mm(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dt(t.type,l),o.props=u,c=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ot(a):(a=Fe(n)?jn:Ne.current,a=Mr(t,a));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==a)&&ah(t,o,r,a),en=!1,d=t.memoizedState,o.state=d,Oo(t,r,o,s);var v=t.memoizedState;l!==c||d!==v||De.current||en?(typeof p=="function"&&(Hu(t,n,p,r),v=t.memoizedState),(u=en||lh(t,n,u,r,d,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Gu(e,t,n,r,i,s)}function Gu(e,t,n,r,s,i){ay(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Zd(t,n,!1),Qt(e,t,i);r=t.stateNode,f1.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=jr(t,e.child,null,i),t.child=jr(t,null,l,i)):Ie(e,t,l,i),t.memoizedState=r.state,s&&Zd(t,n,!0),t.child}function uy(e){var t=e.stateNode;t.pendingContext?Yd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yd(e,t.context,!1),pf(e,t.containerInfo)}function mh(e,t,n,r,s){return Br(),af(s),t.flags|=256,Ie(e,t,n,r),t.child}var Yu={dehydrated:null,treeContext:null,retryLane:0};function Zu(e){return{baseLanes:e,cachePool:null,transitions:null}}function cy(e,t,n){var r=t.pendingProps,s=Y.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),V(Y,s&1),e===null)return qu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vl(o,r,0,null),e=Bn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zu(n),t.memoizedState=Yu,e):Ef(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return d1(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=hn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=hn(l,i):(i=Bn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Zu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Yu,r}return i=e.child,e=i.sibling,r=hn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ef(e,t){return t=Vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ri(e,t,n,r){return r!==null&&af(r),jr(t,e.child,null,n),e=Ef(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d1(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ua(Error(C(422))),Ri(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Vl({mode:"visible",children:r.children},s,0,null),i=Bn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&jr(t,e.child,null,o),t.child.memoizedState=Zu(o),t.memoizedState=Yu,i);if(!(t.mode&1))return Ri(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(C(419)),r=Ua(i,r,void 0),Ri(e,t,o,r)}if(l=(o&e.childLanes)!==0,je||l){if(r=ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ht(e,s),vt(r,e,s,-1))}return Pf(),r=Ua(Error(C(421))),Ri(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=C1.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Qe=un(s.nextSibling),Je=t,J=!0,mt=null,e!==null&&(tt[nt++]=Ft,tt[nt++]=Ut,tt[nt++]=Dn,Ft=e.id,Ut=e.overflow,Dn=t),t=Ef(t,r.children),t.flags|=4096,t)}function yh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vu(e.return,t,n)}function za(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function fy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ie(e,t,r.children,n),r=Y.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yh(e,n,t);else if(e.tag===19)yh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(V(Y,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),za(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ro(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}za(t,!0,n,null,i);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function to(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function h1(e,t,n){switch(t.tag){case 3:uy(t),Br();break;case 5:Bm(t);break;case 1:Fe(t.type)&&Ao(t);break;case 4:pf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;V(No,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(V(Y,Y.current&1),t.flags|=128,null):n&t.child.childLanes?cy(e,t,n):(V(Y,Y.current&1),e=Qt(e,t,n),e!==null?e.sibling:null);V(Y,Y.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(Y,Y.current),r)break;return null;case 22:case 23:return t.lanes=0,ly(e,t,n)}return Qt(e,t,n)}var dy,ec,hy,py;dy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ec=function(){};hy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,On(Tt.current);var i=null;switch(n){case"input":s=Eu(e,s),r=Eu(e,r),i=[];break;case"select":s=re({},s,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":s=Cu(e,s),r=Cu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bo)}xu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&H("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};py=function(e,t,n,r){n!==r&&(t.flags|=4)};function os(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function p1(e,t,n){var r=t.pendingProps;switch(lf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Fe(t.type)&&Co(),Ce(t),null;case 3:return r=t.stateNode,Dr(),Q(De),Q(Ne),yf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(ac(mt),mt=null))),ec(e,t),Ce(t),null;case 5:mf(t);var s=On(Js.current);if(n=t.type,e!==null&&t.stateNode!=null)hy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return Ce(t),null}if(e=On(Tt.current),Ii(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[It]=t,r[Hs]=i,e=(t.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(s=0;s<ds.length;s++)H(ds[s],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":Cd(r,i),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},H("invalid",r);break;case"textarea":xd(r,i),H("invalid",r)}xu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ni(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ni(r.textContent,l,e),s=["children",""+l]):Bs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&H("scroll",r)}switch(n){case"input":_i(r),Ad(r,i,!0);break;case"textarea":_i(r),Pd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[It]=t,e[Hs]=r,dy(e,t,!1,!1),t.stateNode=e;e:{switch(o=Pu(n,r),n){case"dialog":H("cancel",e),H("close",e),s=r;break;case"iframe":case"object":case"embed":H("load",e),s=r;break;case"video":case"audio":for(s=0;s<ds.length;s++)H(ds[s],e);s=r;break;case"source":H("error",e),s=r;break;case"img":case"image":case"link":H("error",e),H("load",e),s=r;break;case"details":H("toggle",e),s=r;break;case"input":Cd(e,r),s=Eu(e,r),H("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=re({},r,{value:void 0}),H("invalid",e);break;case"textarea":xd(e,r),s=Cu(e,r),H("invalid",e);break;default:s=r}xu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?qp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Kp(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&js(e,a):typeof a=="number"&&js(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&H("scroll",e):a!=null&&qc(e,i,a,o))}switch(n){case"input":_i(e),Ad(e,r,!1);break;case"textarea":_i(e),Pd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?_r(e,!!r.multiple,i,!1):r.defaultValue!=null&&_r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)py(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=On(Js.current),On(Tt.current),Ii(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(i=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Ni(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ni(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return Ce(t),null;case 13:if(Q(Y),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Qe!==null&&t.mode&1&&!(t.flags&128))Rm(),Br(),t.flags|=98560,i=!1;else if(i=Ii(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[It]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),i=!1}else mt!==null&&(ac(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?he===0&&(he=3):Pf())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return Dr(),ec(e,t),e===null&&qs(t.stateNode.containerInfo),Ce(t),null;case 10:return ff(t.type._context),Ce(t),null;case 17:return Fe(t.type)&&Co(),Ce(t),null;case 19:if(Q(Y),i=t.memoizedState,i===null)return Ce(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)os(i,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ro(e),o!==null){for(t.flags|=128,os(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return V(Y,Y.current&1|2),t.child}e=e.sibling}i.tail!==null&&ae()>Ur&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ro(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return Ce(t),null}else 2*ae()-i.renderingStartTime>Ur&&n!==1073741824&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ae(),t.sibling=null,n=Y.current,V(Y,r?n&1|2:n&1),t):(Ce(t),null);case 22:case 23:return xf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ve&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function m1(e,t){switch(lf(t),t.tag){case 1:return Fe(t.type)&&Co(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dr(),Q(De),Q(Ne),yf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mf(t),null;case 13:if(Q(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(Y),null;case 4:return Dr(),null;case 10:return ff(t.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var Ti=!1,xe=!1,y1=typeof WeakSet=="function"?WeakSet:Set,P=null;function pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){se(e,t,r)}}var gh=!1;function g1(e,t){if(ju=_o,e=vm(),sf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,h=0,c=e,d=null;t:for(;;){for(var p;c!==n||s!==0&&c.nodeType!==3||(l=o+s),c!==i||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)d=c,c=p;for(;;){if(c===e)break t;if(d===n&&++u===s&&(l=o),d===i&&++h===r&&(a=o),(p=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Du={focusedElem:e,selectionRange:n},_o=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:dt(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(S){se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return v=gh,gh=!1,v}function Ns(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&tc(t,n,i)}s=s.next}while(s!==r)}}function Wl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function my(e){var t=e.alternate;t!==null&&(e.alternate=null,my(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Hs],delete t[zu],delete t[Zv],delete t[e1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yy(e){return e.tag===5||e.tag===3||e.tag===4}function wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bo));else if(r!==4&&(e=e.child,e!==null))for(rc(e,t,n),e=e.sibling;e!==null;)rc(e,t,n),e=e.sibling}function sc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(sc(e,t,n),e=e.sibling;e!==null;)sc(e,t,n),e=e.sibling}var we=null,pt=!1;function Gt(e,t,n){for(n=n.child;n!==null;)gy(e,t,n),n=n.sibling}function gy(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:xe||pr(n,t);case 6:var r=we,s=pt;we=null,Gt(e,t,n),we=r,pt=s,we!==null&&(pt?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(pt?(e=we,n=n.stateNode,e.nodeType===8?La(e.parentNode,n):e.nodeType===1&&La(e,n),zs(e)):La(we,n.stateNode));break;case 4:r=we,s=pt,we=n.stateNode.containerInfo,pt=!0,Gt(e,t,n),we=r,pt=s;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tc(n,t,o),s=s.next}while(s!==r)}Gt(e,t,n);break;case 1:if(!xe&&(pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){se(n,t,l)}Gt(e,t,n);break;case 21:Gt(e,t,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,Gt(e,t,n),xe=r):Gt(e,t,n);break;default:Gt(e,t,n)}}function vh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new y1),t.forEach(function(r){var s=A1.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,pt=!1;break e;case 3:we=l.stateNode.containerInfo,pt=!0;break e;case 4:we=l.stateNode.containerInfo,pt=!0;break e}l=l.return}if(we===null)throw Error(C(160));gy(i,o,s),we=null,pt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wy(t,e),t=t.sibling}function wy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),Ct(e),r&4){try{Ns(3,e,e.return),Wl(3,e)}catch(y){se(e,e.return,y)}try{Ns(5,e,e.return)}catch(y){se(e,e.return,y)}}break;case 1:ut(t,e),Ct(e),r&512&&n!==null&&pr(n,n.return);break;case 5:if(ut(t,e),Ct(e),r&512&&n!==null&&pr(n,n.return),e.flags&32){var s=e.stateNode;try{js(s,"")}catch(y){se(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Fp(s,i),Pu(l,o);var u=Pu(l,i);for(o=0;o<a.length;o+=2){var h=a[o],c=a[o+1];h==="style"?qp(s,c):h==="dangerouslySetInnerHTML"?Kp(s,c):h==="children"?js(s,c):qc(s,h,c,u)}switch(l){case"input":ku(s,i);break;case"textarea":Up(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?_r(s,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?_r(s,!!i.multiple,i.defaultValue,!0):_r(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hs]=i}catch(y){se(e,e.return,y)}}break;case 6:if(ut(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){se(e,e.return,y)}}break;case 3:if(ut(t,e),Ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(y){se(e,e.return,y)}break;case 4:ut(t,e),Ct(e);break;case 13:ut(t,e),Ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cf=ae())),r&4&&vh(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(xe=(u=xe)||h,ut(t,e),xe=u):ut(t,e),Ct(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(P=e,h=e.child;h!==null;){for(c=P=h;P!==null;){switch(d=P,p=d.child,d.tag){case 0:case 11:case 14:case 15:Ns(4,d,d.return);break;case 1:pr(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){se(r,n,y)}}break;case 5:pr(d,d.return);break;case 22:if(d.memoizedState!==null){_h(c);continue}}p!==null?(p.return=d,P=p):_h(c)}h=h.sibling}e:for(h=null,c=e;;){if(c.tag===5){if(h===null){h=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Wp("display",o))}catch(y){se(e,e.return,y)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){se(e,e.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ut(t,e),Ct(e),r&4&&vh(e);break;case 21:break;default:ut(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yy(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(js(s,""),r.flags&=-33);var i=wh(e);sc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=wh(e);rc(e,l,o);break;default:throw Error(C(161))}}catch(a){se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w1(e,t,n){P=e,vy(e)}function vy(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ti;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||xe;l=Ti;var u=xe;if(Ti=o,(xe=a)&&!u)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?Eh(s):a!==null?(a.return=o,P=a):Eh(s);for(;i!==null;)P=i,vy(i),i=i.sibling;P=s,Ti=l,xe=u}Sh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Sh(e)}}function Sh(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||Wl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&zs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}xe||t.flags&512&&nc(t)}catch(d){se(t,t.return,d)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function _h(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function Eh(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wl(4,t)}catch(a){se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){se(t,s,a)}}var i=t.return;try{nc(t)}catch(a){se(t,i,a)}break;case 5:var o=t.return;try{nc(t)}catch(a){se(t,o,a)}}}catch(a){se(t,t.return,a)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var v1=Math.ceil,Lo=Xt.ReactCurrentDispatcher,kf=Xt.ReactCurrentOwner,st=Xt.ReactCurrentBatchConfig,D=0,ge=null,ue=null,_e=0,Ve=0,mr=Sn(0),he=0,Zs=null,Un=0,ql=0,bf=0,Is=null,Me=null,Cf=0,Ur=1/0,jt=null,Mo=!1,ic=null,fn=null,$i=!1,sn=null,Bo=0,Os=0,oc=null,no=-1,ro=0;function Re(){return D&6?ae():no!==-1?no:no=ae()}function dn(e){return e.mode&1?D&2&&_e!==0?_e&-_e:n1.transition!==null?(ro===0&&(ro=rm()),ro):(e=U,e!==0||(e=window.event,e=e===void 0?16:cm(e.type)),e):1}function vt(e,t,n,r){if(50<Os)throw Os=0,oc=null,Error(C(185));oi(e,n,r),(!(D&2)||e!==ge)&&(e===ge&&(!(D&2)&&(ql|=n),he===4&&nn(e,_e)),Ue(e,r),n===1&&D===0&&!(t.mode&1)&&(Ur=ae()+500,Ul&&_n()))}function Ue(e,t){var n=e.callbackNode;nv(e,t);var r=So(e,e===ge?_e:0);if(r===0)n!==null&&Od(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Od(n),t===1)e.tag===0?t1(kh.bind(null,e)):Nm(kh.bind(null,e)),Gv(function(){!(D&6)&&_n()}),n=null;else{switch(sm(r)){case 1:n=Xc;break;case 4:n=tm;break;case 16:n=vo;break;case 536870912:n=nm;break;default:n=vo}n=xy(n,Sy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sy(e,t){if(no=-1,ro=0,D&6)throw Error(C(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var r=So(e,e===ge?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jo(e,r);else{t=r;var s=D;D|=2;var i=Ey();(ge!==e||_e!==t)&&(jt=null,Ur=ae()+500,Mn(e,t));do try{E1();break}catch(l){_y(e,l)}while(!0);cf(),Lo.current=i,D=s,ue!==null?t=0:(ge=null,_e=0,t=he)}if(t!==0){if(t===2&&(s=Tu(e),s!==0&&(r=s,t=lc(e,s))),t===1)throw n=Zs,Mn(e,0),nn(e,r),Ue(e,ae()),n;if(t===6)nn(e,r);else{if(s=e.current.alternate,!(r&30)&&!S1(s)&&(t=jo(e,r),t===2&&(i=Tu(e),i!==0&&(r=i,t=lc(e,i))),t===1))throw n=Zs,Mn(e,0),nn(e,r),Ue(e,ae()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:An(e,Me,jt);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=Cf+500-ae(),10<t)){if(So(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Uu(An.bind(null,e,Me,jt),t);break}An(e,Me,jt);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-wt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*v1(r/1960))-r,10<r){e.timeoutHandle=Uu(An.bind(null,e,Me,jt),r);break}An(e,Me,jt);break;case 5:An(e,Me,jt);break;default:throw Error(C(329))}}}return Ue(e,ae()),e.callbackNode===n?Sy.bind(null,e):null}function lc(e,t){var n=Is;return e.current.memoizedState.isDehydrated&&(Mn(e,t).flags|=256),e=jo(e,t),e!==2&&(t=Me,Me=n,t!==null&&ac(t)),e}function ac(e){Me===null?Me=e:Me.push.apply(Me,e)}function S1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Et(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~bf,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function kh(e){if(D&6)throw Error(C(327));Ar();var t=So(e,0);if(!(t&1))return Ue(e,ae()),null;var n=jo(e,t);if(e.tag!==0&&n===2){var r=Tu(e);r!==0&&(t=r,n=lc(e,r))}if(n===1)throw n=Zs,Mn(e,0),nn(e,t),Ue(e,ae()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,Me,jt),Ue(e,ae()),null}function Af(e,t){var n=D;D|=1;try{return e(t)}finally{D=n,D===0&&(Ur=ae()+500,Ul&&_n())}}function zn(e){sn!==null&&sn.tag===0&&!(D&6)&&Ar();var t=D;D|=1;var n=st.transition,r=U;try{if(st.transition=null,U=1,e)return e()}finally{U=r,st.transition=n,D=t,!(D&6)&&_n()}}function xf(){Ve=mr.current,Q(mr)}function Mn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Xv(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(lf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Co();break;case 3:Dr(),Q(De),Q(Ne),yf();break;case 5:mf(r);break;case 4:Dr();break;case 13:Q(Y);break;case 19:Q(Y);break;case 10:ff(r.type._context);break;case 22:case 23:xf()}n=n.return}if(ge=e,ue=e=hn(e.current,null),_e=Ve=t,he=0,Zs=null,bf=ql=Un=0,Me=Is=null,In!==null){for(t=0;t<In.length;t++)if(n=In[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}In=null}return e}function _y(e,t){do{var n=ue;try{if(cf(),Zi.current=$o,To){for(var r=te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}To=!1}if(Fn=0,ye=de=te=null,Ps=!1,Xs=0,kf.current=null,n===null||n.return===null){he=1,Zs=t,ue=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=_e,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ch(o);if(p!==null){p.flags&=-257,fh(p,o,l,i,t),p.mode&1&&uh(i,u,t),t=p,a=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(a),t.updateQueue=y}else v.add(a);break e}else{if(!(t&1)){uh(i,u,t),Pf();break e}a=Error(C(426))}}else if(J&&l.mode&1){var w=ch(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),fh(w,o,l,i,t),af(Fr(a,l));break e}}i=a=Fr(a,l),he!==4&&(he=2),Is===null?Is=[i]:Is.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=sy(i,a,t);rh(i,m);break e;case 1:l=a;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(fn===null||!fn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=iy(i,l,t);rh(i,S);break e}}i=i.return}while(i!==null)}by(n)}catch(E){t=E,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function Ey(){var e=Lo.current;return Lo.current=$o,e===null?$o:e}function Pf(){(he===0||he===3||he===2)&&(he=4),ge===null||!(Un&268435455)&&!(ql&268435455)||nn(ge,_e)}function jo(e,t){var n=D;D|=2;var r=Ey();(ge!==e||_e!==t)&&(jt=null,Mn(e,t));do try{_1();break}catch(s){_y(e,s)}while(!0);if(cf(),D=n,Lo.current=r,ue!==null)throw Error(C(261));return ge=null,_e=0,he}function _1(){for(;ue!==null;)ky(ue)}function E1(){for(;ue!==null&&!Hw();)ky(ue)}function ky(e){var t=Ay(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?by(e):ue=t,kf.current=null}function by(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=m1(n,t),n!==null){n.flags&=32767,ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,ue=null;return}}else if(n=p1(n,t,Ve),n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);he===0&&(he=5)}function An(e,t,n){var r=U,s=st.transition;try{st.transition=null,U=1,k1(e,t,n,r)}finally{st.transition=s,U=r}return null}function k1(e,t,n,r){do Ar();while(sn!==null);if(D&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(rv(e,i),e===ge&&(ue=ge=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,xy(vo,function(){return Ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=st.transition,st.transition=null;var o=U;U=1;var l=D;D|=4,kf.current=null,g1(e,n),wy(n,e),Kv(Du),_o=!!ju,Du=ju=null,e.current=n,w1(n),Qw(),D=l,U=o,st.transition=i}else e.current=n;if($i&&($i=!1,sn=e,Bo=s),i=e.pendingLanes,i===0&&(fn=null),Gw(n.stateNode),Ue(e,ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mo)throw Mo=!1,e=ic,ic=null,e;return Bo&1&&e.tag!==0&&Ar(),i=e.pendingLanes,i&1?e===oc?Os++:(Os=0,oc=e):Os=0,_n(),null}function Ar(){if(sn!==null){var e=sm(Bo),t=st.transition,n=U;try{if(st.transition=null,U=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,Bo=0,D&6)throw Error(C(331));var s=D;for(D|=4,P=e.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(P=u;P!==null;){var h=P;switch(h.tag){case 0:case 11:case 15:Ns(8,h,i)}var c=h.child;if(c!==null)c.return=h,P=c;else for(;P!==null;){h=P;var d=h.sibling,p=h.return;if(my(h),h===u){P=null;break}if(d!==null){d.return=p,P=d;break}P=p}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ns(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,P=m;break e}P=i.return}}var f=e.current;for(P=f;P!==null;){o=P;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,P=g;else e:for(o=f;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wl(9,l)}}catch(E){se(l,l.return,E)}if(l===o){P=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,P=S;break e}P=l.return}}if(D=s,_n(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Ml,e)}catch{}r=!0}return r}finally{U=n,st.transition=t}}return!1}function bh(e,t,n){t=Fr(n,t),t=sy(e,t,1),e=cn(e,t,1),t=Re(),e!==null&&(oi(e,1,t),Ue(e,t))}function se(e,t,n){if(e.tag===3)bh(e,e,n);else for(;t!==null;){if(t.tag===3){bh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fn===null||!fn.has(r))){e=Fr(n,e),e=iy(t,e,1),t=cn(t,e,1),e=Re(),t!==null&&(oi(t,1,e),Ue(t,e));break}}t=t.return}}function b1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(_e&n)===n&&(he===4||he===3&&(_e&130023424)===_e&&500>ae()-Cf?Mn(e,0):bf|=n),Ue(e,t)}function Cy(e,t){t===0&&(e.mode&1?(t=bi,bi<<=1,!(bi&130023424)&&(bi=4194304)):t=1);var n=Re();e=Ht(e,t),e!==null&&(oi(e,t,n),Ue(e,n))}function C1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cy(e,n)}function A1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),Cy(e,n)}var Ay;Ay=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return je=!1,h1(e,t,n);je=!!(e.flags&131072)}else je=!1,J&&t.flags&1048576&&Im(t,Po,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;to(e,t),e=t.pendingProps;var s=Mr(t,Ne.current);Cr(t,n),s=wf(null,t,r,e,s,n);var i=vf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(r)?(i=!0,Ao(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hf(t),s.updater=Kl,t.stateNode=s,s._reactInternals=t,Qu(t,r,e,n),t=Gu(null,t,r,!0,i,n)):(t.tag=0,J&&i&&of(t),Ie(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(to(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=P1(r),e=dt(r,e),s){case 0:t=Xu(null,t,r,e,n);break e;case 1:t=ph(null,t,r,e,n);break e;case 11:t=dh(null,t,r,e,n);break e;case 14:t=hh(null,t,r,dt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Xu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),ph(e,t,r,s,n);case 3:e:{if(uy(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Mm(e,t),Oo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fr(Error(C(423)),t),t=mh(e,t,r,n,s);break e}else if(r!==s){s=Fr(Error(C(424)),t),t=mh(e,t,r,n,s);break e}else for(Qe=un(t.stateNode.containerInfo.firstChild),Je=t,J=!0,mt=null,n=$m(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Br(),r===s){t=Qt(e,t,n);break e}Ie(e,t,r,n)}t=t.child}return t;case 5:return Bm(t),e===null&&qu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Fu(r,s)?o=null:i!==null&&Fu(r,i)&&(t.flags|=32),ay(e,t),Ie(e,t,o,n),t.child;case 6:return e===null&&qu(t),null;case 13:return cy(e,t,n);case 4:return pf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=jr(t,null,r,n):Ie(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),dh(e,t,r,s,n);case 7:return Ie(e,t,t.pendingProps,n),t.child;case 8:return Ie(e,t,t.pendingProps.children,n),t.child;case 12:return Ie(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,V(No,r._currentValue),r._currentValue=o,i!==null)if(Et(i.value,o)){if(i.children===s.children&&!De.current){t=Qt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Kt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Vu(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Vu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ie(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Cr(t,n),s=ot(s),r=r(s),t.flags|=1,Ie(e,t,r,n),t.child;case 14:return r=t.type,s=dt(r,t.pendingProps),s=dt(r.type,s),hh(e,t,r,s,n);case 15:return oy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),to(e,t),t.tag=1,Fe(r)?(e=!0,Ao(t)):e=!1,Cr(t,n),ry(t,r,s),Qu(t,r,s,n),Gu(null,t,r,!0,e,n);case 19:return fy(e,t,n);case 22:return ly(e,t,n)}throw Error(C(156,t.tag))};function xy(e,t){return em(e,t)}function x1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,n,r){return new x1(e,t,n,r)}function Nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P1(e){if(typeof e=="function")return Nf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hc)return 11;if(e===Qc)return 14}return 2}function hn(e,t){var n=e.alternate;return n===null?(n=rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function so(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Nf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ir:return Bn(n.children,s,i,t);case Vc:o=8,s|=8;break;case wu:return e=rt(12,n,t,s|2),e.elementType=wu,e.lanes=i,e;case vu:return e=rt(13,n,t,s),e.elementType=vu,e.lanes=i,e;case Su:return e=rt(19,n,t,s),e.elementType=Su,e.lanes=i,e;case Bp:return Vl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lp:o=10;break e;case Mp:o=9;break e;case Hc:o=11;break e;case Qc:o=14;break e;case Zt:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=rt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Bn(e,t,n,r){return e=rt(7,e,r,t),e.lanes=n,e}function Vl(e,t,n,r){return e=rt(22,e,r,t),e.elementType=Bp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ka(e,t,n){return e=rt(6,e,null,t),e.lanes=n,e}function Wa(e,t,n){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function If(e,t,n,r,s,i,o,l,a){return e=new N1(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=rt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hf(i),e}function I1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Py(e){if(!e)return yn;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Fe(n))return Pm(e,n,t)}return t}function Ny(e,t,n,r,s,i,o,l,a){return e=If(n,r,!0,e,s,i,o,l,a),e.context=Py(null),n=e.current,r=Re(),s=dn(n),i=Kt(r,s),i.callback=t??null,cn(n,i,s),e.current.lanes=s,oi(e,s,r),Ue(e,r),e}function Hl(e,t,n,r){var s=t.current,i=Re(),o=dn(s);return n=Py(n),t.context===null?t.context=n:t.pendingContext=n,t=Kt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cn(s,t,o),e!==null&&(vt(e,s,o,i),Yi(e,s,o)),o}function Do(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ch(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Of(e,t){Ch(e,t),(e=e.alternate)&&Ch(e,t)}function O1(){return null}var Iy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rf(e){this._internalRoot=e}Ql.prototype.render=Rf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Hl(e,t,null,null)};Ql.prototype.unmount=Rf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zn(function(){Hl(null,e,null,null)}),t[Vt]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=lm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&um(e)}};function Tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ah(){}function R1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Do(o);i.call(u)}}var o=Ny(t,r,e,0,null,!1,!1,"",Ah);return e._reactRootContainer=o,e[Vt]=o.current,qs(e.nodeType===8?e.parentNode:e),zn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Do(a);l.call(u)}}var a=If(e,0,!1,null,null,!1,!1,"",Ah);return e._reactRootContainer=a,e[Vt]=a.current,qs(e.nodeType===8?e.parentNode:e),zn(function(){Hl(t,a,n,r)}),a}function Xl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Do(o);l.call(a)}}Hl(t,o,e,s)}else o=R1(n,t,e,s,r);return Do(o)}im=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fs(t.pendingLanes);n!==0&&(Gc(t,n|1),Ue(t,ae()),!(D&6)&&(Ur=ae()+500,_n()))}break;case 13:zn(function(){var r=Ht(e,1);if(r!==null){var s=Re();vt(r,e,1,s)}}),Of(e,1)}};Yc=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var n=Re();vt(t,e,134217728,n)}Of(e,134217728)}};om=function(e){if(e.tag===13){var t=dn(e),n=Ht(e,t);if(n!==null){var r=Re();vt(n,e,t,r)}Of(e,t)}};lm=function(){return U};am=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};Iu=function(e,t,n){switch(t){case"input":if(ku(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Fl(r);if(!s)throw Error(C(90));Dp(r),ku(r,s)}}}break;case"textarea":Up(e,n);break;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}};Qp=Af;Jp=zn;var T1={usingClientEntryPoint:!1,Events:[ai,ur,Fl,Vp,Hp,Af]},ls={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$1={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yp(e),e===null?null:e.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||O1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{Ml=Li.inject($1),Rt=Li}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T1;Ge.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tf(t))throw Error(C(200));return I1(e,t,null,n)};Ge.createRoot=function(e,t){if(!Tf(e))throw Error(C(299));var n=!1,r="",s=Iy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=If(e,1,!1,null,null,n,!1,r,s),e[Vt]=t.current,qs(e.nodeType===8?e.parentNode:e),new Rf(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Yp(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return zn(e)};Ge.hydrate=function(e,t,n){if(!Jl(t))throw Error(C(200));return Xl(null,e,t,!0,n)};Ge.hydrateRoot=function(e,t,n){if(!Tf(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Iy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ny(t,null,e,1,n??null,s,!1,i,o),e[Vt]=t.current,qs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ql(t)};Ge.render=function(e,t,n){if(!Jl(t))throw Error(C(200));return Xl(null,e,t,!1,n)};Ge.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(C(40));return e._reactRootContainer?(zn(function(){Xl(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};Ge.unstable_batchedUpdates=Af;Ge.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Xl(e,t,n,!1,r)};Ge.version="18.3.1-next-f1338f8080-20240426";function Oy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oy)}catch(e){console.error(e)}}Oy(),Op.exports=Ge;var L1=Op.exports,Ry,xh=L1;Ry=xh.createRoot,xh.hydrateRoot;const M1=Symbol(),$f=Symbol(),hs="a",Ty="f",Ph="p",$y="c",Ly="t",qa="n",Va="g",Lf="h",Rs="w",Mf="o",Bf="k";let B1=(e,t)=>new Proxy(e,t);const uc=Object.getPrototypeOf,cc=new WeakMap,My=e=>e&&(cc.has(e)?cc.get(e):uc(e)===Object.prototype||uc(e)===Array.prototype),Fo=e=>typeof e=="object"&&e!==null,j1=e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(t=>!t.configurable&&!t.writable),D1=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(n=>{n.configurable=!0}),Object.create(uc(e),t)},F1=(e,t)=>{const n={[Ty]:t};let r=!1;const s=(l,a)=>{if(!r){let u=n[hs].get(e);if(u||(u={},n[hs].set(e,u)),l===Rs)u[Rs]=!0;else{let h=u[l];h||(h=new Set,u[l]=h),h.add(a)}}},i=()=>{r=!0,n[hs].delete(e)},o={get(l,a){return a===$f?e:(s(Bf,a),By(Reflect.get(l,a),n[hs],n[$y],n[Ly]))},has(l,a){return a===M1?(i(),!0):(s(Lf,a),Reflect.has(l,a))},getOwnPropertyDescriptor(l,a){return s(Mf,a),Reflect.getOwnPropertyDescriptor(l,a)},ownKeys(l){return s(Rs),Reflect.ownKeys(l)}};return t&&(o.set=o.deleteProperty=()=>!1),[o,n]},jf=e=>e[$f]||e,By=(e,t,n,r)=>{if(!My(e))return e;let s=r&&r.get(e);if(!s){const a=jf(e);j1(a)?s=[a,D1(a)]:s=[a],r==null||r.set(e,s)}const[i,o]=s;let l=n&&n.get(i);return(!l||l[1][Ty]!==!!o)&&(l=F1(i,!!o),l[1][Ph]=B1(o||i,l[0]),n&&n.set(i,l)),l[1][hs]=t,l[1][$y]=n,l[1][Ly]=r,l[1][Ph]},U1=(e,t)=>{const n=Reflect.ownKeys(e),r=Reflect.ownKeys(t);return n.length!==r.length||n.some((s,i)=>s!==r[i])},jy=(e,t,n,r,s=Object.is)=>{if(s(e,t))return!1;if(!Fo(e)||!Fo(t))return!0;const i=n.get(jf(e));if(!i)return!0;if(r){const l=r.get(e);if(l&&l[qa]===t)return l[Va];r.set(e,{[qa]:t,[Va]:!1})}let o=null;try{for(const l of i[Lf]||[])if(o=Reflect.has(e,l)!==Reflect.has(t,l),o)return o;if(i[Rs]===!0){if(o=U1(e,t),o)return o}else for(const l of i[Mf]||[]){const a=!!Reflect.getOwnPropertyDescriptor(e,l),u=!!Reflect.getOwnPropertyDescriptor(t,l);if(o=a!==u,o)return o}for(const l of i[Bf]||[])if(o=jy(e[l],t[l],n,r,s),o)return o;return o===null&&(o=!0),o}finally{r&&r.set(e,{[qa]:t,[Va]:o})}},z1=e=>My(e)&&e[$f]||null,Nh=(e,t=!0)=>{cc.set(e,t)},K1=(e,t,n)=>{const r=[],s=new WeakSet,i=(o,l)=>{var a,u,h;if(s.has(o))return;Fo(o)&&s.add(o);const c=Fo(o)&&t.get(jf(o));if(c){if((a=c[Lf])===null||a===void 0||a.forEach(d=>{const p=`:has(${String(d)})`;r.push(l?[...l,p]:[p])}),c[Rs]===!0){const d=":ownKeys";r.push(l?[...l,d]:[d])}else(u=c[Mf])===null||u===void 0||u.forEach(d=>{const p=`:hasOwn(${String(d)})`;r.push(l?[...l,p]:[p])});(h=c[Bf])===null||h===void 0||h.forEach(d=>{"value"in(Object.getOwnPropertyDescriptor(o,d)||{})&&i(o[d],l?[...l,d]:[d])})}else l&&r.push(l)};return i(e),r},Uo={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Df=e=>typeof e=="object"&&e!==null,W1=e=>Df(e)&&!Ff.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),q1=(e,t)=>{const n=Ih.get(e);if((n==null?void 0:n[0])===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return Nh(r,!0),Ih.set(e,[t,r]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(e,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(e,s),l={value:i,enumerable:o,configurable:!0};if(Ff.has(i))Nh(i,!1);else if(Kn.has(i)){const[a,u]=Kn.get(i);l.value=Dy(a,u())}Object.defineProperty(r,s,l)}),Object.preventExtensions(r)},V1=(e,t,n,r)=>({deleteProperty(s,i){const o=Reflect.get(s,i);n(i);const l=Reflect.deleteProperty(s,i);return l&&r(["delete",[i],o]),l},set(s,i,o,l){const a=!e()&&Reflect.has(s,i),u=Reflect.get(s,i,l);if(a&&(Oh(u,o)||zo.has(o)&&Oh(u,zo.get(o))))return!0;n(i),Df(o)&&(o=z1(o)||o);const h=!Kn.has(o)&&Q1(o)?Uf(o):o;return t(i,h),Reflect.set(s,i,h,l),r(["set",[i],o,u]),!0}}),Kn=new WeakMap,Ff=new WeakSet,Ih=new WeakMap,Mi=[1,1],zo=new WeakMap;let Oh=Object.is,H1=(e,t)=>new Proxy(e,t),Q1=W1,Dy=q1,J1=V1;function Uf(e={}){if(!Df(e))throw new Error("object required");const t=zo.get(e);if(t)return t;let n=Mi[0];const r=new Set,s=(w,m=++Mi[0])=>{n!==m&&(n=m,r.forEach(f=>f(w,m)))};let i=Mi[1];const o=(w=++Mi[1])=>(i!==w&&!r.size&&(i=w,a.forEach(([m])=>{const f=m[1](w);f>n&&(n=f)})),n),l=w=>(m,f)=>{const g=[...m];g[1]=[w,...g[1]],s(g,f)},a=new Map,u=(w,m)=>{const f=!Ff.has(m)&&Kn.get(m);if(f){if((Uo?"production":void 0)!=="production"&&a.has(w))throw new Error("prop listener already exists");if(r.size){const g=f[2](l(w));a.set(w,[f,g])}else a.set(w,[f])}},h=w=>{var m;const f=a.get(w);f&&(a.delete(w),(m=f[1])==null||m.call(f))},c=w=>(r.add(w),r.size===1&&a.forEach(([f,g],S)=>{if((Uo?"production":void 0)!=="production"&&g)throw new Error("remove already exists");const E=f[2](l(S));a.set(S,[f,E])}),()=>{r.delete(w),r.size===0&&a.forEach(([f,g],S)=>{g&&(g(),a.set(S,[f]))})});let d=!0;const p=J1(()=>d,u,h,s),v=H1(e,p);zo.set(e,v);const y=[e,o,c];return Kn.set(v,y),Reflect.ownKeys(e).forEach(w=>{const m=Object.getOwnPropertyDescriptor(e,w);"value"in m&&m.writable&&(v[w]=e[w])}),d=!1,v}function X1(e,t,n){const r=Kn.get(e);(Uo?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[2];let l=!1;const u=o(h=>{i.push(h),s||(s=Promise.resolve().then(()=>{s=void 0,l&&t(i.splice(0))}))});return l=!0,()=>{l=!1,u()}}function Rh(e){const t=Kn.get(e);(Uo?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,r]=t;return Dy(n,r())}const G1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Y1=(e,t)=>{const n=j.useRef();j.useEffect(()=>{n.current=K1(e,t)}),j.useDebugValue(n.current)},Z1=Y1,eS=new WeakMap;function Jt(e,t){const r=j.useMemo(()=>e&&new WeakMap,[e]),s=j.useRef();let i=!0;const o=j.useSyncExternalStore(j.useCallback(a=>{const u=X1(e,a);return a(),u},[e,void 0]),()=>{const a=Rh(e);try{if(!i&&s.current&&!jy(s.current,a,r,new WeakMap))return s.current}catch{}return a},()=>Rh(e));i=!1,j.useLayoutEffect(()=>{s.current=o}),(G1?"production":void 0)!=="production"&&Z1(o,r);const l=j.useMemo(()=>new WeakMap,[]);return By(o,r,l,eS)}const ps=({label:e,value:t})=>A.jsxs("div",{className:"flex justify-between items-center py-1",children:[A.jsx("span",{className:"text-gray-600 text-xs",children:e}),A.jsx("span",{className:"font-mono text-xs",children:t})]}),tS=({behavior:e})=>A.jsxs("div",{className:"mt-2 border-t border-gray-200 pt-2",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{className:"font-semibold text-xs",children:e.type}),e.name&&A.jsx("span",{className:"text-xs text-gray-500",children:e.name})]}),Object.entries(e).map(([t,n])=>t!=="type"&&t!=="name"&&t!=="uuid"?A.jsx(ps,{label:t,value:JSON.stringify(n)},t):null)]});function nS({entity:e}){return console.log(" Rendering EntityInspector",{entity:e}),A.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 shadow-md mb-2 max-w-xs",children:[e.name&&A.jsx("h2",{className:"text-lg font-bold mb-2 truncate",title:e.name,children:e.name}),A.jsxs("div",{className:"mb-2",children:[A.jsx(ps,{label:"x",value:e.x.toFixed(2)}),A.jsx(ps,{label:"y",value:e.y.toFixed(2)}),A.jsx(ps,{label:"rotation",value:e.rotation.toFixed(2)}),A.jsx(ps,{label:"scale",value:e.scale.toFixed(2)})]}),A.jsx("div",{className:"mt-3",children:e.behaviors.map((t,n)=>A.jsx(tS,{behavior:t},t.uuid||n))})]})}/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fy=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},a)=>j.createElement("svg",{ref:a,...sS,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Fy("lucide",s),...l},[...o.map(([u,h])=>j.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=(e,t)=>{const n=j.forwardRef(({className:r,...s},i)=>j.createElement(iS,{ref:i,iconNode:t,className:Fy(`lucide-${rS(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Uy("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Uy("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);function Th(e){return JSON.parse(JSON.stringify(e))}const q=Uf({entities:[],stage:{width:1e3,height:1e3}}),Z={addEntity:e=>{const t={...Th(e),uuid:crypto.randomUUID()};return q.entities.push(t),t},removeEntity:e=>{q.entities=q.entities.filter(t=>t.uuid!==e)},updateEntity:(e,t)=>{const n=q.entities.find(r=>r.uuid===e);n&&Object.assign(n,t)},addBehaviorToEntity:(e,t)=>{const n=q.entities.find(s=>s.uuid===e);if(!n)throw new Error("Entity not found");const r={...Th(t),uuid:crypto.randomUUID()};return n.behaviors.push(r),r},removeBehaviorFromEntity:(e,t)=>{const n=q.entities.find(r=>r.uuid===e);n&&(n.behaviors=n.behaviors.filter(r=>r.type!==t))},clearWorld:()=>{q.entities=[]},getEntity:e=>q.entities.find(t=>t.uuid===e)},ve=Uf({selectedEntityIds:[],aiBusy:!1}),St={setSelectedEntityIds:e=>{ve.selectedEntityIds=e},addSelectedEntityIds:e=>{const t=e.filter(n=>!ve.selectedEntityIds.includes(n));ve.selectedEntityIds.push(...t)},removeSelectedEntityIds:e=>{ve.selectedEntityIds=ve.selectedEntityIds.filter(t=>!e.includes(t))},toggleEntitySelection:(e,t)=>{if(t){const n=ve.selectedEntityIds.indexOf(e);n===-1?ve.selectedEntityIds.push(e):ve.selectedEntityIds.splice(n,1)}else ve.selectedEntityIds=[e]},clearSelection:()=>{ve.selectedEntityIds=[]},setAIBusy:e=>{ve.aiBusy=e}},zy=()=>{const{selectedEntityIds:e}=Jt(ve),{entities:t}=Jt(q);return t.filter(n=>e.includes(n.uuid))},tr="0.7.0";let $h=!1,Ts,Ky,Wy,fc,qy,Vy,Hy,Qy,Jy;function aS(e,t={auto:!1}){if($h)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if(Ts)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${Ts}'\``);$h=t.auto,Ts=e.kind,Ky=e.fetch,Wy=e.FormData,fc=e.File,qy=e.ReadableStream,Vy=e.getMultipartRequestOptions,Hy=e.getDefaultAgent,Qy=e.fileFromPath,Jy=e.isFsReadStream}let uS=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function cS({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new uS(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:o=>!1}}Ts||aS(cS(),{auto:!0});let fS=class ms{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;const s=new dS;async function*i(){if(!t.body)throw n.abort(),new _t("Attempted to iterate over a response with no body");const l=new Ko,a=Lh(t.body);for await(const u of a)for(const h of l.decode(u)){const c=s.decode(h);c&&(yield c)}for(const u of l.flush()){const h=s.decode(u);h&&(yield h)}}async function*o(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const a of i())if(!l){if(a.data.startsWith("[DONE]")){l=!0;continue}if(a.event===null||a.event==="error"){let u;try{u=JSON.parse(a.data)}catch(h){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),h}if(u&&u.error)throw new Ze(u.error.status_code,u.error,u.error.message,void 0);yield u}}l=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{l||n.abort()}}return new ms(o,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new Ko,l=Lh(t);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new ms(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new ms(()=>s(t),this.controller),new ms(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new qy({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}},dS=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=hS(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}},Ko=class dc{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=dc.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(dc.NEWLINE_REGEXP);return s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new _t(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new _t(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new _t("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}};Ko.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Ko.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function hS(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function Lh(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Xy=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",Gy=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&zf(e),zf=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",pS=e=>Gy(e)||Xy(e)||Jy(e);async function Yy(e,t,n){var s;if(e=await e,n??(n=Gy(e)?{lastModified:e.lastModified,type:e.type}:{}),Xy(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new fc([i],t,n)}const r=await mS(e);if(t||(t=gS(e)??"unknown_file"),!n.type){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new fc(r,t,n)}async function mS(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(zf(e))t.push(await e.arrayBuffer());else if(wS(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${yS(e)}`);return t}function yS(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function gS(e){var t;return Ha(e.name)||Ha(e.filename)||((t=Ha(e.path))==null?void 0:t.split(/[\\/]/).pop())}const Ha=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},wS=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Mh=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Zy=async e=>{const t=await vS(e.body);return Vy(t,e)},vS=async e=>{const t=new Wy;return await Promise.all(Object.entries(e||{}).map(([n,r])=>hc(t,n,r))),t},hc=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(pS(n)){const r=await Yy(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>hc(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>hc(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var xr={};async function eg(e){const{response:t}=e;if(e.options.stream)return Pr("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):fS.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await t.json();return Pr("response",t.status,t.url,t.headers,i),i}const s=await t.text();return Pr("response",t.status,t.url,t.headers,s),s}let tg=class ng extends Promise{constructor(t,n=eg){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new ng(this.responsePromise,async n=>t(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},SS=class{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e4,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=Qa("maxRetries",n),this.timeout=Qa("timeout",r),this.httpAgent=s,this.fetch=i??Ky}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...CS(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${RS()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&zf(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t){var v;const{method:n,path:r,query:s,headers:i={}}=t,o=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:Mh(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(o),a=this.buildURL(r,s);"timeout"in t&&Qa("timeout",t.timeout);const u=t.timeout??this.timeout,h=t.httpAgent??this.httpAgent??Hy(a),c=u+1e3;typeof((v=h==null?void 0:h.options)==null?void 0:v.timeout)=="number"&&c>(h.options.timeout??0)&&(h.options.timeout=c),this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const d=this.buildHeaders({options:t,headers:i,contentLength:l});return{req:{method:n,...o&&{body:o},headers:d,...h&&{agent:h},signal:t.signal??null},url:a,timeout:u}}buildHeaders({options:t,headers:n,contentLength:r}){const s={};r&&(s["content-length"]=r);const i=this.defaultHeaders(t);return Uh(s,i),Uh(s,n),Mh(t.body)&&Ts!=="node"&&delete s["content-type"],this.validateHeaders(s,n),s}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return Ze.generate(t,n,r,s)}request(t,n=null){return new tg(this.makeRequest(t,n))}async makeRequest(t,n){var h,c;const r=await t;n==null&&(n=r.maxRetries??this.maxRetries),await this.prepareOptions(r);const{req:s,url:i,timeout:o}=this.buildRequest(r);if(await this.prepareRequest(s,{url:i,options:r}),Pr("request",i,r,s.headers),(h=r.signal)!=null&&h.aborted)throw new yc;const l=new AbortController,a=await this.fetchWithTimeout(i,s,o,l).catch(pc);if(a instanceof Error){if((c=r.signal)!=null&&c.aborted)throw new yc;if(n)return this.retryRequest(r,n);throw a.name==="AbortError"?new rg:new Gl({cause:a})}const u=ES(a.headers);if(!a.ok){if(n&&this.shouldRetry(a)){const m=`retrying, ${n} attempts remaining`;return Pr(`response (error; ${m})`,a.status,i,u),this.retryRequest(r,n,u)}const d=await a.text().catch(m=>pc(m).message),p=AS(d),v=p?void 0:d;throw Pr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,a.status,i,u,v),this.makeStatusError(a.status,p,v,u)}return{response:a,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new _S(this,r,t)}buildURL(t,n){const r=PS(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return IS(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new _t(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:s.signal,...o}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await NS(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${tr}`}},_S=class extends tg{constructor(t,n,r){super(n,async s=>new r(t,s.response,await eg(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}};const ES=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),kS=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":jh(Deno.build.os),"X-Stainless-Arch":Bh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":jh(process.platform),"X-Stainless-Arch":Bh(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=bS();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function bS(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const Bh=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",jh=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Dh;const CS=()=>Dh??(Dh=kS()),AS=e=>{try{return JSON.parse(e)}catch{return}},xS=new RegExp("^(?:[a-z]+:)?//","i"),PS=e=>xS.test(e),NS=e=>new Promise(t=>setTimeout(t,e)),Qa=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new _t(`${e} must be an integer`);if(t<0)throw new _t(`${e} must be a positive integer`);return t},pc=e=>e instanceof Error?e:new Error(e),Fh=e=>{var t,n,r,s;if(typeof process<"u")return((t=xr==null?void 0:xr[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function IS(e){if(!e)return!0;for(const t in e)return!1;return!0}function OS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Uh(e,t){for(const n in t){if(!OS(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}function Pr(e,...t){typeof process<"u"&&(xr==null?void 0:xr.DEBUG)==="true"&&console.log(`Groq:DEBUG:${e}`,...t)}const RS=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),TS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class _t extends Error{}let Ze=class mc extends _t{constructor(t,n,r,s){super(`${mc.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.error=n}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t)return new Gl({cause:pc(n)});const i=n;return t===400?new sg(t,i,r,s):t===401?new ig(t,i,r,s):t===403?new og(t,i,r,s):t===404?new lg(t,i,r,s):t===409?new ag(t,i,r,s):t===422?new ug(t,i,r,s):t===429?new cg(t,i,r,s):t>=500?new fg(t,i,r,s):new mc(t,i,r,s)}},yc=class extends Ze{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}},Gl=class extends Ze{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}},rg=class extends Gl{constructor({message:t}={}){super({message:t??"Request timed out."})}},sg=class extends Ze{constructor(){super(...arguments),this.status=400}},ig=class extends Ze{constructor(){super(...arguments),this.status=401}},og=class extends Ze{constructor(){super(...arguments),this.status=403}},lg=class extends Ze{constructor(){super(...arguments),this.status=404}},ag=class extends Ze{constructor(){super(...arguments),this.status=409}},ug=class extends Ze{constructor(){super(...arguments),this.status=422}},cg=class extends Ze{constructor(){super(...arguments),this.status=429}},fg=class extends Ze{},En=class{constructor(t){this._client=t}},Wo=class extends En{create(t,n){return this._client.post("/openai/v1/audio/transcriptions",Zy({body:t,...n}))}};Wo||(Wo={});let qo=class extends En{create(t,n){return this._client.post("/openai/v1/audio/translations",Zy({body:t,...n}))}};qo||(qo={});let Vo=class extends En{constructor(){super(...arguments),this.transcriptions=new Wo(this._client),this.translations=new qo(this._client)}};(function(e){e.Transcriptions=Wo,e.Translations=qo})(Vo||(Vo={}));let Ho=class extends En{create(t,n){return this._client.post("/openai/v1/chat/completions",{body:t,...n,stream:t.stream??!1})}};Ho||(Ho={});let Qo=class extends En{constructor(){super(...arguments),this.completions=new Ho(this._client)}};(function(e){e.Completions=Ho})(Qo||(Qo={}));let Jo=class extends En{};Jo||(Jo={});let Xo=class extends En{create(t,n){return this._client.post("/openai/v1/embeddings",{body:t,...n})}};Xo||(Xo={});let Go=class extends En{retrieve(t,n){return this._client.get(`/openai/v1/models/${t}`,n)}list(t){return this._client.get("/openai/v1/models",t)}delete(t,n){return this._client.delete(`/openai/v1/models/${t}`,n)}};Go||(Go={});var dg;class ie extends SS{constructor({baseURL:t=Fh("GROQ_BASE_URL"),apiKey:n=Fh("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new _t("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const s={apiKey:n,...r,baseURL:t||"https://api.groq.com"};if(!s.dangerouslyAllowBrowser&&TS())throw new _t(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:s.baseURL,timeout:s.timeout??6e4,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new Jo(this),this.chat=new Qo(this),this.embeddings=new Xo(this),this.audio=new Vo(this),this.models=new Go(this),this._options=s,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}}dg=ie;ie.Groq=dg;ie.DEFAULT_TIMEOUT=6e4;ie.GroqError=_t;ie.APIError=Ze;ie.APIConnectionError=Gl;ie.APIConnectionTimeoutError=rg;ie.APIUserAbortError=yc;ie.NotFoundError=lg;ie.ConflictError=ag;ie.RateLimitError=cg;ie.BadRequestError=sg;ie.AuthenticationError=ig;ie.InternalServerError=fg;ie.PermissionDeniedError=og;ie.UnprocessableEntityError=ug;ie.toFile=Yy;ie.fileFromPath=Qy;(function(e){e.Completions=Jo,e.Chat=Qo,e.Embeddings=Xo,e.Audio=Vo,e.Models=Go})(ie||(ie={}));const Kf=Symbol.for("yaml.alias"),gc=Symbol.for("yaml.document"),pn=Symbol.for("yaml.map"),hg=Symbol.for("yaml.pair"),Lt=Symbol.for("yaml.scalar"),Qr=Symbol.for("yaml.seq"),at=Symbol.for("yaml.node.type"),Qn=e=>!!e&&typeof e=="object"&&e[at]===Kf,Jn=e=>!!e&&typeof e=="object"&&e[at]===gc,Jr=e=>!!e&&typeof e=="object"&&e[at]===pn,X=e=>!!e&&typeof e=="object"&&e[at]===hg,W=e=>!!e&&typeof e=="object"&&e[at]===Lt,Xr=e=>!!e&&typeof e=="object"&&e[at]===Qr;function ee(e){if(e&&typeof e=="object")switch(e[at]){case pn:case Qr:return!0}return!1}function ne(e){if(e&&typeof e=="object")switch(e[at]){case Kf:case pn:case Lt:case Qr:return!0}return!1}const $S=e=>(W(e)||ee(e))&&!!e.anchor,Be=Symbol("break visit"),pg=Symbol("skip children"),$t=Symbol("remove node");function gn(e,t){const n=mg(t);Jn(e)?yr(null,e.contents,n,Object.freeze([e]))===$t&&(e.contents=null):yr(null,e,n,Object.freeze([]))}gn.BREAK=Be;gn.SKIP=pg;gn.REMOVE=$t;function yr(e,t,n,r){const s=yg(e,t,n,r);if(ne(s)||X(s))return gg(e,r,s),yr(e,s,n,r);if(typeof s!="symbol"){if(ee(t)){r=Object.freeze(r.concat(t));for(let i=0;i<t.items.length;++i){const o=yr(i,t.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===Be)return Be;o===$t&&(t.items.splice(i,1),i-=1)}}}else if(X(t)){r=Object.freeze(r.concat(t));const i=yr("key",t.key,n,r);if(i===Be)return Be;i===$t&&(t.key=null);const o=yr("value",t.value,n,r);if(o===Be)return Be;o===$t&&(t.value=null)}}return s}async function Yl(e,t){const n=mg(t);Jn(e)?await gr(null,e.contents,n,Object.freeze([e]))===$t&&(e.contents=null):await gr(null,e,n,Object.freeze([]))}Yl.BREAK=Be;Yl.SKIP=pg;Yl.REMOVE=$t;async function gr(e,t,n,r){const s=await yg(e,t,n,r);if(ne(s)||X(s))return gg(e,r,s),gr(e,s,n,r);if(typeof s!="symbol"){if(ee(t)){r=Object.freeze(r.concat(t));for(let i=0;i<t.items.length;++i){const o=await gr(i,t.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===Be)return Be;o===$t&&(t.items.splice(i,1),i-=1)}}}else if(X(t)){r=Object.freeze(r.concat(t));const i=await gr("key",t.key,n,r);if(i===Be)return Be;i===$t&&(t.key=null);const o=await gr("value",t.value,n,r);if(o===Be)return Be;o===$t&&(t.value=null)}}return s}function mg(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function yg(e,t,n,r){var s,i,o,l,a;if(typeof n=="function")return n(e,t,r);if(Jr(t))return(s=n.Map)==null?void 0:s.call(n,e,t,r);if(Xr(t))return(i=n.Seq)==null?void 0:i.call(n,e,t,r);if(X(t))return(o=n.Pair)==null?void 0:o.call(n,e,t,r);if(W(t))return(l=n.Scalar)==null?void 0:l.call(n,e,t,r);if(Qn(t))return(a=n.Alias)==null?void 0:a.call(n,e,t,r)}function gg(e,t,n){const r=t[t.length-1];if(ee(r))r.items[e]=n;else if(X(r))e==="key"?r.key=n:r.value=n;else if(Jn(r))r.contents=n;else{const s=Qn(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const LS={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},MS=e=>e.replace(/[!,[\]{}]/g,t=>LS[t]);class Oe{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Oe.defaultYaml,t),this.tags=Object.assign({},Oe.defaultTags,n)}clone(){const t=new Oe(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Oe(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Oe.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Oe.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Oe.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Oe.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=t.match(/^(.*!)([^!]*)$/s);s||n(`The ${t} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+MS(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(t&&r.length>0&&ne(t.contents)){const i={};gn(t.contents,(o,l)=>{ne(l)&&l.tag&&(i[l.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!t||s.some(l=>l.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}Oe.defaultYaml={explicit:!1,version:"1.2"};Oe.defaultTags={"!!":"tag:yaml.org,2002:"};function wg(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function vg(e){const t=new Set;return gn(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function Sg(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function BS(e,t){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s||(s=vg(e));const o=Sg(t,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(W(o.node)||ee(o.node)))o.node.anchor=o.anchor;else{const l=new Error("Failed to resolve repeated object (this should not happen)");throw l.source=i,l}}},sourceObjects:r}}function wr(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],l=wr(e,r,String(s),o);l===void 0?delete r[s]:l!==o&&(r[s]=l)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=wr(e,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=wr(e,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=wr(e,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return e.call(t,n,r)}function it(e,t,n){if(Array.isArray(e))return e.map((r,s)=>it(r,String(s),n));if(e&&typeof e.toJSON=="function"){if(!n||!$S(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=e.toJSON(t,n);return n.onCreate&&n.onCreate(s),s}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class Wf{constructor(t){Object.defineProperty(this,at,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Jn(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=it(this,"",o);if(typeof s=="function")for(const{count:a,res:u}of o.anchors.values())s(u,a);return typeof i=="function"?wr(i,{"":l},"",l):l}}class Zl extends Wf{constructor(t){super(Kf),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return gn(t,{Node:(r,s)=>{if(s===this)return gn.BREAK;s.anchor===this.source&&(n=s)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s);if(!o){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(a)}let l=r.get(o);if(l||(it(o,null,n),l=r.get(o)),!l||l.res===void 0){const a="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(a)}if(i>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=io(s,o,r)),l.count*l.aliasCount>i)){const a="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(a)}return l.res}toString(t,n,r){const s=`*${this.source}`;if(t){if(wg(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(t.implicitKey)return`${s} `}return s}}function io(e,t,n){if(Qn(t)){const r=t.resolve(e),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(ee(t)){let r=0;for(const s of t.items){const i=io(e,s,n);i>r&&(r=i)}return r}else if(X(t)){const r=io(e,t.key,n),s=io(e,t.value,n);return Math.max(r,s)}return 1}const _g=e=>!e||typeof e!="function"&&typeof e!="object";class T extends Wf{constructor(t){super(Lt),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:it(this.value,t,n)}toString(){return String(this.value)}}T.BLOCK_FOLDED="BLOCK_FOLDED";T.BLOCK_LITERAL="BLOCK_LITERAL";T.PLAIN="PLAIN";T.QUOTE_DOUBLE="QUOTE_DOUBLE";T.QUOTE_SINGLE="QUOTE_SINGLE";const jS="tag:yaml.org,2002:";function DS(e,t,n){if(t){const r=n.filter(i=>i.tag===t),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find(r=>{var s;return((s=r.identify)==null?void 0:s.call(r,e))&&!r.format})}function ei(e,t,n){var c,d,p;if(Jn(e)&&(e=e.contents),ne(e))return e;if(X(e)){const v=(d=(c=n.schema[pn]).createNode)==null?void 0:d.call(c,n.schema,null,n);return v.items.push(e),v}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:l}=n;let a;if(r&&e&&typeof e=="object"){if(a=l.get(e),a)return a.anchor||(a.anchor=s(e)),new Zl(a.anchor);a={anchor:null,node:null},l.set(e,a)}t!=null&&t.startsWith("!!")&&(t=jS+t.slice(2));let u=DS(e,t,o.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const v=new T(e);return a&&(a.node=v),v}u=e instanceof Map?o[pn]:Symbol.iterator in Object(e)?o[Qr]:o[pn]}i&&(i(u),delete n.onTagObj);const h=u!=null&&u.createNode?u.createNode(n.schema,e,n):typeof((p=u==null?void 0:u.nodeClass)==null?void 0:p.from)=="function"?u.nodeClass.from(n.schema,e,n):new T(e);return t?h.tag=t:u.default||(h.tag=u.tag),a&&(a.node=h),h}function Yo(e,t,n){let r=n;for(let s=t.length-1;s>=0;--s){const i=t[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return ei(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const ys=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class Eg extends Wf{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>ne(r)||X(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(ys(t))this.add(n);else{const[r,...s]=t,i=this.get(r,!0);if(ee(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,Yo(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(ee(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...s]=t,i=this.get(r,!0);return s.length===0?!n&&W(i)?i.value:i:ee(i)?i.getIn(s,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!X(n))return!1;const r=n.value;return r==null||t&&W(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const s=this.get(n,!0);return ee(s)?s.hasIn(r):!1}setIn(t,n){const[r,...s]=t;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(ee(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,Yo(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const FS=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function zt(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Rn=(e,t,n)=>e.endsWith(`
`)?zt(n,t):n.includes(`
`)?`
`+zt(n,t):(e.endsWith(" ")?"":" ")+n,kg="flow",wc="block",oo="quoted";function ea(e,t,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:l}={}){if(!s||s<0)return e;s<i&&(i=0);const a=Math.max(1+i,1+s-t.length);if(e.length<=a)return e;const u=[],h={};let c=s-t.length;typeof r=="number"&&(r>s-Math.max(2,i)?u.push(0):c=s-r);let d,p,v=!1,y=-1,w=-1,m=-1;n===wc&&(y=zh(e,y,t.length),y!==-1&&(c=y+a));for(let g;g=e[y+=1];){if(n===oo&&g==="\\"){switch(w=y,e[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}m=y}if(g===`
`)n===wc&&(y=zh(e,y,t.length)),c=y+t.length+a,d=void 0;else{if(g===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){const S=e[y+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(d=y)}if(y>=c)if(d)u.push(d),c=d+a,d=void 0;else if(n===oo){for(;p===" "||p==="	";)p=g,g=e[y+=1],v=!0;const S=y>m+1?y-2:w-1;if(h[S])return e;u.push(S),h[S]=!0,c=S+a,d=void 0}else v=!0}p=g}if(v&&l&&l(),u.length===0)return e;o&&o();let f=e.slice(0,u[0]);for(let g=0;g<u.length;++g){const S=u[g],E=u[g+1]||e.length;S===0?f=`
${t}${e.slice(0,E)}`:(n===oo&&h[S]&&(f+=`${e[S]}\\`),f+=`
${t}${e.slice(S+1,E)}`)}return f}function zh(e,t,n){let r=t,s=t+1,i=e[s];for(;i===" "||i==="	";)if(t<s+n)i=e[++t];else{do i=e[++t];while(i&&i!==`
`);r=t,s=t+1,i=e[s]}return r}const ta=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),na=e=>/^(%|---|\.\.\.)/m.test(e);function US(e,t,n){if(!t||t<0)return!1;const r=t-n,s=e.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(e[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function $s(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,s=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(na(e)?"  ":"");let o="",l=0;for(let a=0,u=n[a];u;u=n[++a])if(u===" "&&n[a+1]==="\\"&&n[a+2]==="n"&&(o+=n.slice(l,a)+"\\ ",a+=1,l=a,u="\\"),u==="\\")switch(n[a+1]){case"u":{o+=n.slice(l,a);const h=n.substr(a+2,4);switch(h){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:h.substr(0,2)==="00"?o+="\\x"+h.substr(2):o+=n.substr(a,6)}a+=5,l=a+1}break;case"n":if(r||n[a+2]==='"'||n.length<s)a+=1;else{for(o+=n.slice(l,a)+`

`;n[a+2]==="\\"&&n[a+3]==="n"&&n[a+4]!=='"';)o+=`
`,a+=2;o+=i,n[a+2]===" "&&(o+="\\"),a+=1,l=a+1}break;default:a+=1}return o=l?o+n.slice(l):n,r?o:ea(o,i,oo,ta(t,!1))}function vc(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return $s(e,t);const n=t.indent||(na(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:ea(r,n,kg,ta(t,!1))}function vr(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=$s;else{const s=e.includes('"'),i=e.includes("'");s&&!i?r=vc:i&&!s?r=$s:r=n?vc:$s}return r(e,t)}let Sc;try{Sc=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Sc=/\n+(?!\n|$)/g}function lo({comment:e,type:t,value:n},r,s,i){const{blockQuote:o,commentString:l,lineWidth:a}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return vr(n,r);const u=r.indent||(r.forceBlockIndent||na(n)?"  ":""),h=o==="literal"?!0:o==="folded"||t===T.BLOCK_FOLDED?!1:t===T.BLOCK_LITERAL?!0:!US(n,a,u.length);if(!n)return h?`|
`:`>
`;let c,d;for(d=n.length;d>0;--d){const _=n[d-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let p=n.substring(d);const v=p.indexOf(`
`);v===-1?c="-":n===p||v!==p.length-1?(c="+",i&&i()):c="",p&&(n=n.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(Sc,`$&${u}`));let y=!1,w,m=-1;for(w=0;w<n.length;++w){const _=n[w];if(_===" ")y=!0;else if(_===`
`)m=w;else break}let f=n.substring(0,m<w?m+1:w);f&&(n=n.substring(f.length),f=f.replace(/\n+/g,`$&${u}`));let S=(h?"|":">")+(y?u?"2":"1":"")+c;if(e&&(S+=" "+l(e.replace(/ ?[\r\n]+/g," ")),s&&s()),h)return n=n.replace(/\n+/g,`$&${u}`),`${S}
${u}${f}${n}${p}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);const E=ea(`${f}${n}${p}`,u,wc,ta(r,!0));return`${S}
${u}${E}`}function zS(e,t,n,r){const{type:s,value:i}=e,{actualString:o,implicitKey:l,indent:a,indentStep:u,inFlow:h}=t;if(l&&i.includes(`
`)||h&&/[[\]{},]/.test(i))return vr(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return l||h||!i.includes(`
`)?vr(i,t):lo(e,t,n,r);if(!l&&!h&&s!==T.PLAIN&&i.includes(`
`))return lo(e,t,n,r);if(na(i)){if(a==="")return t.forceBlockIndent=!0,lo(e,t,n,r);if(l&&a===u)return vr(i,t)}const c=i.replace(/\n+/g,`$&
${a}`);if(o){const d=y=>{var w;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((w=y.test)==null?void 0:w.test(c))},{compat:p,tags:v}=t.doc.schema;if(v.some(d)||p!=null&&p.some(d))return vr(i,t)}return l?c:ea(c,a,kg,ta(t,!1))}function ci(e,t,n,r){const{implicitKey:s,inFlow:i}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:l}=e;l!==T.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(l=T.QUOTE_DOUBLE);const a=h=>{switch(h){case T.BLOCK_FOLDED:case T.BLOCK_LITERAL:return s||i?vr(o.value,t):lo(o,t,n,r);case T.QUOTE_DOUBLE:return $s(o.value,t);case T.QUOTE_SINGLE:return vc(o.value,t);case T.PLAIN:return zS(o,t,n,r);default:return null}};let u=a(l);if(u===null){const{defaultKeyType:h,defaultStringType:c}=t.options,d=s&&h||c;if(u=a(d),u===null)throw new Error(`Unsupported default string type ${d}`)}return u}function bg(e,t){const n=Object.assign({blockQuote:!0,commentString:FS,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function KS(e,t){var s;if(t.tag){const i=e.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)??i[0]}let n,r;if(W(t)){r=t.value;let i=e.filter(o=>{var l;return(l=o.identify)==null?void 0:l.call(o,r)});if(i.length>1){const o=i.filter(l=>l.test);o.length>0&&(i=o)}n=i.find(o=>o.format===t.format)??i.find(o=>!o.format)}else r=t,n=e.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=((s=r==null?void 0:r.constructor)==null?void 0:s.name)??typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function WS(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(W(e)||ee(e))&&e.anchor;i&&wg(i)&&(n.add(i),s.push(`&${i}`));const o=e.tag?e.tag:t.default?null:t.tag;return o&&s.push(r.directives.tagString(o)),s.join(" ")}function zr(e,t,n,r){var a;if(X(e))return e.toString(t,n,r);if(Qn(e)){if(t.doc.directives)return e.toString(t);if((a=t.resolvedAliases)!=null&&a.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const i=ne(e)?e:t.doc.createNode(e,{onTagObj:u=>s=u});s||(s=KS(t.doc.schema.tags,i));const o=WS(i,s,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const l=typeof s.stringify=="function"?s.stringify(i,t,n,r):W(i)?ci(i,t,n,r):i.toString(t,n,r);return o?W(i)||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${t.indent}${l}`:l}function qS({key:e,value:t},n,r,s){const{allNullValues:i,doc:o,indent:l,indentStep:a,options:{commentString:u,indentSeq:h,simpleKeys:c}}=n;let d=ne(e)&&e.comment||null;if(c){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(ee(e)||!ne(e)&&typeof e=="object"){const b="With simple keys, collection cannot be used as a key value";throw new Error(b)}}let p=!c&&(!e||d&&t==null&&!n.inFlow||ee(e)||(W(e)?e.type===T.BLOCK_FOLDED||e.type===T.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(c||!i),indent:l+a});let v=!1,y=!1,w=zr(e,n,()=>v=!0,()=>y=!0);if(!p&&!n.inFlow&&w.length>1024){if(c)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||t==null)return v&&r&&r(),w===""?"?":p?`? ${w}`:w}else if(i&&!c||t==null&&p)return w=`? ${w}`,d&&!v?w+=Rn(w,n.indent,u(d)):y&&s&&s(),w;v&&(d=null),p?(d&&(w+=Rn(w,n.indent,u(d))),w=`? ${w}
${l}:`):(w=`${w}:`,d&&(w+=Rn(w,n.indent,u(d))));let m,f,g;ne(t)?(m=!!t.spaceBefore,f=t.commentBefore,g=t.comment):(m=!1,f=null,g=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!p&&!d&&W(t)&&(n.indentAtStart=w.length+1),y=!1,!h&&a.length>=2&&!n.inFlow&&!p&&Xr(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let S=!1;const E=zr(t,n,()=>S=!0,()=>y=!0);let _=" ";if(d||m||f){if(_=m?`
`:"",f){const b=u(f);_+=`
${zt(b,n.indent)}`}E===""&&!n.inFlow?_===`
`&&(_=`

`):_+=`
${n.indent}`}else if(!p&&ee(t)){const b=E[0],k=E.indexOf(`
`),I=k!==-1,x=n.inFlow??t.flow??t.items.length===0;if(I||!x){let R=!1;if(I&&(b==="&"||b==="!")){let F=E.indexOf(" ");b==="&"&&F!==-1&&F<k&&E[F+1]==="!"&&(F=E.indexOf(" ",F+1)),(F===-1||k<F)&&(R=!0)}R||(_=`
${n.indent}`)}}else(E===""||E[0]===`
`)&&(_="");return w+=_+E,n.inFlow?S&&r&&r():g&&!S?w+=Rn(w,n.indent,u(g)):y&&s&&s(),w}function Cg(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const Bi="<<",Wt={identify:e=>e===Bi||typeof e=="symbol"&&e.description===Bi,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new T(Symbol(Bi)),{addToJSMap:Ag}),stringify:()=>Bi},VS=(e,t)=>(Wt.identify(t)||W(t)&&(!t.type||t.type===T.PLAIN)&&Wt.identify(t.value))&&(e==null?void 0:e.doc.schema.tags.some(n=>n.tag===Wt.tag&&n.default));function Ag(e,t,n){if(n=e&&Qn(n)?n.resolve(e.doc):n,Xr(n))for(const r of n.items)Ja(e,t,r);else if(Array.isArray(n))for(const r of n)Ja(e,t,r);else Ja(e,t,n)}function Ja(e,t,n){const r=e&&Qn(n)?n.resolve(e.doc):n;if(!Jr(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,e,Map);for(const[i,o]of s)t instanceof Map?t.has(i)||t.set(i,o):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function xg(e,t,{key:n,value:r}){if(ne(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(VS(e,n))Ag(e,t,r);else{const s=it(n,"",e);if(t instanceof Map)t.set(s,it(r,s,e));else if(t instanceof Set)t.add(s);else{const i=HS(n,s,e),o=it(r,i,e);i in t?Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[i]=o}}return t}function HS(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(ne(e)&&(n!=null&&n.doc)){const r=bg(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=e.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),Cg(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}function qf(e,t,n){const r=ei(e,void 0,n),s=ei(t,void 0,n);return new Pe(r,s)}class Pe{constructor(t,n=null){Object.defineProperty(this,at,{value:hg}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return ne(n)&&(n=n.clone(t)),ne(r)&&(r=r.clone(t)),new Pe(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return xg(n,r,this)}toString(t,n,r){return t!=null&&t.doc?qS(this,t,n,r):JSON.stringify(this)}}function Pg(e,t,n){return(t.inFlow??e.flow?JS:QS)(e,t,n)}function QS({comment:e,items:t},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:l}){const{indent:a,options:{commentString:u}}=n,h=Object.assign({},n,{indent:i,type:null});let c=!1;const d=[];for(let v=0;v<t.length;++v){const y=t[v];let w=null;if(ne(y))!c&&y.spaceBefore&&d.push(""),Zo(n,d,y.commentBefore,c),y.comment&&(w=y.comment);else if(X(y)){const f=ne(y.key)?y.key:null;f&&(!c&&f.spaceBefore&&d.push(""),Zo(n,d,f.commentBefore,c))}c=!1;let m=zr(y,h,()=>w=null,()=>c=!0);w&&(m+=Rn(m,i,u(w))),c&&w&&(c=!1),d.push(r+m)}let p;if(d.length===0)p=s.start+s.end;else{p=d[0];for(let v=1;v<d.length;++v){const y=d[v];p+=y?`
${a}${y}`:`
`}}return e?(p+=`
`+zt(u(e),a),l&&l()):c&&o&&o(),p}function JS({items:e},t,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:l}}=t;r+=i;const a=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,h=0;const c=[];for(let v=0;v<e.length;++v){const y=e[v];let w=null;if(ne(y))y.spaceBefore&&c.push(""),Zo(t,c,y.commentBefore,!1),y.comment&&(w=y.comment);else if(X(y)){const f=ne(y.key)?y.key:null;f&&(f.spaceBefore&&c.push(""),Zo(t,c,f.commentBefore,!1),f.comment&&(u=!0));const g=ne(y.value)?y.value:null;g?(g.comment&&(w=g.comment),g.commentBefore&&(u=!0)):y.value==null&&(f!=null&&f.comment)&&(w=f.comment)}w&&(u=!0);let m=zr(y,a,()=>w=null);v<e.length-1&&(m+=","),w&&(m+=Rn(m,r,l(w))),!u&&(c.length>h||m.includes(`
`))&&(u=!0),c.push(m),h=c.length}const{start:d,end:p}=n;if(c.length===0)return d+p;if(!u){const v=c.reduce((y,w)=>y+w.length+2,2);u=t.options.lineWidth>0&&v>t.options.lineWidth}if(u){let v=d;for(const y of c)v+=y?`
${i}${s}${y}`:`
`;return`${v}
${s}${p}`}else return`${d}${o}${c.join(" ")}${o}${p}`}function Zo({indent:e,options:{commentString:t}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=zt(t(r),e);n.push(i.trimStart())}}function Tn(e,t){const n=W(t)?t.value:t;for(const r of e)if(X(r)&&(r.key===t||r.key===n||W(r.key)&&r.key.value===n))return r}class He extends Eg{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(pn,t),this.items=[]}static from(t,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(t),l=(a,u)=>{if(typeof i=="function")u=i.call(n,a,u);else if(Array.isArray(i)&&!i.includes(a))return;(u!==void 0||s)&&o.items.push(qf(a,u,r))};if(n instanceof Map)for(const[a,u]of n)l(a,u);else if(n&&typeof n=="object")for(const a of Object.keys(n))l(a,n[a]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,n){var o;let r;X(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Pe(t,t==null?void 0:t.value):r=new Pe(t.key,t.value);const s=Tn(this.items,r.key),i=(o=this.schema)==null?void 0:o.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);W(s.value)&&_g(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const l=this.items.findIndex(a=>i(r,a)<0);l===-1?this.items.push(r):this.items.splice(l,0,r)}else this.items.push(r)}delete(t){const n=Tn(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Tn(this.items,t),s=r==null?void 0:r.value;return(!n&&W(s)?s.value:s)??void 0}has(t){return!!Tn(this.items,t)}set(t,n){this.add(new Pe(t,n),!0)}toJSON(t,n,r){const s=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items)xg(n,s,i);return s}toString(t,n,r){if(!t)return JSON.stringify(this);for(const s of this.items)if(!X(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),Pg(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Gr={collection:"map",default:!0,nodeClass:He,tag:"tag:yaml.org,2002:map",resolve(e,t){return Jr(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>He.from(e,t,n)};class wn extends Eg{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Qr,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=ji(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=ji(t);if(typeof r!="number")return;const s=this.items[r];return!n&&W(s)?s.value:s}has(t){const n=ji(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=ji(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const s=this.items[r];W(s)&&_g(n)?s.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(it(i,String(s++),n));return r}toString(t,n,r){return t?Pg(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n)){let o=0;for(let l of n){if(typeof s=="function"){const a=n instanceof Set?l:String(o++);l=s.call(n,a,l)}i.items.push(ei(l,void 0,r))}}return i}}function ji(e){let t=W(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Yr={collection:"seq",default:!0,nodeClass:wn,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Xr(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>wn.from(e,t,n)},ra={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),ci(e,t,n,r)}},sa={identify:e=>e==null,createNode:()=>new T(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new T(null),stringify:({source:e},t)=>typeof e=="string"&&sa.test.test(e)?e:t.options.nullStr},Vf={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new T(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Vf.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function kt({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let l=t-(i.length-o-1);for(;l-- >0;)i+="0"}return i}const Ng={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:kt},Ig={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():kt(e)}},Og={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new T(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:kt},ia=e=>typeof e=="bigint"||Number.isInteger(e),Hf=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function Rg(e,t,n){const{value:r}=e;return ia(r)&&r>=0?n+r.toString(t):kt(e)}const Tg={identify:e=>ia(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Hf(e,2,8,n),stringify:e=>Rg(e,8,"0o")},$g={identify:ia,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Hf(e,0,10,n),stringify:kt},Lg={identify:e=>ia(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Hf(e,2,16,n),stringify:e=>Rg(e,16,"0x")},XS=[Gr,Yr,ra,sa,Vf,Tg,$g,Lg,Ng,Ig,Og];function Kh(e){return typeof e=="bigint"||Number.isInteger(e)}const Di=({value:e})=>JSON.stringify(e),GS=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Di},{identify:e=>e==null,createNode:()=>new T(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Di},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Di},{identify:Kh,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Kh(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Di}],YS={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},ZS=[Gr,Yr].concat(GS,YS),Qf={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,s,i){const o=n;let l;if(typeof Buffer=="function")l=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);l=btoa(a)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=T.BLOCK_LITERAL),t!==T.QUOTE_DOUBLE){const a=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(l.length/a),h=new Array(u);for(let c=0,d=0;c<u;++c,d+=a)h[c]=l.substr(d,a);l=h.join(t===T.BLOCK_LITERAL?`
`:" ")}return ci({comment:e,type:t,value:l},r,s,i)}};function Mg(e,t){if(Xr(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!X(r)){if(Jr(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const s=r.items[0]||new Pe(new T(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}e.items[n]=X(r)?r:new Pe(r)}}else t("Expected a sequence for this tag");return e}function Bg(e,t,n){const{replacer:r}=n,s=new wn(e);s.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(i++),o));let l,a;if(Array.isArray(o))if(o.length===2)l=o[0],a=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)l=u[0],a=o[l];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else l=o;s.items.push(qf(l,a,n))}return s}const Jf={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Mg,createNode:Bg};class Nr extends wn{constructor(){super(),this.add=He.prototype.add.bind(this),this.delete=He.prototype.delete.bind(this),this.get=He.prototype.get.bind(this),this.has=He.prototype.has.bind(this),this.set=He.prototype.set.bind(this),this.tag=Nr.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(X(s)?(i=it(s.key,"",n),o=it(s.value,i,n)):i=it(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(t,n,r){const s=Bg(t,n,r),i=new this;return i.items=s.items,i}}Nr.tag="tag:yaml.org,2002:omap";const Xf={collection:"seq",identify:e=>e instanceof Map,nodeClass:Nr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Mg(e,t),r=[];for(const{key:s}of n.items)W(s)&&(r.includes(s.value)?t(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new Nr,n)},createNode:(e,t,n)=>Nr.from(e,t,n)};function jg({value:e,source:t},n){return t&&(e?Dg:Fg).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const Dg={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new T(!0),stringify:jg},Fg={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new T(!1),stringify:jg},e_={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:kt},t_={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():kt(e)}},n_={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new T(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:kt},fi=e=>typeof e=="bigint"||Number.isInteger(e);function oa(e,t,n,{intAsBigInt:r}){const s=e[0];if((s==="-"||s==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return s==="-"?BigInt(-1)*o:o}const i=parseInt(e,n);return s==="-"?-1*i:i}function Gf(e,t,n){const{value:r}=e;if(fi(r)){const s=r.toString(t);return r<0?"-"+n+s.substr(1):n+s}return kt(e)}const r_={identify:fi,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>oa(e,2,2,n),stringify:e=>Gf(e,2,"0b")},s_={identify:fi,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>oa(e,1,8,n),stringify:e=>Gf(e,8,"0")},i_={identify:fi,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>oa(e,0,10,n),stringify:kt},o_={identify:fi,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>oa(e,2,16,n),stringify:e=>Gf(e,16,"0x")};class Ir extends He{constructor(t){super(t),this.tag=Ir.tag}add(t){let n;X(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Pe(t.key,null):n=new Pe(t,null),Tn(this.items,n.key)||this.items.push(n)}get(t,n){const r=Tn(this.items,t);return!n&&X(r)?W(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Tn(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Pe(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(qf(o,null,r));return i}}Ir.tag="tag:yaml.org,2002:set";const Yf={collection:"map",identify:e=>e instanceof Set,nodeClass:Ir,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Ir.from(e,t,n),resolve(e,t){if(Jr(e)){if(e.hasAllNullValues(!0))return Object.assign(new Ir,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Zf(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,s=o=>t?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,l)=>o*s(60)+s(l),s(0));return n==="-"?s(-1)*i:i}function Ug(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return kt(e);let r="";t<0&&(r="-",t*=n(-1));const s=n(60),i=[t%s];return t<60?i.unshift(0):(t=(t-i[0])/s,i.unshift(t%s),t>=60&&(t=(t-i[0])/s,i.unshift(t))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const zg={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Zf(e,n),stringify:Ug},Kg={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Zf(e,!1),stringify:Ug},la={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(la.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,l]=t.map(Number),a=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,s,i||0,o||0,l||0,a);const h=t[8];if(h&&h!=="Z"){let c=Zf(h,!1);Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Wh=[Gr,Yr,ra,sa,Dg,Fg,r_,s_,i_,o_,e_,t_,n_,Qf,Wt,Xf,Jf,Yf,zg,Kg,la],qh=new Map([["core",XS],["failsafe",[Gr,Yr,ra]],["json",ZS],["yaml11",Wh],["yaml-1.1",Wh]]),Vh={binary:Qf,bool:Vf,float:Og,floatExp:Ig,floatNaN:Ng,floatTime:Kg,int:$g,intHex:Lg,intOct:Tg,intTime:zg,map:Gr,merge:Wt,null:sa,omap:Xf,pairs:Jf,seq:Yr,set:Yf,timestamp:la},l_={"tag:yaml.org,2002:binary":Qf,"tag:yaml.org,2002:merge":Wt,"tag:yaml.org,2002:omap":Xf,"tag:yaml.org,2002:pairs":Jf,"tag:yaml.org,2002:set":Yf,"tag:yaml.org,2002:timestamp":la};function Xa(e,t,n){const r=qh.get(t);if(r&&!e)return n&&!r.includes(Wt)?r.concat(Wt):r.slice();let s=r;if(!s)if(Array.isArray(e))s=[];else{const i=Array.from(qh.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${i} or define customTags array`)}if(Array.isArray(e))for(const i of e)s=s.concat(i);else typeof e=="function"&&(s=e(s.slice()));return n&&(s=s.concat(Wt)),s.reduce((i,o)=>{const l=typeof o=="string"?Vh[o]:o;if(!l){const a=JSON.stringify(o),u=Object.keys(Vh).map(h=>JSON.stringify(h)).join(", ");throw new Error(`Unknown custom tag ${a}; use one of ${u}`)}return i.includes(l)||i.push(l),i},[])}const a_=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class aa{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:l}){this.compat=Array.isArray(t)?Xa(t,"compat"):t?Xa(null,t):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?l_:{},this.tags=Xa(n,this.name,r),this.toStringOptions=l??null,Object.defineProperty(this,pn,{value:Gr}),Object.defineProperty(this,Lt,{value:ra}),Object.defineProperty(this,Qr,{value:Yr}),this.sortMapEntries=typeof o=="function"?o:o===!0?a_:null}clone(){const t=Object.create(aa.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function u_(e,t){var a;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const u=e.directives.toString(e);u?(n.push(u),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const s=bg(e,t),{commentString:i}=s.options;if(e.commentBefore){n.length!==1&&n.unshift("");const u=i(e.commentBefore);n.unshift(zt(u,""))}let o=!1,l=null;if(e.contents){if(ne(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const c=i(e.contents.commentBefore);n.push(zt(c,""))}s.forceBlockIndent=!!e.comment,l=e.contents.comment}const u=l?void 0:()=>o=!0;let h=zr(e.contents,s,()=>l=null,u);l&&(h+=Rn(h,"",i(l))),(h[0]==="|"||h[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${h}`:n.push(h)}else n.push(zr(e.contents,s));if((a=e.directives)!=null&&a.docEnd)if(e.comment){const u=i(e.comment);u.includes(`
`)?(n.push("..."),n.push(zt(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=e.comment;u&&o&&(u=u.replace(/^\n+/,"")),u&&((!o||l)&&n[n.length-1]!==""&&n.push(""),n.push(zt(i(u),"")))}return n.join(`
`)+`
`}class Zr{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,at,{value:gc});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Oe({version:o}),this.setSchema(o,r),this.contents=t===void 0?null:this.createNode(t,s,r)}clone(){const t=Object.create(Zr.prototype,{[at]:{value:gc}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=ne(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Gn(this.contents)&&this.contents.add(t)}addIn(t,n){Gn(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=vg(this);t.anchor=!n||r.has(n)?Sg(n||"a",r):n}return new Zl(t.anchor)}createNode(t,n,r){let s;if(typeof n=="function")t=n.call({"":t},"",t),s=n;else if(Array.isArray(n)){const w=f=>typeof f=="number"||f instanceof String||f instanceof Number,m=n.filter(w).map(String);m.length>0&&(n=n.concat(m)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:l,keepUndefined:a,onTagObj:u,tag:h}=r??{},{onAnchor:c,setAnchors:d,sourceObjects:p}=BS(this,o||"a"),v={aliasDuplicateObjects:i??!0,keepUndefined:a??!1,onAnchor:c,onTagObj:u,replacer:s,schema:this.schema,sourceObjects:p},y=ei(t,h,v);return l&&ee(y)&&(y.flow=!0),d(),y}createPair(t,n,r={}){const s=this.createNode(t,null,r),i=this.createNode(n,null,r);return new Pe(s,i)}delete(t){return Gn(this.contents)?this.contents.delete(t):!1}deleteIn(t){return ys(t)?this.contents==null?!1:(this.contents=null,!0):Gn(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return ee(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return ys(t)?!n&&W(this.contents)?this.contents.value:this.contents:ee(this.contents)?this.contents.getIn(t,n):void 0}has(t){return ee(this.contents)?this.contents.has(t):!1}hasIn(t){return ys(t)?this.contents!==void 0:ee(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=Yo(this.schema,[t],n):Gn(this.contents)&&this.contents.set(t,n)}setIn(t,n){ys(t)?this.contents=n:this.contents==null?this.contents=Yo(this.schema,Array.from(t),n):Gn(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Oe({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Oe({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new aa(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const l={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=it(this.contents,n??"",l);if(typeof i=="function")for(const{count:u,res:h}of l.anchors.values())i(h,u);return typeof o=="function"?wr(o,{"":a},"",a):a}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return u_(this,t)}}function Gn(e){if(ee(e))return!0;throw new Error("Expected a YAML collection as document contents")}class ed extends Error{constructor(t,n,r,s){super(),this.name=t,this.code=r,this.message=s,this.pos=n}}class $n extends ed{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class Wg extends ed{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const el=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(l=>t.linePos(l));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const l=Math.min(i-39,o.length-79);o=""+o.substring(l),i-=l-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,i))){let l=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);l.length>80&&(l=l.substring(0,79)+`
`),o=l+o}if(/[^ ]/.test(o)){let l=1;const a=n.linePos[1];a&&a.line===r&&a.col>s&&(l=Math.max(1,Math.min(a.col-s,80-i)));const u=" ".repeat(i)+"^".repeat(l);n.message+=`:

${o}
${u}
`}};function Kr(e,{flow:t,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:l}){let a=!1,u=l,h=l,c="",d="",p=!1,v=!1,y=null,w=null,m=null,f=null,g=null,S=null,E=null;for(const k of e)switch(v&&(k.type!=="space"&&k.type!=="newline"&&k.type!=="comma"&&i(k.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),v=!1),y&&(u&&k.type!=="comment"&&k.type!=="newline"&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),k.type){case"space":!t&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&k.source.includes("	")&&(y=k),h=!0;break;case"comment":{h||i(k,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const I=k.source.substring(1)||" ";c?c+=d+I:c=I,d="",u=!1;break}case"newline":u?c?c+=k.source:a=!0:d+=k.source,u=!0,p=!0,(w||m)&&(f=k),h=!0;break;case"anchor":w&&i(k,"MULTIPLE_ANCHORS","A node can have at most one anchor"),k.source.endsWith(":")&&i(k.offset+k.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=k,E===null&&(E=k.offset),u=!1,h=!1,v=!0;break;case"tag":{m&&i(k,"MULTIPLE_TAGS","A node can have at most one tag"),m=k,E===null&&(E=k.offset),u=!1,h=!1,v=!0;break}case n:(w||m)&&i(k,"BAD_PROP_ORDER",`Anchors and tags must be after the ${k.source} indicator`),S&&i(k,"UNEXPECTED_TOKEN",`Unexpected ${k.source} in ${t??"collection"}`),S=k,u=n==="seq-item-ind"||n==="explicit-key-ind",h=!1;break;case"comma":if(t){g&&i(k,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),g=k,u=!1,h=!1;break}default:i(k,"UNEXPECTED_TOKEN",`Unexpected ${k.type} token`),u=!1,h=!1}const _=e[e.length-1],b=_?_.offset+_.source.length:s;return v&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(u&&y.indent<=o||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:g,found:S,spaceBefore:a,comment:c,hasNewline:p,anchor:w,tag:m,newlineAfterProp:f,end:b,start:E??b}}function ti(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(ti(t.key)||ti(t.value))return!0}return!1;default:return!0}}function _c(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&ti(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function qg(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||W(i)&&W(o)&&i.value===o.value;return t.some(i=>s(i.key,n))}const Hh="All mapping items must start at the same column";function c_({composeNode:e,composeEmptyNode:t},n,r,s,i){var h;const o=(i==null?void 0:i.nodeClass)??He,l=new o(n.schema);n.atRoot&&(n.atRoot=!1);let a=r.offset,u=null;for(const c of r.items){const{start:d,key:p,sep:v,value:y}=c,w=Kr(d,{indicator:"explicit-key-ind",next:p??(v==null?void 0:v[0]),offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0}),m=!w.found;if(m){if(p&&(p.type==="block-seq"?s(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==r.indent&&s(a,"BAD_INDENT",Hh)),!w.anchor&&!w.tag&&!v){u=w.end,w.comment&&(l.comment?l.comment+=`
`+w.comment:l.comment=w.comment);continue}(w.newlineAfterProp||ti(p))&&s(p??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((h=w.found)==null?void 0:h.indent)!==r.indent&&s(a,"BAD_INDENT",Hh);n.atKey=!0;const f=w.end,g=p?e(n,p,w,s):t(n,f,d,null,w,s);n.schema.compat&&_c(r.indent,p,s),n.atKey=!1,qg(n,l.items,g)&&s(f,"DUPLICATE_KEY","Map keys must be unique");const S=Kr(v??[],{indicator:"map-value-ind",next:y,offset:g.range[2],onError:s,parentIndent:r.indent,startOnNewline:!p||p.type==="block-scalar"});if(a=S.end,S.found){m&&((y==null?void 0:y.type)==="block-map"&&!S.hasNewline&&s(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&w.start<S.found.offset-1024&&s(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const E=y?e(n,y,S,s):t(n,a,v,null,S,s);n.schema.compat&&_c(r.indent,y,s),a=E.range[2];const _=new Pe(g,E);n.options.keepSourceTokens&&(_.srcToken=c),l.items.push(_)}else{m&&s(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),S.comment&&(g.comment?g.comment+=`
`+S.comment:g.comment=S.comment);const E=new Pe(g);n.options.keepSourceTokens&&(E.srcToken=c),l.items.push(E)}}return u&&u<a&&s(u,"IMPOSSIBLE","Map comment with trailing content"),l.range=[r.offset,a,u??a],l}function f_({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=(i==null?void 0:i.nodeClass)??wn,l=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let a=r.offset,u=null;for(const{start:h,value:c}of r.items){const d=Kr(h,{indicator:"seq-item-ind",next:c,offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||c)c&&c.type==="block-seq"?s(d.end,"BAD_INDENT","All sequence items must start at the same column"):s(a,"MISSING_CHAR","Sequence item without - indicator");else{u=d.end,d.comment&&(l.comment=d.comment);continue}const p=c?e(n,c,d,s):t(n,d.end,h,null,d,s);n.schema.compat&&_c(r.indent,c,s),a=p.range[2],l.items.push(p)}return l.range=[r.offset,a,u??a],l}function di(e,t,n,r){let s="";if(e){let i=!1,o="";for(const l of e){const{source:a,type:u}=l;switch(u){case"space":i=!0;break;case"comment":{n&&!i&&r(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const h=a.substring(1)||" ";s?s+=o+h:s=h,o="";break}case"newline":s&&(o+=a),i=!0;break;default:r(l,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=a.length}}return{comment:s,offset:t}}const Ga="Block collections are not allowed within flow collections",Ya=e=>e&&(e.type==="block-map"||e.type==="block-seq");function d_({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=r.start.source==="{",l=o?"flow map":"flow sequence",a=(i==null?void 0:i.nodeClass)??(o?He:wn),u=new a(n.schema);u.flow=!0;const h=n.atRoot;h&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=r.offset+r.start.source.length;for(let w=0;w<r.items.length;++w){const m=r.items[w],{start:f,key:g,sep:S,value:E}=m,_=Kr(f,{flow:l,indicator:"explicit-key-ind",next:g??(S==null?void 0:S[0]),offset:c,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!_.found){if(!_.anchor&&!_.tag&&!S&&!E){w===0&&_.comma?s(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`):w<r.items.length-1&&s(_.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${l}`),_.comment&&(u.comment?u.comment+=`
`+_.comment:u.comment=_.comment),c=_.end;continue}!o&&n.options.strict&&ti(g)&&s(g,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(w===0)_.comma&&s(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`);else if(_.comma||s(_.start,"MISSING_CHAR",`Missing , between ${l} items`),_.comment){let b="";e:for(const k of f)switch(k.type){case"comma":case"space":break;case"comment":b=k.source.substring(1);break e;default:break e}if(b){let k=u.items[u.items.length-1];X(k)&&(k=k.value??k.key),k.comment?k.comment+=`
`+b:k.comment=b,_.comment=_.comment.substring(b.length+1)}}if(!o&&!S&&!_.found){const b=E?e(n,E,_,s):t(n,_.end,S,null,_,s);u.items.push(b),c=b.range[2],Ya(E)&&s(b.range,"BLOCK_IN_FLOW",Ga)}else{n.atKey=!0;const b=_.end,k=g?e(n,g,_,s):t(n,b,f,null,_,s);Ya(g)&&s(k.range,"BLOCK_IN_FLOW",Ga),n.atKey=!1;const I=Kr(S??[],{flow:l,indicator:"map-value-ind",next:E,offset:k.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(I.found){if(!o&&!_.found&&n.options.strict){if(S)for(const F of S){if(F===I.found)break;if(F.type==="newline"){s(F,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}_.start<I.found.offset-1024&&s(I.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else E&&("source"in E&&E.source&&E.source[0]===":"?s(E,"MISSING_CHAR",`Missing space after : in ${l}`):s(I.start,"MISSING_CHAR",`Missing , or : between ${l} items`));const x=E?e(n,E,I,s):I.found?t(n,I.end,S,null,I,s):null;x?Ya(E)&&s(x.range,"BLOCK_IN_FLOW",Ga):I.comment&&(k.comment?k.comment+=`
`+I.comment:k.comment=I.comment);const R=new Pe(k,x);if(n.options.keepSourceTokens&&(R.srcToken=m),o){const F=u;qg(n,F.items,k)&&s(b,"DUPLICATE_KEY","Map keys must be unique"),F.items.push(R)}else{const F=new He(n.schema);F.flow=!0,F.items.push(R);const et=(x??k).range;F.range=[k.range[0],et[1],et[2]],u.items.push(F)}c=x?x.range[2]:I.end}}const d=o?"}":"]",[p,...v]=r.end;let y=c;if(p&&p.source===d)y=p.offset+p.source.length;else{const w=l[0].toUpperCase()+l.substring(1),m=h?`${w} must end with a ${d}`:`${w} in block collection must be sufficiently indented and end with a ${d}`;s(c,h?"MISSING_CHAR":"BAD_INDENT",m),p&&p.source.length!==1&&v.unshift(p)}if(v.length>0){const w=di(v,y,n.options.strict,s);w.comment&&(u.comment?u.comment+=`
`+w.comment:u.comment=w.comment),u.range=[r.offset,y,w.offset]}else u.range=[r.offset,y,y];return u}function Za(e,t,n,r,s,i){const o=n.type==="block-map"?c_(e,t,n,r,i):n.type==="block-seq"?f_(e,t,n,r,i):d_(e,t,n,r,i),l=o.constructor;return s==="!"||s===l.tagName?(o.tag=l.tagName,o):(s&&(o.tag=s),o)}function h_(e,t,n,r,s){var d;const i=r.tag,o=i?t.directives.tagName(i.source,p=>s(i,"TAG_RESOLVE_FAILED",p)):null;if(n.type==="block-seq"){const{anchor:p,newlineAfterProp:v}=r,y=p&&i?p.offset>i.offset?p:i:p??i;y&&(!v||v.offset<y.offset)&&s(y,"MISSING_CHAR","Missing newline after block sequence props")}const l=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===He.tagName&&l==="map"||o===wn.tagName&&l==="seq")return Za(e,t,n,s,o);let a=t.schema.tags.find(p=>p.tag===o&&p.collection===l);if(!a){const p=t.schema.knownTags[o];if(p&&p.collection===l)t.schema.tags.push(Object.assign({},p,{default:!1})),a=p;else return p!=null&&p.collection?s(i,"BAD_COLLECTION_TYPE",`${p.tag} used for ${l} collection, but expects ${p.collection}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Za(e,t,n,s,o)}const u=Za(e,t,n,s,o,a),h=((d=a.resolve)==null?void 0:d.call(a,u,p=>s(i,"TAG_RESOLVE_FAILED",p),t.options))??u,c=ne(h)?h:new T(h);return c.range=u.range,c.tag=o,a!=null&&a.format&&(c.format=a.format),c}function Vg(e,t,n){const r=t.offset,s=p_(t,e.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?T.BLOCK_FOLDED:T.BLOCK_LITERAL,o=t.source?m_(t.source):[];let l=o.length;for(let y=o.length-1;y>=0;--y){const w=o[y][1];if(w===""||w==="\r")l=y;else break}if(l===0){const y=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let w=r+s.length;return t.source&&(w+=t.source.length),{value:y,type:i,comment:s.comment,range:[r,w,w]}}let a=t.indent+s.indent,u=t.offset+s.length,h=0;for(let y=0;y<l;++y){const[w,m]=o[y];if(m===""||m==="\r")s.indent===0&&w.length>a&&(a=w.length);else{w.length<a&&n(u+w.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(a=w.length),h=y,a===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=w.length+m.length+1}for(let y=o.length-1;y>=l;--y)o[y][0].length>a&&(l=y+1);let c="",d="",p=!1;for(let y=0;y<h;++y)c+=o[y][0].slice(a)+`
`;for(let y=h;y<l;++y){let[w,m]=o[y];u+=w.length+m.length+1;const f=m[m.length-1]==="\r";if(f&&(m=m.slice(0,-1)),m&&w.length<a){const S=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(u-m.length-(f?2:1),"BAD_INDENT",S),w=""}i===T.BLOCK_LITERAL?(c+=d+w.slice(a)+m,d=`
`):w.length>a||m[0]==="	"?(d===" "?d=`
`:!p&&d===`
`&&(d=`

`),c+=d+w.slice(a)+m,d=`
`,p=!0):m===""?d===`
`?c+=`
`:d=`
`:(c+=d+m,d=" ",p=!1)}switch(s.chomp){case"-":break;case"+":for(let y=l;y<o.length;++y)c+=`
`+o[y][0].slice(a);c[c.length-1]!==`
`&&(c+=`
`);break;default:c+=`
`}const v=r+s.length+t.source.length;return{value:c,type:i,comment:s.comment,range:[r,v,v]}}function p_({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=t[0],i=s[0];let o=0,l="",a=-1;for(let d=1;d<s.length;++d){const p=s[d];if(!l&&(p==="-"||p==="+"))l=p;else{const v=Number(p);!o&&v?o=v:a===-1&&(a=e+d)}}a!==-1&&r(a,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let u=!1,h="",c=s.length;for(let d=1;d<t.length;++d){const p=t[d];switch(p.type){case"space":u=!0;case"newline":c+=p.source.length;break;case"comment":n&&!u&&r(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),c+=p.source.length,h=p.source.substring(1);break;case"error":r(p,"UNEXPECTED_TOKEN",p.message),c+=p.source.length;break;default:{const v=`Unexpected token in block scalar header: ${p.type}`;r(p,"UNEXPECTED_TOKEN",v);const y=p.source;y&&typeof y=="string"&&(c+=y.length)}}}return{mode:i,indent:o,chomp:l,comment:h,length:c}}function m_(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),i=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)i.push([t[o],t[o+1]]);return i}function Hg(e,t,n){const{offset:r,type:s,source:i,end:o}=e;let l,a;const u=(d,p,v)=>n(r+d,p,v);switch(s){case"scalar":l=T.PLAIN,a=y_(i,u);break;case"single-quoted-scalar":l=T.QUOTE_SINGLE,a=g_(i,u);break;case"double-quoted-scalar":l=T.QUOTE_DOUBLE,a=w_(i,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const h=r+i.length,c=di(o,h,t,n);return{value:a,type:l,comment:c.comment,range:[r,h,c.offset]}}function y_(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Qg(e)}function g_(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Qg(e.slice(1,-1)).replace(/''/g,"'")}function Qg(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let s=r[1],i=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const l=/[ \t]*(.*)/sy;return l.lastIndex=o,r=l.exec(e),s+i+((r==null?void 0:r[1])??"")}function w_(e,t){let n="";for(let r=1;r<e.length-1;++r){const s=e[r];if(!(s==="\r"&&e[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=v_(e,r);n+=i,r=o}else if(s==="\\"){let i=e[++r];const o=S_[i];if(o)n+=o;else if(i===`
`)for(i=e[r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="\r"&&e[r+1]===`
`)for(i=e[++r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="x"||i==="u"||i==="U"){const l={x:2,u:4,U:8}[i];n+=__(e,r+1,l,t),r+=l}else{const l=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),n+=l}}else if(s===" "||s==="	"){const i=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>i?e.slice(i,r+1):s)}else n+=s}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function v_(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const S_={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function __(e,t,n,r){const s=e.substr(t,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const l=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),l}return String.fromCodePoint(o)}function Jg(e,t,n,r){const{value:s,type:i,comment:o,range:l}=t.type==="block-scalar"?Vg(e,t,r):Hg(t,e.options.strict,r),a=n?e.directives.tagName(n.source,c=>r(n,"TAG_RESOLVE_FAILED",c)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[Lt]:a?u=E_(e.schema,s,a,n,r):t.type==="scalar"?u=k_(e,s,t,r):u=e.schema[Lt];let h;try{const c=u.resolve(s,d=>r(n??t,"TAG_RESOLVE_FAILED",d),e.options);h=W(c)?c:new T(c)}catch(c){const d=c instanceof Error?c.message:String(c);r(n??t,"TAG_RESOLVE_FAILED",d),h=new T(s)}return h.range=l,h.source=s,i&&(h.type=i),a&&(h.tag=a),u.format&&(h.format=u.format),o&&(h.comment=o),h}function E_(e,t,n,r,s){var l;if(n==="!")return e[Lt];const i=[];for(const a of e.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if((l=a.test)!=null&&l.test(t))return a;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[Lt])}function k_({atKey:e,directives:t,schema:n},r,s,i){const o=n.tags.find(l=>{var a;return(l.default===!0||e&&l.default==="key")&&((a=l.test)==null?void 0:a.test(r))})||n[Lt];if(n.compat){const l=n.compat.find(a=>{var u;return a.default&&((u=a.test)==null?void 0:u.test(r))})??n[Lt];if(o.tag!==l.tag){const a=t.tagString(o.tag),u=t.tagString(l.tag),h=`Value may be parsed as either ${a} or ${u}`;i(s,"TAG_RESOLVE_FAILED",h,!0)}}return o}function b_(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let s=t[r];switch(s.type){case"space":case"comment":case"newline":e-=s.source.length;continue}for(s=t[++r];(s==null?void 0:s.type)==="space";)e+=s.source.length,s=t[++r];break}}return e}const C_={composeNode:Xg,composeEmptyNode:td};function Xg(e,t,n,r){const s=e.atKey,{spaceBefore:i,comment:o,anchor:l,tag:a}=n;let u,h=!0;switch(t.type){case"alias":u=A_(e,t,r),(l||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=Jg(e,t,a,r),l&&(u.anchor=l.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=h_(C_,e,t,n,r),l&&(u.anchor=l.source.substring(1));break;default:{const c=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",c),u=td(e,t.offset,void 0,null,n,r),h=!1}}return l&&u.anchor===""&&r(l,"BAD_ALIAS","Anchor cannot be an empty string"),s&&e.options.stringKeys&&(!W(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(a??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(u.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?u.comment=o:u.commentBefore=o),e.options.keepSourceTokens&&h&&(u.srcToken=t),u}function td(e,t,n,r,{spaceBefore:s,comment:i,anchor:o,tag:l,end:a},u){const h={type:"scalar",offset:b_(t,n,r),indent:-1,source:""},c=Jg(e,h,l,u);return o&&(c.anchor=o.source.substring(1),c.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(c.spaceBefore=!0),i&&(c.comment=i,c.range[2]=a),c}function A_({options:e},{offset:t,source:n,end:r},s){const i=new Zl(n.substring(1));i.source===""&&s(t,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,l=di(r,o,e.strict,s);return i.range=[t,o,l.offset],l.comment&&(i.comment=l.comment),i}function x_(e,t,{offset:n,start:r,value:s,end:i},o){const l=Object.assign({_directives:t},e),a=new Zr(void 0,l),u={atKey:!1,atRoot:!0,directives:a.directives,options:a.options,schema:a.schema},h=Kr(r,{indicator:"doc-start",next:s??(i==null?void 0:i[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});h.found&&(a.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!h.hasNewline&&o(h.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),a.contents=s?Xg(u,s,h,o):td(u,h.end,r,null,h,o);const c=a.contents.range[2],d=di(i,c,!1,o);return d.comment&&(a.comment=d.comment),a.range=[n,c,d.offset],a}function as(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function Qh(e){var s;let t="",n=!1,r=!1;for(let i=0;i<e.length;++i){const o=e[i];switch(o[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((s=e[i+1])==null?void 0:s[0])!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class nd{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=as(n);i?this.warnings.push(new Wg(o,r,s)):this.errors.push(new $n(o,r,s))},this.directives=new Oe({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:s}=Qh(this.prelude);if(r){const i=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(s||t.directives.docStart||!i)t.commentBefore=r;else if(ee(i)&&!i.flow&&i.items.length>0){let o=i.items[0];X(o)&&(o=o.key);const l=o.commentBefore;o.commentBefore=l?`${r}
${l}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Qh(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const s of t)yield*this.next(s);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,s)=>{const i=as(t);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=x_(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new $n(as(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new $n(as(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=di(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new $n(as(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),s=new Zr(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}function P_(e,t=!0,n){if(e){const r=(s,i,o)=>{const l=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(n)n(l,i,o);else throw new $n([l,l+1],i,o)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Hg(e,t,r);case"block-scalar":return Vg({options:{strict:t}},e,r)}}return null}function N_(e,t){const{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:i=-1,type:o="PLAIN"}=t,l=ci({type:o,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),a=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(l[0]){case"|":case">":{const u=l.indexOf(`
`),h=l.substring(0,u),c=l.substring(u+1)+`
`,d=[{type:"block-scalar-header",offset:i,indent:r,source:h}];return Gg(d,a)||d.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:i,indent:r,props:d,source:c}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:l,end:a};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:l,end:a};default:return{type:"scalar",offset:i,indent:r,source:l,end:a}}}function I_(e,t,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:i=!1,type:o}=n,l="indent"in e?e.indent:null;if(r&&typeof l=="number"&&(l+=2),!o)switch(e.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const u=e.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const a=ci({type:o,value:t},{implicitKey:s||l===null,indent:l!==null&&l>0?" ".repeat(l):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(a[0]){case"|":case">":O_(e,a);break;case'"':eu(e,a,"double-quoted-scalar");break;case"'":eu(e,a,"single-quoted-scalar");break;default:eu(e,a,"scalar")}}function O_(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),s=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const i=e.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=r,e.source=s}else{const{offset:i}=e,o="indent"in e?e.indent:-1,l=[{type:"block-scalar-header",offset:i,indent:o,source:r}];Gg(l,"end"in e?e.end:void 0)||l.push({type:"newline",offset:-1,indent:o,source:`
`});for(const a of Object.keys(e))a!=="type"&&a!=="offset"&&delete e[a];Object.assign(e,{type:"block-scalar",indent:o,props:l,source:s})}}function Gg(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function eu(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let s=t.length;e.props[0].type==="block-scalar-header"&&(s-=e.props[0].source.length);for(const i of r)i.offset+=s;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const s={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[s]});break}default:{const r="indent"in e?e.indent:-1,s="end"in e&&Array.isArray(e.end)?e.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(e))i!=="type"&&i!=="offset"&&delete e[i];Object.assign(e,{type:n,indent:r,source:t,end:s})}}}const R_=e=>"type"in e?tl(e):ao(e);function tl(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=tl(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=ao(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=ao(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=ao(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function ao({start:e,key:t,sep:n,value:r}){let s="";for(const i of e)s+=i.source;if(t&&(s+=tl(t)),n)for(const i of n)s+=i.source;return r&&(s+=tl(r)),s}const Ec=Symbol("break visit"),T_=Symbol("skip children"),Yg=Symbol("remove item");function Wn(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Zg(Object.freeze([]),e,t)}Wn.BREAK=Ec;Wn.SKIP=T_;Wn.REMOVE=Yg;Wn.itemAtPath=(e,t)=>{let n=e;for(const[r,s]of t){const i=n==null?void 0:n[r];if(i&&"items"in i)n=i.items[s];else return}return n};Wn.parentCollection=(e,t)=>{const n=Wn.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],s=n==null?void 0:n[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function Zg(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const s of["key","value"]){const i=t[s];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const l=Zg(Object.freeze(e.concat([[s,o]])),i.items[o],n);if(typeof l=="number")o=l-1;else{if(l===Ec)return Ec;l===Yg&&(i.items.splice(o,1),o-=1)}}typeof r=="function"&&s==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const ua="\uFEFF",ca="",fa="",ni="",$_=e=>!!e&&"items"in e,L_=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function M_(e){switch(e){case ua:return"<BOM>";case ca:return"<DOC>";case fa:return"<FLOW_END>";case ni:return"<SCALAR>";default:return JSON.stringify(e)}}function e0(e){switch(e){case ua:return"byte-order-mark";case ca:return"doc-mode";case fa:return"flow-error-end";case ni:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const B_=Object.freeze(Object.defineProperty({__proto__:null,BOM:ua,DOCUMENT:ca,FLOW_END:fa,SCALAR:ni,createScalarToken:N_,isCollection:$_,isScalar:L_,prettyToken:M_,resolveAsScalar:P_,setScalarValue:I_,stringify:R_,tokenType:e0,visit:Wn},Symbol.toStringTag,{value:"Module"}));function ct(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Jh=new Set("0123456789ABCDEFabcdef"),j_=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Fi=new Set(",[]{}"),D_=new Set(` ,[]{}
\r	`),tu=e=>!e||D_.has(e);class t0{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const s=this.buffer[r+t+1];if(s===`
`||!s&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&ct(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===ua&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const i=t[r-1];if(i===" "||i==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const i=t[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield ca,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&ct(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ct(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&ct(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(tu),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&ct(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield fa,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(tu),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||ct(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ct(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let s=t+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];t=s-1}else if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const l=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>l)t=i;else break}while(!0);return yield ni,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(ct(i)||t&&Fi.has(i))break;n=r}else if(ct(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||t&&Fi.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&Fi.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield ni,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(tu))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(ct(n)||t&&Fi.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!ct(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(j_.has(n))n=this.buffer[++t];else if(n==="%"&&Jh.has(this.buffer[t+1])&&Jh.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class n0{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<t?n=i+1:r=i}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const s=this.lineStarts[n-1];return{line:n,col:t-s+1}}}}function xn(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Xh(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function r0(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ui(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Yn(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function Gh(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!xn(t.start,"explicit-key-ind")&&!xn(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,r0(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class rd{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new t0,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=e0(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Gh(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&Xh(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{Xh(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Ui(this.peek(2)),r=Yn(n);let s;t.end?(s=t.end,s.push(this.sourceToken),delete t.end):s=[this.sourceToken];const i={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const s=!this.onKeyLine&&this.indent===t.indent,i=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(i&&n.sep&&!n.value){const l=[];for(let a=0;a<n.sep.length;++a){const u=n.sep[a];switch(u.type){case"newline":l.push(a);break;case"space":break;case"comment":u.indent>t.indent&&(l.length=0);break;default:l.length=0}}l.length>=2&&(o=n.sep.splice(l[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(xn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(r0(n.key)&&!xn(n.sep,"newline")){const l=Yn(n.start),a=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:a,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(xn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const l=Yn(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):xn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const l=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:l,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(l):(Object.assign(n,{key:l,sep:[]}),this.onKeyLine=!0);return}default:{const l=this.startBlockValue(t);if(l){s&&l.type!=="block-seq"&&t.items.push({start:o}),this.stack.push(l);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||xn(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const s=this.startBlockValue(t);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=Ui(r),i=Yn(s);Gh(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const l={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:i,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=l}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Ui(t),r=Yn(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Ui(t),r=Yn(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function s0(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new n0||null,prettyErrors:t}}function F_(e,t={}){const{lineCounter:n,prettyErrors:r}=s0(t),s=new rd(n==null?void 0:n.addNewLine),i=new nd(t),o=Array.from(i.compose(s.parse(e)));if(r&&n)for(const l of o)l.errors.forEach(el(e,n)),l.warnings.forEach(el(e,n));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function i0(e,t={}){const{lineCounter:n,prettyErrors:r}=s0(t),s=new rd(n==null?void 0:n.addNewLine),i=new nd(t);let o=null;for(const l of i.compose(s.parse(e),!0,e.length))if(!o)o=l;else if(o.options.logLevel!=="silent"){o.errors.push(new $n(l.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(el(e,n)),o.warnings.forEach(el(e,n))),o}function U_(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const s=i0(e,n);if(!s)return null;if(s.warnings.forEach(i=>Cg(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function z_(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(e===void 0){const{keepUndefined:s}=n??t??{};if(!s)return}return Jn(e)&&!r?e.toString(n):new Zr(e,r,n).toString(n)}const nl=Object.freeze(Object.defineProperty({__proto__:null,Alias:Zl,CST:B_,Composer:nd,Document:Zr,Lexer:t0,LineCounter:n0,Pair:Pe,Parser:rd,Scalar:T,Schema:aa,YAMLError:ed,YAMLMap:He,YAMLParseError:$n,YAMLSeq:wn,YAMLWarning:Wg,isAlias:Qn,isCollection:ee,isDocument:Jn,isMap:Jr,isNode:ne,isPair:X,isScalar:W,isSeq:Xr,parse:U_,parseAllDocuments:F_,parseDocument:i0,stringify:z_,visit:gn,visitAsync:Yl},Symbol.toStringTag,{value:"Module"})),nu={actionTypes:`
    { type: "addEntity", entityProps: { uuid: string, x: number, y: number, rotation: number, scale: number, behaviors: Array<{ uuid: string, type: string, name?: string }> } }
    { type: "removeEntity", entityId: string }
    { type: "updateEntity", entityId: string, updates: { x?: number, y?: number, rotation?: number, scale?: number, behaviors?: Array<{ uuid: string, type: string, name?: string }> } }
    { type: "addBehavior", entityId: string, behaviorProps: { type: string, name?: string, ... other behavior-specific properties } }
    { type: "removeBehavior", entityId: string, behaviorType: string }
    { type: "updateBehavior", entityId: string, behaviorType: string, updates: { name?: string, ... other behavior-specific properties } }
    { type: "clearWorld" }
    { type: "selectEntities", entityIds: string[] }
    { type: "deselectEntities", entityIds: string[] }
  `,builtInBehaviors:`
    /**
     * Renders a circular shape for the entity.
     * @property {string} type - Always "RenderCircle"
     * @property {number} radius - The radius of the circle
     */
    RenderCircle: { type: "RenderCircle", radius: number }

    /**
     * Changes the color of the entity.
     * @property {string} type - Always "ChangeColor"
     * @property {string} color - The new color to apply (e.g., "red", "#FF0000")
     */
    ChangeColor: { type: "ChangeColor", color: string }

    /**
     * Simplifies the mesh of the entity to a polygon with specified number of sides.
     * @property {string} type - Always "SimplifyMesh"
     * @property {number} sides - The number of sides for the simplified polygon
     */
    SimplifyMesh: { type: "SimplifyMesh", sides: number }

    /**
     * Allows for custom behavior implementation.
     * @property {string} type - Always "CustomBehavior"
     * @property {string} name - A unique name for this custom behavior
     * @property {string} [update] - Optional. A stringified function to be executed each frame
     * Type: \`(entity, deltaTime, totalTime) => void\`, where time is in seconds.
     * @property {any} [extrakeys] - Any additional properties specific to this custom behavior
     */
    CustomBehavior: { 
      type: "CustomBehavior", 
      name: string, 
      update?: string,
      [extrakeys: string]: any
    }

    /**
     * Renders an emoji as the visual representation of the entity.
     * @property {string} type - Always "RenderEmoji"
     * @property {string} emoji - The emoji character to render
     * @property {number} [fontSize] - Optional. The font size of the emoji
     */
    RenderEmoji: { type: "RenderEmoji", emoji: string, fontSize?: number }
  `,examples:`
    Example 1:
    User: "Add a red circle to the world."
    Assistant: 
    { 
      "actions": [
        { 
          "type": "addEntity", 
          "entityProps": { 
            "x": 0, "y": 0, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderCircle", "radius": 10, "color": "red" }] 
          }
        }
      ] 
    }

    Example 2:
    User: "Select the blue circle and make it bigger and darker."
    Assistant:
    { 
      "actions": [
        { "type": "selectEntities", "entityIds": ["<uuid of blue circle>"] },
        { "type": "updateEntity", "entityId": "blue-circle", "updates": { "scale": <entity's current scale x 2> } },
        { "type": "updateBehavior", "entityId": "blue-circle", "behaviorType": "RenderCircle", "updates": { "color": "<a darker shade of blue>" } }
      ] 
    }

    Example 3:
    User: "Make the heart pulse."
    Assistant:
    { 
      "actions": [
        {
          "type": "addBehavior", 
          "entityId": "<uuid of the entity with heart emoji>", 
          "behaviorProps": { 
            "type": "CustomBehavior", 
            "name": "Pulse",
            "pulseSpeed": 1.1,
            "pulseAmplitude": 0.1,
            "update": "entity.scale = <the original scale value> + Math.sin(totalTime * this.pulseSpeed) * this.pulseAmplitude;"
          } 
        }
      ] 
    }

    Example 4:
    User: "Make the star orbit around the center."
    Assistant:
    {
      "actions": [
        {
          "type": "addBehavior",
          "entityId": "<uuid of the star entity>",
          "behaviorProps": {
            "type": "CustomBehavior",
            "name": "Orbit",
            "radius": 100,
            "speed": 0.001,
            "update": "entity.x = Math.cos(totalTime * this.speed) * this.radius; entity.y = Math.sin(totalTime * this.speed) * this.radius;"
          }
        }
      ]
    }

    Example 5:
    User: "Add a colorful square that cycles through colors."
    Assistant:
    {
      "actions": [
        {
          "type": "addEntity",
          "entityProps": {
            "x": 0, "y": 0, "rotation": 0, "scale": 1,
            "behaviors": [
              { "type": "SimplifyMesh", "sides": 4 },
              {
                "type": "CustomBehavior",
                "name": "ColorCycle",
                "cycleSpeed": 0.1,
                "update": "const hue = (totalTime * this.cycleSpeed) % 360; entity.color = \`hsl(\${hue}, 100%, 50%)\`;"
              }
            ]
          }
        }
      ]
    }

    Example 6:
    User: "Create a bouncing ball."
    Assistant:
    {
      "actions": [
        {
          "type": "addEntity",
          "entityProps": {
            "x": 0, "y": 0, "rotation": 0, "scale": 1,
            "behaviors": [
              { "type": "RenderCircle", "radius": 20 },
              {
                "type": "CustomBehavior",
                "name": "Bounce",
                "bounceHeight": 100,
                "bounceSpeed": 0.005,
                "update": "entity.y = Math.abs(Math.sin(totalTime * this.bounceSpeed)) * this.bounceHeight;"
              }
            ]
          }
        }
      ]
    }

    Example 7:
    User: "Add a shaking emoji."
    Assistant:
    {
      "actions": [
        {
          "type": "addEntity",
          "entityProps": {
            "x": 0, "y": 0, "rotation": 0, "scale": 1,
            "behaviors": [
              { "type": "RenderEmoji", "emoji": "", "fontSize": 40 },
              {
                "type": "CustomBehavior",
                "name": "Shake",
                "intensity": 4,
                "update": "entity.x += (Math.random() - 0.5) * this.intensity; entity.y += (Math.random() - 0.5) * this.intensity;"
              }
            ]
          }
        }
      ]
    }

    Example 8:
    User: "Add 5 random animals."
    Assistant:
    {
      "actions": [
        { "type": "addEntity", "entityProps": { "x": -480, "y": 150, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderEmoji", "emoji": "" }] } },
        { "type": "addEntity", "entityProps": { "x": 0, "y": -280, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderEmoji", "emoji": "" }] } },
        { "type": "addEntity", "entityProps": { "x": 440, "y": 490, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderEmoji", "emoji": "" }] } },
        { "type": "addEntity", "entityProps": { "x": -200, "y": -220, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderEmoji", "emoji": "" }] } },
        { "type": "addEntity", "entityProps": { "x": 200, "y": -300, "rotation": 0, "scale": 1, "behaviors": [{ "type": "RenderEmoji", "emoji": "" }] } }
      ]
    }
  `};function o0(){const e=q.stage.width,t=q.stage.height,n=`
    - top left corner: ${-e/2}x${-t/2}.
    - bottom right corner: ${e/2}x${t/2}.
`,r=kc(JSON.parse(JSON.stringify(q.entities))),s=`
`+nl.stringify(r,{});return`
    You are an AI assistant that generates actions for a game engine.
    You can add, remove, update entities, behaviors, and select/deselect entities.
    You can also clear the world, clear the selection, and generate actions based on user's request.

    An action resolver will parse your json response and execute the actions.
    It's important to remember that you're writing json actions, not code, so imporovise where you must.

    Here are the action types you can use:
    ${nu.actionTypes}

    Here are the built-in behaviors you can use:
    ${nu.builtInBehaviors}

    Current state of the world:
    
    Stage bounds: ${n}

    Entities in the world: 
    ${s}

    Current selection (entity ids): [${ve.selectedEntityIds.join(", ")}]

    ----
    ${nu.examples}
  `}function kc(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(n=>kc(n));const t={};for(const[n,r]of Object.entries(e))typeof r=="number"?t[n]=Math.round(r):typeof r=="object"?t[n]=kc(r):t[n]=r;return t}const l0={type:"object",properties:{actions:{type:"array",items:{type:"object",properties:{type:{type:"string"},entityProps:{type:"object",properties:{x:{type:"number"},y:{type:"number"},rotation:{type:"number"},scale:{type:"number"},behaviors:{type:"array",items:{type:"object",properties:{type:{type:"string"},name:{type:"string"}},required:["type"]}}},required:["x","y","rotation","scale","behaviors"]},entityId:{type:"string"},updates:{type:"object"},behaviorProps:{type:"object"},behaviorType:{type:"string"},entityIds:{type:"array",items:{type:"string"}}},required:["type"]}}},required:["actions"]};let ru=null;const K_=()=>{if(!ru){let t=localStorage.getItem("groq_api_key");if(!t)if(t=prompt("Please enter your GROQ API key:"),t)localStorage.setItem("groq_api_key",t),console.log(" API key saved to local storage");else throw console.error(" No API key provided"),new Error("GROQ API key is required");ru=new ie({apiKey:t,dangerouslyAllowBrowser:!0}),console.log(" GROQ instance created")}return ru};async function bc(e){var l,a;const t=K_(),n=JSON.stringify(l0),r=`${o0()}

Please generate a list of actions based on the user's request. Your response should be a JSON object that strictly adheres to the following schema:

${n}

Respond only with the JSON object, without any additional text.`;console.log(" Sending request to GROQ");const i=(a=(l=(await t.chat.completions.create({model:"mixtral-8x7b-32768",messages:[{role:"system",content:r},{role:"user",content:e}],response_format:{type:"json_object"}})).choices[0])==null?void 0:l.message)==null?void 0:a.content;if(console.log(" Received response from GROQ",i),!i)throw new Error("Unexpected response format from GROQ");const o=JSON.parse(i);if(Array.isArray(o.actions))return o;if(Array.isArray(o))return{actions:o};if("type"in o)return{actions:[o]};throw console.log(" Parsed actions from GROQ:",o),new Error("Failed to parse GROQ response")}const W_={addEntity:e=>{console.log(" Adding entity:",e.entityProps.uuid),Z.addEntity(e.entityProps)},removeEntity:e=>{console.log(" Removing entity:",e.entityId),Z.removeEntity(e.entityId)},updateEntity:e=>{console.log(" Updating entity:",e.entityId);const t=Z.getEntity(e.entityId);if(!t)throw new Error("Entity not found");Object.assign(t,e.updates)},addBehavior:e=>{console.log(" Adding behavior to entity:",e.entityId),Z.addBehaviorToEntity(e.entityId,e.behaviorProps)},removeBehavior:e=>{console.log(" Removing behavior from entity:",e.entityId),Z.removeBehaviorFromEntity(e.entityId,e.behaviorType)},updateBehavior:e=>{console.log(" Updating behavior for entity:",e.entityId);const t=Z.getEntity(e.entityId);if(!t)throw new Error("Entity not found");const n=t.behaviors.findIndex(s=>s.type===e.behaviorType),r=t.behaviors[n];if(r)for(const s in e.updates){const i=s;r[i]!==e.updates[i]&&(r[i]=e.updates[i])}else{const s={type:e.behaviorType,...e.updates,uuid:crypto.randomUUID()};t.behaviors.push(s)}},clearWorld:()=>{console.log(" Clearing the world"),Z.clearWorld()},selectEntities:e=>{console.log(" Selecting entities:",e.entityIds),St.setSelectedEntityIds(e.entityIds)},deselectEntities:e=>{console.log(" Deselecting entities:",e.entityIds),St.removeSelectedEntityIds(e.entityIds)},clearSelection:()=>{console.log(" Clearing entity selection"),St.clearSelection()}},a0=e=>{console.log(" Resolving action:",e.type);try{const t=W_[e.type];t?t(e):console.error(" Unknown action type:",e.type)}catch(t){console.error(` Error resolving action ${e.type}:`,t)}};function q_(){const[e,t]=j.useState(""),{aiBusy:n}=Jt(ve),r=async s=>{if(s.preventDefault(),!(n||!e.trim())){console.log(" Prompt submitted:",e),St.setAIBusy(!0);try{const i=await bc(e);console.log(" Received actions from AI:",i);for(const o of i.actions)await H_(100),a0(o);t("")}catch(i){console.error(" Error processing AI actions:",i)}finally{St.setAIBusy(!1)}}};return A.jsx(V_,{prompt:e,setPrompt:t,onSubmit:r,disabled:n})}function V_({prompt:e,setPrompt:t,onSubmit:n,disabled:r}){const[s,i]=j.useState(!1),o=j.useRef(null);j.useEffect(()=>{const a=e.length>30||e.includes(`
`);if(i(a),o.current){o.current.style.height="auto";const u=a?`${Math.max(o.current.scrollHeight,96)}px`:"40px";o.current.style.height=u}},[e]);const l=a=>{a.key==="Enter"&&!a.shiftKey&&!a.ctrlKey&&(a.preventDefault(),n(a))};return A.jsx("form",{onSubmit:n,className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 select-none",children:A.jsxs("div",{className:`relative transition-all duration-300 ease-in-out ${s?"w-[32rem]":"w-96"}`,children:[A.jsx("textarea",{rows:1,ref:o,value:e,onChange:a=>t(a.target.value),onKeyDown:l,placeholder:"Enter prompt...",disabled:r,className:`w-full px-4 py-2 rounded-3xl border border-gray-300 shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none transition-all duration-300 ease-in-out ${s?"h-auto min-h-[6rem] text-xs":"h-10 overflow-hidden"} ${r?"bg-gray-100 cursor-not-allowed":""}`}),A.jsx("button",{type:"submit",className:"absolute right-3 top-3",disabled:r,children:r?A.jsx(oS,{className:"h-5 w-5 text-gray-500 animate-spin"}):A.jsx(lS,{className:"h-5 w-5 text-gray-500"})})]})})}const H_=e=>new Promise(t=>setTimeout(t,e));function Q_({cellSize:e=40}){return A.jsxs(A.Fragment,{children:[A.jsx("defs",{children:A.jsxs("pattern",{id:"plusPattern",x:"0",y:"0",width:e,height:e,patternUnits:"userSpaceOnUse",children:[A.jsx("rect",{width:e,height:e,fill:"#f8f8f8"}),A.jsx("path",{d:`M${e/2} ${e*.375} V${e*.625} M${e*.375} ${e/2} H${e*.625}`,stroke:"#d8d8d8",strokeWidth:"1"})]})}),A.jsx("rect",{x:"-100%",y:"-100%",width:"200%",height:"200%",fill:"url(#plusPattern)"})]})}const Yh={RenderCircle:{render(){return A.jsx("circle",{r:this.radius})}},ChangeColor:{render(e,t){const n=this.color||"white";return A.jsx("g",{fill:n,children:t})}},SimplifyMesh:{render(e){var i,o,l;const t=((i=e.behaviors.find(a=>a.type==="SimplifyMesh"))==null?void 0:i.sides)||6,n=((o=e.behaviors.find(a=>a.type==="RenderCircle"))==null?void 0:o.radius)||10,r=((l=e.behaviors.find(a=>a.type==="ChangeColor"))==null?void 0:l.color)||void 0,s=J_(n,t);return A.jsx("polygon",{points:s,fill:r})}},CustomBehavior:{update(e,t,n){if(typeof this.update=="function")return this.update.call(this,e,t,n);typeof this.update=="string"&&new Function("entity","deltaTime","totalTime",this.update).call(this,e,t,n)},render(e,t){if(typeof this.render=="function")return this.render.call(this,e,t);if(typeof this.render=="string"){const n=`return (${this.render})`;return new Function("entity","content",n).call(this,e,t)}return t}},RenderEmoji:{render(e,t){const n=this.emoji,r=~~(this.fontSize||40);return A.jsxs(A.Fragment,{children:[t,A.jsx("text",{fontSize:r,textAnchor:"middle",dominantBaseline:"central",style:{userSelect:"none"},y:"-2",children:n})]})}}};function J_(e,t){let n="";for(let r=0;r<t;r++){const s=r/t*2*Math.PI,i=e*Math.cos(s),o=e*Math.sin(s);n+=`${i},${o} `}return n.trim()}const u0={update:(e,t,n)=>{e.behaviors.forEach(r=>{var o;const s=r.type,i=Yh[s];(o=i==null?void 0:i.update)==null||o.apply(r,[e,t,n])})},render:e=>{let t=null;return e.behaviors.forEach(n=>{var i;const r=n.type,s=Yh[r];t=(i=s==null?void 0:s.render)==null?void 0:i.apply(n,[e,t])}),t},getBehavior:(e,t)=>e.behaviors.find(n=>n.type===t)},X_=({entity:e,onClick:t})=>{const n=s=>{t(e,s)};for(const s of["x","y","rotation","scale"]){const i=e[s];isNaN(i)&&(console.warn(`Entity ${e.uuid} has a non-numeric value for ${s}: ${i}`),e[s]=1)}const r=`translate(${e.x}, ${e.y}) rotate(${e.rotation}) scale(${e.scale})`;return A.jsx("g",{onClick:n,transform:r,children:u0.render(e)})};function sd(e,t){return e.behaviors.find(n=>n.type===t)}const G_=({entity:e})=>{const t=sd(e,"RenderCircle"),n=((t==null?void 0:t.radius)??30)*2*e.scale+4;return A.jsx("rect",{x:e.x-n/2,y:e.y-n/2,width:n,height:n,fill:"none",stroke:"blue",strokeWidth:"1",strokeDasharray:"2, 2"})},Y_=e=>{const t=j.useRef(),n=j.useRef(),r=j.useRef(),s=j.useCallback(i=>{if(r.current||(r.current=i),n.current!==void 0){const o=(i-n.current)/1e3,l=(i-r.current)/1e3;e(o,l)}n.current=i,t.current=requestAnimationFrame(s)},[e]);j.useEffect(()=>(console.log(" Starting animation frame loop"),t.current=requestAnimationFrame(s),()=>{console.log(" Stopping animation frame loop"),t.current&&cancelAnimationFrame(t.current)}),[s])},Z_=()=>{const[e,t]=j.useState(!1),n=Jt(q),r=nl.stringify(n),s=Jt(ve),i=nl.stringify(s);return j.useEffect(()=>{const o=l=>{l.key==="`"&&(t(a=>!a),console.log(" Toggled World State Inspector"))};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[]),e?A.jsx("div",{className:"absolute top-4 left-4 max-h-[calc(100vh-32px)] overflow-y-auto bg-white rounded-lg border border-gray-300 shadow-md animate-slide-in",children:A.jsxs("div",{className:"p-4 overflow-x-auto",children:[A.jsx("pre",{className:"text-xs font-bold mb-2",children:"IDE"}),A.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:i}),A.jsx("br",{}),A.jsx("hr",{}),A.jsx("br",{}),A.jsx("pre",{className:"text-xs font-bold mb-2",children:"World"}),A.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:r})]})}):null},eE=()=>A.jsxs(A.Fragment,{children:[A.jsx(tE,{}),A.jsx(nE,{gap:20})]}),tE=()=>{const{stage:e}=Jt(q);return A.jsx("rect",{x:-e.width/2,y:-e.height/2,width:e.width,height:e.height,fill:"none",stroke:"gray",strokeWidth:"1",strokeDasharray:"18,4,18,0"})},nE=({gap:e})=>{const{stage:t}=Jt(q);return A.jsx("rect",{x:-t.width/2-e,y:-t.height/2-e,width:t.width+e*2,height:t.height+e*2,fill:"none",stroke:"gray",strokeWidth:"1",strokeDasharray:"8",opacity:.2})};function rE(){return Y_((e,t)=>{for(const n of q.entities)u0.update(n,e,t)}),A.jsxs("div",{className:"w-full h-screen relative overflow-hidden",children:[A.jsx(sE,{}),A.jsx(lE,{})]})}const sE=()=>{const{stage:e}=Jt(q),[t,n]=j.useState("0 0 1000 1000"),r=[.5,.38196601125],s=j.useCallback(()=>{St.clearSelection()},[]);return j.useEffect(()=>{const i=()=>{const{innerWidth:o,innerHeight:l}=window,a=Math.min(o/e.width,l/e.height)*.8,u=o/a,h=l/a,c=-u*r[0]+e.width*(r[0]-.5),d=-h*r[1]+e.height*(r[1]-.5);n(`${c} ${d} ${u} ${h}`),console.log(" Updated viewBox:",`${c} ${d} ${u} ${h}`)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[e.width,e.height,r]),A.jsxs("svg",{className:"w-full h-full",viewBox:t,onClick:s,children:[A.jsx(Q_,{}),A.jsx(eE,{}),A.jsx(iE,{}),A.jsx(oE,{})]})},iE=()=>{const{entities:e}=Jt(q),t=j.useCallback((n,r)=>{r.stopPropagation(),St.toggleEntitySelection(n.uuid,r.ctrlKey),console.log(" Entity clicked:",n.uuid)},[]);return A.jsx("g",{fill:"#ddd",stroke:"black",strokeWidth:1,children:e.map(n=>A.jsx("g",{className:"with-shadow",children:A.jsx(X_,{entity:n,onClick:t})},n.uuid))})},oE=()=>{const e=zy();return A.jsx(A.Fragment,{children:e.map(t=>A.jsx(G_,{entity:t},t.uuid))})},lE=()=>{const e=zy();return A.jsxs(A.Fragment,{children:[A.jsx(Z_,{}),A.jsx("div",{className:"absolute top-4 right-4 max-w-md max-h-[calc(100vh-2rem)] overflow-y-auto",children:e.map(t=>A.jsx(nS,{entity:t},`selection-${t.uuid}`))}),A.jsx(q_,{})]})},Zh=["","","","","","","","","",""],ep=["dodgerblue","hotpink","gold","lime","purple","teal","tomato"];function*aE(e){for(let t=0;t<e;t++)yield t}function uE(){Z.clearWorld();const{width:e,height:t}=q.stage,n=10;function r(){const s=Z.addEntity({x:(Math.random()-.5)*e,y:(Math.random()-.5)*t,rotation:Math.random()*360,scale:1,behaviors:[]});return Z.addBehaviorToEntity(s.uuid,{type:"RenderCircle",radius:10+Math.random()*40}),s}for(const s of aE(n)){const i=r();if(i.name="circle",s%3===0&&(Z.addBehaviorToEntity(i.uuid,{type:"SimplifyMesh",sides:6}),i.name="simplified "+i.name),s%2===0){const o=sd(i,"RenderCircle"),a=1.33*((o==null?void 0:o.radius)??20),u=Zh[Math.floor(Math.random()*Zh.length)];Z.addBehaviorToEntity(i.uuid,{type:"RenderEmoji",emoji:u,fontSize:a}),i.name=i.name+" with "+u}else{const o=ep[Math.floor(Math.random()*ep.length)];Z.addBehaviorToEntity(i.uuid,{type:"ChangeColor",color:o}),i.name=o+" "+i.name}}console.log(" Sample world populated with entities and emojis")}const We={addBehaviorToSelectedEntity:e=>{const t=ve.selectedEntityIds[0];t!==null?(Z.addBehaviorToEntity(t,e),console.log(` Added behavior ${e.type} to entity ${t}`)):console.warn(" No entity selected. Please select an entity first.")},makePulse:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Pulse",update:`
        entity.scale = 1 + Math.sin(Date.now() * 0.005) * 0.5;
      `}),console.log(" Added pulse animation to selected entity")},makeSpin:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Spin",update:`
        entity.rotation += 4 * deltaTime;
      `}),console.log(" Added spin animation to selected entity")},makeOrbit:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Orbit",update:`
        const radius = 100;
        const speed = 0.001;
        entity.x = Math.cos(Date.now() * speed) * radius;
        entity.y = Math.sin(Date.now() * speed) * radius;
      `}),console.log(" Added orbit animation to selected entity")},makeBounce:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Bounce",update:`
        entity.y = Math.abs(Math.sin(Date.now() * 0.005)) * 100;
      `}),console.log(" Added bounce animation to selected entity")},makeWiggle:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Wiggle",update:`
        entity.rotation = Math.sin(Date.now() * 0.01) * 15;
      `}),console.log(" Added wiggle animation to selected entity")},makeFade:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Fade",update:`
        entity.opacity = (Math.sin(Date.now() * 0.003) + 1) / 2;
      `}),console.log(" Added fade animation to selected entity")},makeZigZag:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"ZigZag",update:`
        entity.x += Math.sin(Date.now() * 0.01) * 2;
        entity.y += 0.5;
        if (entity.y > 300) entity.y = -300;
      `}),console.log(" Added zig-zag animation to selected entity")},makeGrow:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Grow",update:`
        entity.scale = Math.min(entity.scale * 1.01, 3);
      `}),console.log(" Added grow animation to selected entity")},makeShrink:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Shrink",update:`
        entity.scale = Math.max(entity.scale * 0.99, 0.1);
      `}),console.log(" Added shrink animation to selected entity")},makeShake:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Shake",update:`
        entity.x += (Math.random() - 0.5) * 4;
        entity.y += (Math.random() - 0.5) * 4;
      `}),console.log(" Added shake animation to selected entity")},makeColorCycle:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"ColorCycle",update:"\n        const hue = (Date.now() * 0.1) % 360;\n        entity.color = `hsl(${hue}, 100%, 50%)`;\n      "}),console.log(" Added color cycle animation to selected entity")},makePingPong:()=>{We.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"PingPong",update:`
        entity.x = Math.sin(Date.now() * 0.003) * 200;
      `}),console.log(" Added ping-pong animation to selected entity")}};Object.assign(globalThis,{God:We});function cE(){return j.useEffect(()=>(window.location.search.includes("sample")&&uE(),()=>{Z.clearWorld(),St.clearSelection()}),[]),A.jsx(rE,{})}const nr="4.67.3";let tp=!1,Ls,c0,f0,Cc,d0,h0,p0,m0,y0;function fE(e,t={auto:!1}){if(tp)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Ls)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Ls}'\``);tp=t.auto,Ls=e.kind,c0=e.fetch,f0=e.FormData,Cc=e.File,d0=e.ReadableStream,h0=e.getMultipartRequestOptions,p0=e.getDefaultAgent,m0=e.fileFromPath,y0=e.isFsReadStream}class dE{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function hE({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new dE(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}Ls||fE(hE(),{auto:!0});class qn{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=qn.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(qn.NEWLINE_REGEXP);return r&&s.pop(),s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new B(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new B(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new B("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}qn.NEWLINE_CHARS=new Set([`
`,"\r"]);qn.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class Ot{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of pE(t,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(l&&l.error)throw new ke(void 0,l.error,void 0,void 0);yield l}else{let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event=="error")throw new ke(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new Ot(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new qn,l=g0(t);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Ot(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new Ot(()=>s(t),this.controller),new Ot(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new d0({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*pE(e,t){if(!e.body)throw t.abort(),new B("Attempted to iterate over a response with no body");const n=new gE,r=new qn,s=g0(e.body);for await(const i of mE(s))for(const o of r.decode(i)){const l=n.decode(o);l&&(yield l)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*mE(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=yE(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}function yE(e){for(let r=0;r<e.length-2;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}class gE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=wE(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function wE(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function g0(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const w0=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",v0=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&da(e),da=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",vE=e=>v0(e)||w0(e)||y0(e);async function S0(e,t,n){var s;if(e=await e,v0(e))return e;if(w0(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=da(i)?[await i.arrayBuffer()]:[i];return new Cc(o,t,n)}const r=await SE(e);if(t||(t=EE(e)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Cc(r,t,n)}async function SE(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(da(e))t.push(await e.arrayBuffer());else if(kE(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${_E(e)}`);return t}function _E(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function EE(e){var t;return su(e.name)||su(e.filename)||((t=su(e.path))==null?void 0:t.split(/[\\/]/).pop())}const su=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},kE=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",np=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Wr=async e=>{const t=await bE(e.body);return h0(t,e)},bE=async e=>{const t=new f0;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Ac(t,n,r))),t},Ac=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(vE(n)){const r=await S0(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Ac(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Ac(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Or={},CE=function(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},AE=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},zi;async function _0(e){const{response:t}=e;if(e.options.stream)return Rr("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Ot.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await t.json();return Rr("response",t.status,t.url,t.headers,i),E0(i,t)}const s=await t.text();return Rr("response",t.status,t.url,t.headers,s),s}function E0(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class ha extends Promise{constructor(t,n=_0){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new ha(this.responsePromise,async n=>E0(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class xE{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=iu("maxRetries",n),this.timeout=iu("timeout",r),this.httpAgent=s,this.fetch=i??c0}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...TE(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${BE()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&da(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var y;const{method:r,path:s,query:i,headers:o={}}=t,l=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:np(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,a=this.calculateContentLength(l),u=this.buildURL(s,i);"timeout"in t&&iu("timeout",t.timeout);const h=t.timeout??this.timeout,c=t.httpAgent??this.httpAgent??p0(u),d=h+1e3;typeof((y=c==null?void 0:c.options)==null?void 0:y.timeout)=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const p=this.buildHeaders({options:t,headers:o,contentLength:a,retryCount:n});return{req:{method:r,...l&&{body:l},headers:p,...c&&{agent:c},signal:t.signal??null},url:u,timeout:h}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(t);return op(i,o),op(i,n),np(t.body)&&Ls!=="node"&&delete i["content-type"],FE(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return ke.generate(t,n,r,s)}request(t,n=null){return new ha(this.makeRequest(t,n))}async makeRequest(t,n){var c,d;const r=await t,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:l}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),Rr("request",o,r,i.headers),(c=r.signal)!=null&&c.aborted)throw new yt;const a=new AbortController,u=await this.fetchWithTimeout(o,i,l,a).catch(xc);if(u instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new yt;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new id:new pa({cause:u})}const h=NE(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const f=`retrying, ${n} attempts remaining`;return Rr(`response (error; ${f})`,u.status,o,h),this.retryRequest(r,n,h)}const p=await u.text().catch(f=>xc(f).message),v=$E(p),y=v?void 0:p;throw Rr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,h,y),this.makeStatusError(u.status,v,y,h)}return{response:u,options:r,controller:a}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new PE(this,r,t)}buildURL(t,n){const r=ME(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return b0(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new B(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:s.signal,...o}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await hi(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${nr}`}}class k0{constructor(t,n,r,s){zi.set(this,void 0),CE(this,zi,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new B("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[s,i]of r)t.url.searchParams.set(s,i);n.query=void 0,n.path=t.url.toString()}return await AE(this,zi,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(zi=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class PE extends ha{constructor(t,n,r){super(n,async s=>new r(t,s.response,await _0(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const NE=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),IE={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ze=e=>typeof e=="object"&&e!==null&&!b0(e)&&Object.keys(e).every(t=>C0(IE,t)),OE=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":sp(Deno.build.os),"X-Stainless-Arch":rp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":sp(process.platform),"X-Stainless-Arch":rp(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=RE();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function RE(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const rp=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",sp=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let ip;const TE=()=>ip??(ip=OE()),$E=e=>{try{return JSON.parse(e)}catch{return}},LE=new RegExp("^(?:[a-z]+:)?//","i"),ME=e=>LE.test(e),hi=e=>new Promise(t=>setTimeout(t,e)),iu=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new B(`${e} must be an integer`);if(t<0)throw new B(`${e} must be a positive integer`);return t},xc=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Ki=e=>{var t,n,r,s;if(typeof process<"u")return((t=Or==null?void 0:Or[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function b0(e){if(!e)return!0;for(const t in e)return!1;return!0}function C0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function op(e,t){for(const n in t){if(!C0(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}function Rr(e,...t){typeof process<"u"&&(Or==null?void 0:Or.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${e}`,...t)}const BE=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),jE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",DE=e=>typeof(e==null?void 0:e.get)=="function",FE=(e,t)=>{var r;const n=t.toLowerCase();if(DE(e)){const s=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,l)=>o+l.toUpperCase());for(const i of[t,n,t.toUpperCase(),s]){const o=e.get(i);if(o)return o}}for(const[s,i]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i};function ou(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class B extends Error{}class ke extends B{constructor(t,n,r,s){super(`${ke.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t)return new pa({message:r,cause:xc(n)});const i=n==null?void 0:n.error;return t===400?new A0(t,i,r,s):t===401?new x0(t,i,r,s):t===403?new P0(t,i,r,s):t===404?new N0(t,i,r,s):t===409?new I0(t,i,r,s):t===422?new O0(t,i,r,s):t===429?new R0(t,i,r,s):t>=500?new T0(t,i,r,s):new ke(t,i,r,s)}}class yt extends ke{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}}class pa extends ke{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class id extends pa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class A0 extends ke{constructor(){super(...arguments),this.status=400}}class x0 extends ke{constructor(){super(...arguments),this.status=401}}class P0 extends ke{constructor(){super(...arguments),this.status=403}}class N0 extends ke{constructor(){super(...arguments),this.status=404}}class I0 extends ke{constructor(){super(...arguments),this.status=409}}class O0 extends ke{constructor(){super(...arguments),this.status=422}}class R0 extends ke{constructor(){super(...arguments),this.status=429}}class T0 extends ke{}class $0 extends B{constructor(){super("Could not parse response content as the length limit was reached")}}class L0 extends B{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const Pc="RFC3986",Nc={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},UE="RFC1738",zE=Array.isArray,At=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),lu=1024,KE=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<i.length;l+=lu){const a=i.length>=lu?i.slice(l,l+lu):i,u=[];for(let h=0;h<a.length;++h){let c=a.charCodeAt(h);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===UE&&(c===40||c===41)){u[u.length]=a.charAt(h);continue}if(c<128){u[u.length]=At[c];continue}if(c<2048){u[u.length]=At[192|c>>6]+At[128|c&63];continue}if(c<55296||c>=57344){u[u.length]=At[224|c>>12]+At[128|c>>6&63]+At[128|c&63];continue}h+=1,c=65536+((c&1023)<<10|a.charCodeAt(h)&1023),u[u.length]=At[240|c>>18]+At[128|c>>12&63]+At[128|c>>6&63]+At[128|c&63]}o+=u.join("")}return o};function WE(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function lp(e,t){if(zE(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const qE=Object.prototype.hasOwnProperty,M0={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Pt=Array.isArray,VE=Array.prototype.push,B0=function(e,t){VE.apply(e,Pt(t)?t:[t])},HE=Date.prototype.toISOString,fe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:KE,encodeValuesOnly:!1,format:Pc,formatter:Nc[Pc],indices:!1,serializeDate(e){return HE.call(e)},skipNulls:!1,strictNullHandling:!1};function QE(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const au={};function j0(e,t,n,r,s,i,o,l,a,u,h,c,d,p,v,y,w,m){let f=e,g=m,S=0,E=!1;for(;(g=g.get(au))!==void 0&&!E;){const x=g.get(e);if(S+=1,typeof x<"u"){if(x===S)throw new RangeError("Cyclic object value");E=!0}typeof g.get(au)>"u"&&(S=0)}if(typeof u=="function"?f=u(t,f):f instanceof Date?f=d==null?void 0:d(f):n==="comma"&&Pt(f)&&(f=lp(f,function(x){return x instanceof Date?d==null?void 0:d(x):x})),f===null){if(i)return a&&!y?a(t,fe.encoder,w,"key",p):t;f=""}if(QE(f)||WE(f)){if(a){const x=y?t:a(t,fe.encoder,w,"key",p);return[(v==null?void 0:v(x))+"="+(v==null?void 0:v(a(f,fe.encoder,w,"value",p)))]}return[(v==null?void 0:v(t))+"="+(v==null?void 0:v(String(f)))]}const _=[];if(typeof f>"u")return _;let b;if(n==="comma"&&Pt(f))y&&a&&(f=lp(f,a)),b=[{value:f.length>0?f.join(",")||null:void 0}];else if(Pt(u))b=u;else{const x=Object.keys(f);b=h?x.sort(h):x}const k=l?String(t).replace(/\./g,"%2E"):String(t),I=r&&Pt(f)&&f.length===1?k+"[]":k;if(s&&Pt(f)&&f.length===0)return I+"[]";for(let x=0;x<b.length;++x){const R=b[x],F=typeof R=="object"&&typeof R.value<"u"?R.value:f[R];if(o&&F===null)continue;const et=c&&l?R.replace(/\./g,"%2E"):R,mi=Pt(f)?typeof n=="function"?n(I,et):I:I+(c?"."+et:"["+et+"]");m.set(e,S);const yi=new WeakMap;yi.set(au,m),B0(_,j0(F,mi,n,r,s,i,o,l,n==="comma"&&y&&Pt(f)?null:a,u,h,c,d,p,v,y,w,yi))}return _}function JE(e=fe){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||fe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Pc;if(typeof e.format<"u"){if(!qE.call(Nc,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Nc[n];let s=fe.filter;(typeof e.filter=="function"||Pt(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in M0?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=fe.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:fe.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:fe.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:fe.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:fe.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?fe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:fe.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:fe.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:fe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:fe.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:fe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:fe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:fe.strictNullHandling}}function XE(e,t={}){let n=e;const r=JE(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Pt(r.filter)&&(i=r.filter,s=i);const o=[];if(typeof n!="object"||n===null)return"";const l=M0[r.arrayFormat],a=l==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let d=0;d<s.length;++d){const p=s[d];r.skipNulls&&n[p]===null||B0(o,j0(n[p],p,l,a,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const h=o.join(r.delimiter);let c=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),h.length>0?c+h:""}class od extends k0{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class bt extends k0{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class z{constructor(t){this._client=t}}let rl=class extends z{create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}};rl||(rl={});let sl=class extends z{constructor(){super(...arguments),this.completions=new rl(this._client)}};(function(e){e.Completions=rl})(sl||(sl={}));class il extends z{create(t,n){return this._client.post("/audio/speech",{body:t,...n,__binaryResponse:!0})}}il||(il={});class ol extends z{create(t,n){return this._client.post("/audio/transcriptions",Wr({body:t,...n}))}}ol||(ol={});class ll extends z{create(t,n){return this._client.post("/audio/translations",Wr({body:t,...n}))}}ll||(ll={});class al extends z{constructor(){super(...arguments),this.transcriptions=new ol(this._client),this.translations=new ll(this._client),this.speech=new il(this._client)}}(function(e){e.Transcriptions=ol,e.Translations=ll,e.Speech=il})(al||(al={}));class ul extends z{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/batches",ld,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class ld extends bt{}(function(e){e.BatchesPage=ld})(ul||(ul={}));class cl extends z{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/assistants",ad,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class ad extends bt{}(function(e){e.AssistantsPage=ad})(cl||(cl={}));function ap(e){return typeof e.parse=="function"}const Tr=e=>(e==null?void 0:e.role)==="assistant",D0=e=>(e==null?void 0:e.role)==="function",F0=e=>(e==null?void 0:e.role)==="tool";var ft=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},G=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ic,uo,co,gs,ws,fo,vs,Bt,Ss,fl,dl,rr,U0;class z0{constructor(){Ic.add(this),this.controller=new AbortController,uo.set(this,void 0),co.set(this,()=>{}),gs.set(this,()=>{}),ws.set(this,void 0),fo.set(this,()=>{}),vs.set(this,()=>{}),Bt.set(this,{}),Ss.set(this,!1),fl.set(this,!1),dl.set(this,!1),rr.set(this,!1),ft(this,uo,new Promise((t,n)=>{ft(this,co,t,"f"),ft(this,gs,n,"f")}),"f"),ft(this,ws,new Promise((t,n)=>{ft(this,fo,t,"f"),ft(this,vs,n,"f")}),"f"),G(this,uo,"f").catch(()=>{}),G(this,ws,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},G(this,Ic,"m",U0).bind(this))},0)}_connected(){this.ended||(G(this,co,"f").call(this),this._emit("connect"))}get ended(){return G(this,Ss,"f")}get errored(){return G(this,fl,"f")}get aborted(){return G(this,dl,"f")}abort(){this.controller.abort()}on(t,n){return(G(this,Bt,"f")[t]||(G(this,Bt,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=G(this,Bt,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(G(this,Bt,"f")[t]||(G(this,Bt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{ft(this,rr,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){ft(this,rr,!0,"f"),await G(this,ws,"f")}_emit(t,...n){if(G(this,Ss,"f"))return;t==="end"&&(ft(this,Ss,!0,"f"),G(this,fo,"f").call(this));const r=G(this,Bt,"f")[t];if(r&&(G(this,Bt,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!G(this,rr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),G(this,gs,"f").call(this,s),G(this,vs,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!G(this,rr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),G(this,gs,"f").call(this,s),G(this,vs,"f").call(this,s),this._emit("end")}}_emitFinal(){}}uo=new WeakMap,co=new WeakMap,gs=new WeakMap,ws=new WeakMap,fo=new WeakMap,vs=new WeakMap,Bt=new WeakMap,Ss=new WeakMap,fl=new WeakMap,dl=new WeakMap,rr=new WeakMap,Ic=new WeakSet,U0=function(t){if(ft(this,fl,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new yt),t instanceof yt)return ft(this,dl,!0,"f"),this._emit("abort",t);if(t instanceof B)return this._emit("error",t);if(t instanceof Error){const n=new B(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new B(String(t)))};function K0(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function pi(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function GE(e,t){return!t||!W0(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:ud(e,t)}function ud(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new $0;if(r.finish_reason==="content_filter")throw new L0;return{...r,message:{...r.message,tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>ZE(t,i)))??[],parsed:r.message.content&&!r.message.refusal?YE(t,r.message.content):null}}});return{...e,choices:n}}function YE(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function ZE(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:pi(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function ek(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return pi(n)||(n==null?void 0:n.function.strict)||!1}function W0(e){var t;return K0(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>pi(n)||n.type==="function"&&n.function.strict===!0))??!1}function tk(e){for(const t of e??[]){if(t.type!=="function")throw new B(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new B(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Le=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ae,Oc,hl,Rc,Tc,$c,q0,Lc;const up=10;class V0 extends z0{constructor(){super(...arguments),Ae.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(D0(t)||F0(t))&&t.content)this._emit("functionCallResult",t.content);else if(Tr(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Tr(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new B("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Le(this,Ae,"m",Oc).call(this)}async finalMessage(){return await this.done(),Le(this,Ae,"m",hl).call(this)}async finalFunctionCall(){return await this.done(),Le(this,Ae,"m",Rc).call(this)}async finalFunctionCallResult(){return await this.done(),Le(this,Ae,"m",Tc).call(this)}async totalUsage(){return await this.done(),Le(this,Ae,"m",$c).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=Le(this,Ae,"m",hl).call(this);n&&this._emit("finalMessage",n);const r=Le(this,Ae,"m",Oc).call(this);r&&this._emit("finalContent",r);const s=Le(this,Ae,"m",Rc).call(this);s&&this._emit("finalFunctionCall",s);const i=Le(this,Ae,"m",Tc).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Le(this,Ae,"m",$c).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Le(this,Ae,"m",q0).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ud(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var d;const s="function",{function_call:i="auto",stream:o,...l}=n,a=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=up}=r||{},h={};for(const p of n.functions)h[p.name||p.function.name]=p;const c=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const y=(d=(await this._createChatCompletion(t,{...l,function_call:i,functions:c,messages:[...this.messages]},r)).choices[0])==null?void 0:d.message;if(!y)throw new B("missing message in ChatCompletion response");if(!y.function_call)return;const{name:w,arguments:m}=y.function_call,f=h[w];if(f){if(a&&a!==w){const _=`Invalid function_call: ${JSON.stringify(w)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,name:w,content:_});continue}}else{const _=`Invalid function_call: ${JSON.stringify(w)}. Available options are: ${c.map(b=>JSON.stringify(b.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:w,content:_});continue}let g;try{g=ap(f)?await f.parse(m):m}catch(_){this._addMessage({role:s,name:w,content:_ instanceof Error?_.message:String(_)});continue}const S=await f.function(g,this),E=Le(this,Ae,"m",Lc).call(this,S);if(this._addMessage({role:s,name:w,content:E}),a)return}}async _runTools(t,n,r){var p,v,y;const s="tool",{tool_choice:i="auto",stream:o,...l}=n,a=typeof i!="string"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:u=up}=r||{},h=n.tools.map(w=>{if(pi(w)){if(!w.$callback)throw new B("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),c={};for(const w of h)w.type==="function"&&(c[w.function.name||w.function.function.name]=w.function);const d="tools"in n?h.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of n.messages)this._addMessage(w,!1);for(let w=0;w<u;++w){const f=(v=(await this._createChatCompletion(t,{...l,tool_choice:i,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!f)throw new B("missing message in ChatCompletion response");if(!((y=f.tool_calls)!=null&&y.length))return;for(const g of f.tool_calls){if(g.type!=="function")continue;const S=g.id,{name:E,arguments:_}=g.function,b=c[E];if(b){if(a&&a!==E){const R=`Invalid tool_call: ${JSON.stringify(E)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,tool_call_id:S,content:R});continue}}else{const R=`Invalid tool_call: ${JSON.stringify(E)}. Available options are: ${Object.keys(c).map(F=>JSON.stringify(F)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:S,content:R});continue}let k;try{k=ap(b)?await b.parse(_):_}catch(R){const F=R instanceof Error?R.message:String(R);this._addMessage({role:s,tool_call_id:S,content:F});continue}const I=await b.function(k,this),x=Le(this,Ae,"m",Lc).call(this,I);if(this._addMessage({role:s,tool_call_id:S,content:x}),a)return}}}}Ae=new WeakSet,Oc=function(){return Le(this,Ae,"m",hl).call(this).content??null},hl=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Tr(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new B("stream ended without producing a ChatCompletionMessage with role=assistant")},Rc=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Tr(s)&&(s!=null&&s.function_call))return s.function_call;if(Tr(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Tc=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(D0(n)&&n.content!=null||F0(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},$c=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},q0=function(t){if(t.n!=null&&t.n>1)throw new B("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Lc=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ri extends V0{static runFunctions(t,n,r){const s=new ri,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new ri,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),Tr(t)&&t.content&&this._emit("content",t.content)}}const H0=1,Q0=2,J0=4,X0=8,G0=16,Y0=32,Z0=64,ew=128,tw=256,nw=ew|tw,rw=G0|Y0|nw|Z0,sw=H0|Q0|rw,iw=J0|X0,nk=sw|iw,me={STR:H0,NUM:Q0,ARR:J0,OBJ:X0,NULL:G0,BOOL:Y0,NAN:Z0,INFINITY:ew,MINUS_INFINITY:tw,INF:nw,SPECIAL:rw,ATOM:sw,COLLECTION:iw,ALL:nk};class rk extends Error{}class sk extends Error{}function ik(e,t=me.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return ok(e.trim(),t)}const ok=(e,t)=>{const n=e.length;let r=0;const s=d=>{throw new rk(`${d} at position ${r}`)},i=d=>{throw new sk(`${d} at position ${r}`)},o=()=>(c(),r>=n&&s("Unexpected end of input"),e[r]==='"'?l():e[r]==="{"?a():e[r]==="["?u():e.substring(r,r+4)==="null"||me.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||me.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||me.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||me.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||me.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||me.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):h()),l=()=>{const d=r;let p=!1;for(r++;r<n&&(e[r]!=='"'||p&&e[r-1]==="\\");)p=e[r]==="\\"?!p:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(d,++r-Number(p)))}catch(v){i(String(v))}else if(me.STR&t)try{return JSON.parse(e.substring(d,r-Number(p))+'"')}catch{return JSON.parse(e.substring(d,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},a=()=>{r++,c();const d={};try{for(;e[r]!=="}";){if(c(),r>=n&&me.OBJ&t)return d;const p=l();c(),r++;try{const v=o();Object.defineProperty(d,p,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(me.OBJ&t)return d;throw v}c(),e[r]===","&&r++}}catch{if(me.OBJ&t)return d;s("Expected '}' at end of object")}return r++,d},u=()=>{r++;const d=[];try{for(;e[r]!=="]";)d.push(o()),c(),e[r]===","&&r++}catch{if(me.ARR&t)return d;s("Expected ']' at end of array")}return r++,d},h=()=>{if(r===0){e==="-"&&me.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(me.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(p))}}const d=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(me.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(d,r))}catch{e.substring(d,r)==="-"&&me.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(d,e.lastIndexOf("e")))}catch(v){i(String(v))}}},c=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return o()},cp=e=>ik(e,me.ALL^me.NUM);var Zn=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},K=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ce,Mt,er,Yt,uu,Wi,cu,fu,du,qi,hu,fp;class si extends V0{constructor(t){super(),ce.add(this),Mt.set(this,void 0),er.set(this,void 0),Yt.set(this,void 0),Zn(this,Mt,t,"f"),Zn(this,er,[],"f")}get currentChatCompletionSnapshot(){return K(this,Yt,"f")}static fromReadableStream(t){const n=new si(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new si(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),K(this,ce,"m",uu).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of i)K(this,ce,"m",cu).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new yt;return this._addChatCompletion(K(this,ce,"m",qi).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),K(this,ce,"m",uu).call(this),this._connected();const s=Ot.fromReadableStream(t,this.controller);let i;for await(const l of s)i&&i!==l.id&&this._addChatCompletion(K(this,ce,"m",qi).call(this)),K(this,ce,"m",cu).call(this,l),i=l.id;if((o=s.controller.signal)!=null&&o.aborted)throw new yt;return this._addChatCompletion(K(this,ce,"m",qi).call(this))}[(Mt=new WeakMap,er=new WeakMap,Yt=new WeakMap,ce=new WeakSet,uu=function(){this.ended||Zn(this,Yt,void 0,"f")},Wi=function(n){let r=K(this,er,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},K(this,er,"f")[n.index]=r,r)},cu=function(n){var s,i,o,l,a,u,h,c,d,p,v,y,w,m,f;if(this.ended)return;const r=K(this,ce,"m",fp).call(this,n);this._emit("chunk",n,r);for(const g of n.choices){const S=r.choices[g.index];g.delta.content!=null&&((s=S.message)==null?void 0:s.role)==="assistant"&&((i=S.message)!=null&&i.content)&&(this._emit("content",g.delta.content,S.message.content),this._emit("content.delta",{delta:g.delta.content,snapshot:S.message.content,parsed:S.message.parsed})),g.delta.refusal!=null&&((o=S.message)==null?void 0:o.role)==="assistant"&&((l=S.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:g.delta.refusal,snapshot:S.message.refusal}),((a=g.logprobs)==null?void 0:a.content)!=null&&((u=S.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=g.logprobs)==null?void 0:h.content,snapshot:((c=S.logprobs)==null?void 0:c.content)??[]}),((d=g.logprobs)==null?void 0:d.refusal)!=null&&((p=S.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=g.logprobs)==null?void 0:v.refusal,snapshot:((y=S.logprobs)==null?void 0:y.refusal)??[]});const E=K(this,ce,"m",Wi).call(this,S);S.finish_reason&&(K(this,ce,"m",du).call(this,S),E.current_tool_call_index!=null&&K(this,ce,"m",fu).call(this,S,E.current_tool_call_index));for(const _ of g.delta.tool_calls??[])E.current_tool_call_index!==_.index&&(K(this,ce,"m",du).call(this,S),E.current_tool_call_index!=null&&K(this,ce,"m",fu).call(this,S,E.current_tool_call_index)),E.current_tool_call_index=_.index;for(const _ of g.delta.tool_calls??[]){const b=(w=S.message.tool_calls)==null?void 0:w[_.index];b!=null&&b.type&&((b==null?void 0:b.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(m=b.function)==null?void 0:m.name,index:_.index,arguments:b.function.arguments,parsed_arguments:b.function.parsed_arguments,arguments_delta:((f=_.function)==null?void 0:f.arguments)??""}):(b==null||b.type,void 0))}}},fu=function(n,r){var o,l,a;if(K(this,ce,"m",Wi).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(a=(l=K(this,Mt,"f"))==null?void 0:l.tools)==null?void 0:a.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:pi(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},du=function(n){var s,i;const r=K(this,ce,"m",Wi).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=K(this,ce,"m",hu).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},qi=function(){if(this.ended)throw new B("stream has ended, this shouldn't happen");const n=K(this,Yt,"f");if(!n)throw new B("request ended without sending any chunks");return Zn(this,Yt,void 0,"f"),Zn(this,er,[],"f"),lk(n,K(this,Mt,"f"))},hu=function(){var r;const n=(r=K(this,Mt,"f"))==null?void 0:r.response_format;return K0(n)?n:null},fp=function(n){var r,s,i,o;let l=K(this,Yt,"f");const{choices:a,...u}=n;l?Object.assign(l,u):l=Zn(this,Yt,{...u,choices:[]},"f");for(const{delta:h,finish_reason:c,index:d,logprobs:p=null,...v}of n.choices){let y=l.choices[d];if(y||(y=l.choices[d]={finish_reason:c,index:d,message:{},logprobs:p,...v}),p)if(!y.logprobs)y.logprobs=Object.assign({},p);else{const{content:_,refusal:b,...k}=p;Object.assign(y.logprobs,k),_&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(..._)),b&&((s=y.logprobs).refusal??(s.refusal=[]),y.logprobs.refusal.push(...b))}if(c&&(y.finish_reason=c,K(this,Mt,"f")&&W0(K(this,Mt,"f")))){if(c==="length")throw new $0;if(c==="content_filter")throw new L0}if(Object.assign(y,v),!h)continue;const{content:w,refusal:m,function_call:f,role:g,tool_calls:S,...E}=h;if(Object.assign(y.message,E),m&&(y.message.refusal=(y.message.refusal||"")+m),g&&(y.message.role=g),f&&(y.message.function_call?(f.name&&(y.message.function_call.name=f.name),f.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=f.arguments)):y.message.function_call=f),w&&(y.message.content=(y.message.content||"")+w,!y.message.refusal&&K(this,ce,"m",hu).call(this)&&(y.message.parsed=cp(y.message.content))),S){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:_,id:b,type:k,function:I,...x}of S){const R=(o=y.message.tool_calls)[_]??(o[_]={});Object.assign(R,x),b&&(R.id=b),k&&(R.type=k),I&&(R.function??(R.function={name:I.name??"",arguments:""})),I!=null&&I.name&&(R.function.name=I.name),I!=null&&I.arguments&&(R.function.arguments+=I.arguments,ek(K(this,Mt,"f"),R)&&(R.function.parsed_arguments=cp(R.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ot(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function lk(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:o,...l}=e,a={...l,id:n,choices:r.map(({message:u,finish_reason:h,index:c,logprobs:d,...p})=>{if(!h)throw new B(`missing finish_reason for choice ${c}`);const{content:v=null,function_call:y,tool_calls:w,...m}=u,f=u.role;if(!f)throw new B(`missing role for choice ${c}`);if(y){const{arguments:g,name:S}=y;if(g==null)throw new B(`missing function_call.arguments for choice ${c}`);if(!S)throw new B(`missing function_call.name for choice ${c}`);return{...p,message:{content:v,function_call:{arguments:g,name:S},role:f,refusal:u.refusal??null},finish_reason:h,index:c,logprobs:d}}return w?{...p,index:c,finish_reason:h,logprobs:d,message:{...m,role:f,content:v,refusal:u.refusal??null,tool_calls:w.map((g,S)=>{const{function:E,type:_,id:b,...k}=g,{arguments:I,name:x,...R}=E||{};if(b==null)throw new B(`missing choices[${c}].tool_calls[${S}].id
${Vi(e)}`);if(_==null)throw new B(`missing choices[${c}].tool_calls[${S}].type
${Vi(e)}`);if(x==null)throw new B(`missing choices[${c}].tool_calls[${S}].function.name
${Vi(e)}`);if(I==null)throw new B(`missing choices[${c}].tool_calls[${S}].function.arguments
${Vi(e)}`);return{...k,id:b,type:_,function:{...R,name:x,arguments:I}}})}}:{...p,message:{...m,content:v,role:f,refusal:u.refusal??null},finish_reason:h,index:c,logprobs:d}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return GE(a,t)}function Vi(e){return JSON.stringify(e)}class $r extends si{static fromReadableStream(t){const n=new $r(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const s=new $r(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new $r(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let ow=class extends z{parse(t,n){return tk(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>ud(r,t))}runFunctions(t,n){return t.stream?$r.runFunctions(this._client,t,n):ri.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?$r.runTools(this._client,t,n):ri.runTools(this._client,t,n)}stream(t,n){return si.createChatCompletion(this._client,t,n)}};class pl extends z{constructor(){super(...arguments),this.completions=new ow(this._client)}}(function(e){e.Completions=ow})(pl||(pl={}));var O=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ke=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Se,Mc,Nt,ho,ht,Ln,Sr,Pn,ml,qe,po,mo,Ms,_s,Es,dp,hp,pp,mp,yp,gp,wp;class gt extends z0{constructor(){super(...arguments),Se.add(this),Mc.set(this,[]),Nt.set(this,{}),ho.set(this,{}),ht.set(this,void 0),Ln.set(this,void 0),Sr.set(this,void 0),Pn.set(this,void 0),ml.set(this,void 0),qe.set(this,void 0),po.set(this,void 0),mo.set(this,void 0),Ms.set(this,void 0)}[(Mc=new WeakMap,Nt=new WeakMap,ho=new WeakMap,ht=new WeakMap,Ln=new WeakMap,Sr=new WeakMap,Pn=new WeakMap,ml=new WeakMap,qe=new WeakMap,po=new WeakMap,mo=new WeakMap,Ms=new WeakMap,Se=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new gt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Ot.fromReadableStream(t,this.controller);for await(const o of s)O(this,Se,"m",_s).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new yt;return this._addRun(O(this,Se,"m",Es).call(this))}toReadableStream(){return new Ot(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s,i){const o=new gt;return o._run(()=>o._runToolAssistantStream(t,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,r,s,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...s,stream:!0},a=await t.submitToolOutputs(n,r,l,{...i,signal:this.controller.signal});this._connected();for await(const h of a)O(this,Se,"m",_s).call(this,h);if((u=a.controller.signal)!=null&&u.aborted)throw new yt;return this._addRun(O(this,Se,"m",Es).call(this))}static createThreadAssistantStream(t,n,r){const s=new gt;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new gt;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return O(this,po,"f")}currentRun(){return O(this,mo,"f")}currentMessageSnapshot(){return O(this,ht,"f")}currentRunStepSnapshot(){return O(this,Ms,"f")}async finalRunSteps(){return await this.done(),Object.values(O(this,Nt,"f"))}async finalMessages(){return await this.done(),Object.values(O(this,ho,"f"))}async finalRun(){if(await this.done(),!O(this,Ln,"f"))throw Error("Final run was not received.");return O(this,Ln,"f")}async _createThreadAssistantStream(t,n,r){var l;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const a of o)O(this,Se,"m",_s).call(this,a);if((l=o.controller.signal)!=null&&l.aborted)throw new yt;return this._addRun(O(this,Se,"m",Es).call(this))}async _createAssistantStream(t,n,r,s){var a;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await t.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const u of l)O(this,Se,"m",_s).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new yt;return this._addRun(O(this,Se,"m",Es).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(ou(i)&&ou(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!ou(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const a=i[l];a==null?i.push(o):i[l]=this.accumulateDelta(a,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s,i){return await this._createToolAssistantStream(r,t,n,s,i)}}_s=function(t){if(!this.ended)switch(Ke(this,po,t,"f"),O(this,Se,"m",pp).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":O(this,Se,"m",wp).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":O(this,Se,"m",hp).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":O(this,Se,"m",dp).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Es=function(){if(this.ended)throw new B("stream has ended, this shouldn't happen");if(!O(this,Ln,"f"))throw Error("Final run has not been received");return O(this,Ln,"f")},dp=function(t){const[n,r]=O(this,Se,"m",yp).call(this,t,O(this,ht,"f"));Ke(this,ht,n,"f"),O(this,ho,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=O(this,Sr,"f")){if(O(this,Pn,"f"))switch(O(this,Pn,"f").type){case"text":this._emit("textDone",O(this,Pn,"f").text,O(this,ht,"f"));break;case"image_file":this._emit("imageFileDone",O(this,Pn,"f").image_file,O(this,ht,"f"));break}Ke(this,Sr,s.index,"f")}Ke(this,Pn,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(O(this,Sr,"f")!==void 0){const s=t.data.content[O(this,Sr,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,O(this,ht,"f"));break;case"text":this._emit("textDone",s.text,O(this,ht,"f"));break}}O(this,ht,"f")&&this._emit("messageDone",t.data),Ke(this,ht,void 0,"f")}},hp=function(t){const n=O(this,Se,"m",mp).call(this,t);switch(Ke(this,Ms,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==O(this,ml,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(O(this,qe,"f")&&this._emit("toolCallDone",O(this,qe,"f")),Ke(this,ml,i.index,"f"),Ke(this,qe,n.step_details.tool_calls[i.index],"f"),O(this,qe,"f")&&this._emit("toolCallCreated",O(this,qe,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ke(this,Ms,void 0,"f"),t.data.step_details.type=="tool_calls"&&O(this,qe,"f")&&(this._emit("toolCallDone",O(this,qe,"f")),Ke(this,qe,void 0,"f")),this._emit("runStepDone",t.data,n);break}},pp=function(t){O(this,Mc,"f").push(t),this._emit("event",t)},mp=function(t){switch(t.event){case"thread.run.step.created":return O(this,Nt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=O(this,Nt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=gt.accumulateDelta(n,r.delta);O(this,Nt,"f")[t.data.id]=s}return O(this,Nt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":O(this,Nt,"f")[t.data.id]=t.data;break}if(O(this,Nt,"f")[t.data.id])return O(this,Nt,"f")[t.data.id];throw new Error("No snapshot available")},yp=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=O(this,Se,"m",gp).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},gp=function(t,n){return gt.accumulateDelta(n,t)},wp=function(t){switch(Ke(this,mo,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Ke(this,Ln,t.data,"f"),O(this,qe,"f")&&(this._emit("toolCallDone",O(this,qe,"f")),Ke(this,qe,void 0,"f"));break}};class yl extends z{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,cd,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class cd extends bt{}(function(e){e.MessagesPage=cd})(yl||(yl={}));class gl extends z{retrieve(t,n,r,s={},i){return ze(s)?this.retrieve(t,n,r,{},s):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,r={},s){return ze(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,fd,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class fd extends bt{}(function(e){e.RunStepsPage=fd})(gl||(gl={}));class wl extends z{constructor(){super(...arguments),this.steps=new gl(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,dd,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}createAndStream(t,n,r){return gt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await hi(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,r){return gt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,s){const i=await this.submitToolOutputs(t,n,r,s);return await this.poll(t,i.id,s)}submitToolOutputsStream(t,n,r,s){return gt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,s)}}class dd extends bt{}(function(e){e.RunsPage=dd,e.Steps=gl,e.RunStepsPage=fd})(wl||(wl={}));class vl extends z{constructor(){super(...arguments),this.runs=new wl(this._client),this.messages=new yl(this._client)}create(t={},n){return ze(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return gt.createThreadAssistantStream(t,this._client.beta.threads,n)}}(function(e){e.Runs=wl,e.RunsPage=dd,e.Messages=yl,e.MessagesPage=cd})(vl||(vl={}));const ak=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};let Sl=class extends z{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,ma,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(t,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=i.response.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await hi(l);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}};class ma extends bt{}(function(e){e.VectorStoreFilesPage=ma})(Sl||(Sl={}));class _l extends z{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r={},s){return ze(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,ma,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await hi(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),l=this._client,a=n.values(),u=[...r];async function h(d){for(let p of d){const v=await l.files.create({file:p,purpose:"assistants"},s);u.push(v.id)}}const c=Array(o).fill(a).map(h);return await ak(c),await this.createAndPoll(t,{file_ids:u})}}_l||(_l={});class El extends z{constructor(){super(...arguments),this.files=new Sl(this._client),this.fileBatches=new _l(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/vector_stores",hd,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class hd extends bt{}(function(e){e.VectorStoresPage=hd,e.Files=Sl,e.VectorStoreFilesPage=ma,e.FileBatches=_l})(El||(El={}));class kl extends z{constructor(){super(...arguments),this.vectorStores=new El(this._client),this.chat=new pl(this._client),this.assistants=new cl(this._client),this.threads=new vl(this._client)}}(function(e){e.VectorStores=El,e.VectorStoresPage=hd,e.Chat=pl,e.Assistants=cl,e.AssistantsPage=ad,e.Threads=vl})(kl||(kl={}));class bl extends z{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}bl||(bl={});class Cl extends z{create(t,n){return this._client.post("/embeddings",{body:t,...n})}}Cl||(Cl={});class Al extends z{create(t,n){return this._client.post("/files",Wr({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/files",pd,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(t);for(;!o.status||!s.has(o.status);)if(await hi(n),o=await this.retrieve(t),Date.now()-i>r)throw new id({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return o}}class pd extends od{}(function(e){e.FileObjectsPage=pd})(Al||(Al={}));class xl extends z{list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,md,{query:n,...r})}}class md extends bt{}(function(e){e.FineTuningJobCheckpointsPage=md})(xl||(xl={}));class Pl extends z{constructor(){super(...arguments),this.checkpoints=new xl(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",yd,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return ze(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,gd,{query:n,...r})}}class yd extends bt{}class gd extends bt{}(function(e){e.FineTuningJobsPage=yd,e.FineTuningJobEventsPage=gd,e.Checkpoints=xl,e.FineTuningJobCheckpointsPage=md})(Pl||(Pl={}));class Nl extends z{constructor(){super(...arguments),this.jobs=new Pl(this._client)}}(function(e){e.Jobs=Pl,e.FineTuningJobsPage=yd,e.FineTuningJobEventsPage=gd})(Nl||(Nl={}));class Il extends z{createVariation(t,n){return this._client.post("/images/variations",Wr({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Wr({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}Il||(Il={});class Ol extends z{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",wd,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class wd extends od{}(function(e){e.ModelsPage=wd})(Ol||(Ol={}));class Rl extends z{create(t,n){return this._client.post("/moderations",{body:t,...n})}}Rl||(Rl={});class Tl extends z{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,Wr({body:n,...r}))}}Tl||(Tl={});class $l extends z{constructor(){super(...arguments),this.parts=new Tl(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}(function(e){e.Parts=Tl})($l||($l={}));var lw;class oe extends xE{constructor({baseURL:t=Ki("OPENAI_BASE_URL"),apiKey:n=Ki("OPENAI_API_KEY"),organization:r=Ki("OPENAI_ORG_ID")??null,project:s=Ki("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new B("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&jE())throw new B(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new bl(this),this.chat=new sl(this),this.embeddings=new Cl(this),this.files=new Al(this),this.images=new Il(this),this.audio=new al(this),this.moderations=new Rl(this),this.models=new Ol(this),this.fineTuning=new Nl(this),this.beta=new kl(this),this.batches=new ul(this),this.uploads=new $l(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return XE(t,{arrayFormat:"brackets"})}}lw=oe;oe.OpenAI=lw;oe.DEFAULT_TIMEOUT=6e5;oe.OpenAIError=B;oe.APIError=ke;oe.APIConnectionError=pa;oe.APIConnectionTimeoutError=id;oe.APIUserAbortError=yt;oe.NotFoundError=N0;oe.ConflictError=I0;oe.RateLimitError=R0;oe.BadRequestError=A0;oe.AuthenticationError=x0;oe.InternalServerError=T0;oe.PermissionDeniedError=P0;oe.UnprocessableEntityError=O0;oe.toFile=S0;oe.fileFromPath=m0;(function(e){e.Page=od,e.CursorPage=bt,e.Completions=bl,e.Chat=sl,e.Embeddings=Cl,e.Files=Al,e.FileObjectsPage=pd,e.Images=Il,e.Audio=al,e.Moderations=Rl,e.Models=Ol,e.ModelsPage=wd,e.FineTuning=Nl,e.Beta=kl,e.Batches=ul,e.BatchesPage=ld,e.Uploads=$l})(oe||(oe={}));let pu=null;const uk=()=>{if(!pu){let t=localStorage.getItem("openai_api_key");if(!t)if(t=prompt("Please enter your OpenAI API key:"),t)localStorage.setItem("openai_api_key",t),console.log(" API key saved to local storage");else throw console.error(" No API key provided"),new Error("OpenAI API key is required");pu=new oe({apiKey:t,dangerouslyAllowBrowser:!0}),console.log(" OpenAI instance created")}return pu};async function vp(e){const t=uk(),n=o0();console.log(" Sending request to OpenAI");const r=await t.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:n},{role:"user",content:e}],response_format:{type:"json_object"},functions:[{name:"generate_actions",description:"Generate a list of actions based on the user's request",parameters:l0}],function_call:{name:"generate_actions"}});console.log(" Received response from OpenAI");const s=r.choices[0].message.function_call;if(s&&s.name==="generate_actions")return JSON.parse(s.arguments||"{}");throw new Error("Unexpected response format from OpenAI")}function aw(){const e=q.stage.width,t=q.stage.height,n=`
    - top left corner: ${-e/2}x${-t/2}
    - bottom right corner: ${e/2}x${t/2}
  `,r=Bc(JSON.parse(JSON.stringify(q.entities))),s=`
`+nl.stringify(r,{});return`
You are an AI assistant that generates javascript code snippets for a game engine using the magicApi to directly manipulate the game world and achieve what the user asked.

Available magicApi methods:
- getAllEntities(): StageEntityProps[]
- findEntityById(id: string): StageEntityProps | undefined
- findEntity(condition: (entity: StageEntityProps) => boolean): StageEntityProps | undefined
- getEntityBehavior<T extends keyof BuiltInBehaviorsPropsDictionary>(entityOrId: StageEntityProps | string, behaviorType: T): BuiltInBehaviorsPropsDictionary[T] | undefined
- addEntity(entityProps: StageEntityProps): void
- removeEntity(entityId: string): void
- updateEntity(entityId: string, updates: Partial<StageEntityProps>): void
- addBehavior(entityId: string, behaviorProps: BuiltInBehaviorBlueprint): void
- removeBehavior(entityId: string, behaviorType: string): void
- updateBehavior(entityId: string, behaviorType: string, updates: Partial<BehaviorProps>): void
- clearWorld(): void
- selectEntities(entityIds: string[]): void
- deselectEntities(entityIds: string[]): void
- clearSelection(): void

Built-in behaviors:
- RenderCircle: { type: "RenderCircle", radius: number }
- ChangeColor: { type: "ChangeColor", color: string }
- SimplifyMesh: { type: "SimplifyMesh", sides: number }
- CustomBehavior: { type: "CustomBehavior", name: string, update?: string, [extrakeys: string]: any }
- RenderEmoji: { type: "RenderEmoji", emoji: string, fontSize?: number }

Current state of the world:

Stage bounds: ${n}

Entities in the world: 
${s}

Current selection (entity ids): [${ve.selectedEntityIds.join(", ")}]

When responding to user requests, write JavaScript code using the magicApi to perform the desired actions. Here are some examples:

Example 1: Add a red circle to the world
\`\`\`js
console.log(' Adding a red circle to the world');
magicApi.addEntity({
  uuid: crypto.randomUUID(),
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderCircle", radius: 10 },
    { type: "ChangeColor", color: "red" }
  ]
});
\`\`\`

Example 2: Select the blue circle and make it bigger and darker
\`\`\`js
const blueCircle = magicApi.findEntity(entity => 
  magicApi.getEntityBehavior(entity, "ChangeColor")?.color === "blue"
);

if (blueCircle) {
  magicApi.selectEntities([blueCircle.uuid]);
  magicApi.updateEntity(blueCircle.uuid, { scale: blueCircle.scale * 2 });
  magicApi.updateBehavior(blueCircle.uuid, "ChangeColor", { color: "darkblue" });
} else {
  console.log(' Blue circle not found');
}
\`\`\`

Example 3: Make the heart pulse
\`\`\`js
console.log(' Adding pulse behavior to the heart');
const heart = magicApi.findEntity(entity => 
  magicApi.getEntityBehavior(entity, "RenderEmoji")?.emoji === ""
);

if (heart) {
  magicApi.addBehavior(heart.uuid, {
    type: "CustomBehavior",
    name: "Pulse",
    pulseSpeed: 1.1,
    pulseAmplitude: 0.1,
    update: \`
      const originalScale = 1;
      entity.scale = originalScale + Math.sin(totalTime * this.pulseSpeed) * this.pulseAmplitude;
    \`
  });
  console.log(' Pulse behavior added to the heart');
} else {
  console.log(' Heart emoji not found');
}
\`\`\`

Example 4: Create a bouncing ball
\`\`\`js
console.log(' Creating a bouncing ball');
magicApi.addEntity({
  uuid: crypto.randomUUID(),
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderCircle", radius: 20 },
    { type: "ChangeColor", color: "orange" },
    {
      type: "CustomBehavior",
      name: "Bounce",
      bounceHeight: 100,
      bounceSpeed: 0.005,
      update: \`
        entity.y = Math.abs(Math.sin(totalTime * this.bounceSpeed)) * this.bounceHeight;
      \`
    }
  ]
});
console.log(' Bouncing ball created');
\`\`\`

Example 5: Add a shaking emoji
\`\`\`js
console.log(' Adding a shaking emoji');
magicApi.addEntity({
  uuid: crypto.randomUUID(),
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderEmoji", emoji: "", fontSize: 40 },
    {
      type: "CustomBehavior",
      name: "Shake",
      intensity: 4,
      update: \`
        entity.x += (Math.random() - 0.5) * this.intensity;
        entity.y += (Math.random() - 0.5) * this.intensity;
      \`
    }
  ]
});
console.log(' Shaking emoji added');
\`\`\`

Example 6: Create a color-changing polygon
\`\`\`js
console.log(' Creating a color-changing polygon');
magicApi.addEntity({
  uuid: crypto.randomUUID(),
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "SimplifyMesh", sides: 6 },
    {
      type: "CustomBehavior",
      name: "ColorCycle",
      cycleSpeed: 0.1,
      update: \`
        const hue = (totalTime * this.cycleSpeed) % 360;
        magicApi.updateBehavior(entity.uuid, "ChangeColor", { color: \`hsl(\${hue}, 100%, 50%)\` });
      \`
    }
  ]
});
console.log(' Color-changing polygon created');
\`\`\`

Example 7: Make all entities rotate
\`\`\`js
console.log(' Making all entities rotate');
const entities = magicApi.getAllEntities();
entities.forEach(entity => {
  magicApi.addBehavior(entity.uuid, {
    type: "CustomBehavior",
    name: "Rotate",
    rotationSpeed: 0.01,
    update: \`
      entity.rotation += this.rotationSpeed;
    \`
  });
});
console.log(\` Rotation behavior added to \${entities.length} entities\`);
\`\`\`

Example 8: Clear the world and add random emojis
\`\`\`js
console.log(' Clearing the world and adding random emojis');
magicApi.clearWorld();

const emojis = ["", "", "", "", ""];
const numEmojis = 5;

for (let i = 0; i < numEmojis; i++) {
  const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
  magicApi.addEntity({
    uuid: crypto.randomUUID(),
    x: Math.random() * 800 - 400,
    y: Math.random() * 600 - 300,
    rotation: 0,
    scale: 1,
    behaviors: [
      { type: "RenderEmoji", emoji: randomEmoji, fontSize: 40 }
    ]
  });
}
console.log(\` World cleared and \${numEmojis} random emojis added\`);
\`\`\`

Remember to use functional programming concepts and write clean and concise JavaScript code. Always include appropriate console logs with emojis to make debugging easier.
`}function Bc(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(n=>Bc(n));const t={};for(const[n,r]of Object.entries(e))typeof r=="number"?t[n]=Math.round(r):typeof r=="object"?t[n]=Bc(r):t[n]=r;return t}let mu=null,yu=null;const ck=()=>{if(!mu){const e=localStorage.getItem("openai_api_key")||prompt("Please enter your OpenAI API key:");if(!e)throw new Error("OpenAI API key is required");localStorage.setItem("openai_api_key",e),mu=new oe({apiKey:e,dangerouslyAllowBrowser:!0}),console.log(" OpenAI instance created")}return mu},fk=()=>{if(!yu){const e=localStorage.getItem("groq_api_key")||prompt("Please enter your GROQ API key:");if(!e)throw new Error("GROQ API key is required");localStorage.setItem("groq_api_key",e),yu=new ie({apiKey:e,dangerouslyAllowBrowser:!0}),console.log(" GROQ instance created")}return yu},uw={type:"object",properties:{snippet:{type:"string",description:"The JavaScript code snippet to be executed"}},required:["snippet"]};async function dk(e){const t=ck(),n=aw();console.log(" Sending request to OpenAI");const r=await t.chat.completions.create({model:"gpt-4-turbo-preview",messages:[{role:"system",content:n},{role:"user",content:e}],functions:[{name:"generate_snippet",description:"Generate a JavaScript code snippet based on the user's request/",parameters:uw}],function_call:{name:"generate_snippet"}});console.log(" Received response from OpenAI");const s=r.choices[0].message.function_call;if(s&&s.name==="generate_snippet")return JSON.parse(s.arguments||"{}").snippet||"";throw new Error("Unexpected response format from OpenAI")}async function hk(e){var o,l;const t=fk(),n=`${aw()}

Please generate a JavaScript code snippet based on the user's request. Your response should be a JSON object that strictly adheres to the following schema:

${JSON.stringify(uw,null,2)}

Respond only with the JSON object, without any additional text.`;console.log(" Sending request to GROQ");const r=await t.chat.completions.create({model:"mixtral-8x7b-32768",messages:[{role:"system",content:n},{role:"user",content:e}],response_format:{type:"json_object"}});console.log(" Received response from GROQ");const s=(l=(o=r.choices[0])==null?void 0:o.message)==null?void 0:l.content;if(!s)throw new Error("Unexpected response format from GROQ");return JSON.parse(s).snippet||""}const jc={getAllEntities:()=>q.entities,findEntityById:e=>q.entities.find(t=>t.uuid===e),findEntity:e=>q.entities.find(e),getEntityBehavior:(e,t)=>{const n=typeof e=="string"?jc.findEntityById(e):e;if(n)return sd(n,t)},addEntity:e=>{console.log(" Adding entity:",e.uuid),Z.addEntity(e)},removeEntity:e=>{console.log(" Removing entity:",e),Z.removeEntity(e)},updateEntity:(e,t)=>{console.log(" Updating entity:",e);const n=Z.getEntity(e);if(!n)throw new Error("Entity not found");Object.assign(n,t)},addBehavior:(e,t)=>{console.log(" Adding behavior to entity:",e),Z.addBehaviorToEntity(e,t)},removeBehavior:(e,t)=>{console.log(" Removing behavior from entity:",e),Z.removeBehaviorFromEntity(e,t)},updateBehavior:(e,t,n)=>{console.log(" Updating behavior for entity:",e);const r=Z.getEntity(e);if(!r)throw new Error("Entity not found");const s=r.behaviors.findIndex(o=>o.type===t),i=r.behaviors[s];if(i)Object.assign(i,n);else{const o={type:t,...n,uuid:crypto.randomUUID()};r.behaviors.push(o)}},clearWorld:()=>{console.log(" Clearing the world"),Z.clearWorld()},selectEntities:e=>{console.log(" Selecting entities:",e),St.setSelectedEntityIds(e)},deselectEntities:e=>{console.log(" Deselecting entities:",e),St.removeSelectedEntityIds(e)},clearSelection:()=>{console.log(" Clearing entity selection"),St.clearSelection()}};async function pk(){console.log(" Debug initialized");const e={openai:vp,groq:bc},t={openai:dk,groq:hk};Object.assign(window,{worldDataState:q,worldDataStateActions:Z,getActionsFromOpenAI:vp,getActionsFromGroq:bc,magicApi:jc,go:async(n,r="groq")=>{const s=e[r],i=await s(n);for(const o of i.actions)await mk(),a0(o);console.log(" Received actions from OpenAI:",i)},snip:async(n,r="groq")=>{const s=t[r],i=await s(n);console.log(" Received code snippet:"),console.log(i);try{const l=await new Function("magicApi",`
          return (async () => {
            ${i}
          })();
        `)(jc);console.log(" Snippet executed successfully"),console.log("Result:",l)}catch(o){console.error(" Error executing snippet:",o)}}})}const mk=()=>new Promise(e=>requestAnimationFrame(e));Ry(document.getElementById("root")).render(A.jsx(j.StrictMode,{children:A.jsx(cE,{})}));requestAnimationFrame(pk);
