(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var wp={exports:{}},Ml={},vp={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=Symbol.for("react.element"),dw=Symbol.for("react.portal"),hw=Symbol.for("react.fragment"),pw=Symbol.for("react.strict_mode"),mw=Symbol.for("react.profiler"),yw=Symbol.for("react.provider"),gw=Symbol.for("react.context"),ww=Symbol.for("react.forward_ref"),vw=Symbol.for("react.suspense"),Sw=Symbol.for("react.memo"),_w=Symbol.for("react.lazy"),yd=Symbol.iterator;function kw(e){return e===null||typeof e!="object"?null:(e=yd&&e[yd]||e["@@iterator"],typeof e=="function"?e:null)}var Sp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_p=Object.assign,kp={};function Vr(e,t,n){this.props=e,this.context=t,this.refs=kp,this.updater=n||Sp}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ep(){}Ep.prototype=Vr.prototype;function Bc(e,t,n){this.props=e,this.context=t,this.refs=kp,this.updater=n||Sp}var Dc=Bc.prototype=new Ep;Dc.constructor=Bc;_p(Dc,Vr.prototype);Dc.isPureReactComponent=!0;var gd=Array.isArray,bp=Object.prototype.hasOwnProperty,jc={current:null},Cp={key:!0,ref:!0,__self:!0,__source:!0};function xp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)bp.call(t,r)&&!Cp.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:oi,type:e,key:i,ref:o,props:s,_owner:jc.current}}function Ew(e,t){return{$$typeof:oi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fc(e){return typeof e=="object"&&e!==null&&e.$$typeof===oi}function bw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wd=/\/+/g;function Ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bw(""+e.key):t.toString(36)}function Ji(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case oi:case dw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ea(o,0):r,gd(s)?(n="",e!=null&&(n=e.replace(wd,"$&/")+"/"),Ji(s,t,n,"",function(u){return u})):s!=null&&(Fc(s)&&(s=Ew(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",gd(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Ea(i,l);o+=Ji(i,t,n,a,s)}else if(a=kw(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Ea(i,l++),o+=Ji(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Si(e,t,n){if(e==null)return e;var r=[],s=0;return Ji(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Cw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},Xi={transition:null},xw={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Xi,ReactCurrentOwner:jc};function Pp(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Si,forEach:function(e,t,n){Si(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Si(e,function(){t++}),t},toArray:function(e){return Si(e,function(t){return t})||[]},only:function(e){if(!Fc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Vr;B.Fragment=hw;B.Profiler=mw;B.PureComponent=Bc;B.StrictMode=pw;B.Suspense=vw;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xw;B.act=Pp;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_p({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=jc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)bp.call(t,a)&&!Cp.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:oi,type:e.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:gw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yw,_context:e},e.Consumer=e};B.createElement=xp;B.createFactory=function(e){var t=xp.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:ww,render:e}};B.isValidElement=Fc;B.lazy=function(e){return{$$typeof:_w,_payload:{_status:-1,_result:e},_init:Cw}};B.memo=function(e,t){return{$$typeof:Sw,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Xi.transition;Xi.transition={};try{e()}finally{Xi.transition=t}};B.unstable_act=Pp;B.useCallback=function(e,t){return Te.current.useCallback(e,t)};B.useContext=function(e){return Te.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};B.useEffect=function(e,t){return Te.current.useEffect(e,t)};B.useId=function(){return Te.current.useId()};B.useImperativeHandle=function(e,t,n){return Te.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Te.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Te.current.useReducer(e,t,n)};B.useRef=function(e){return Te.current.useRef(e)};B.useState=function(e){return Te.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Te.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Te.current.useTransition()};B.version="18.3.1";vp.exports=B;var $=vp.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=$,Aw=Symbol.for("react.element"),Nw=Symbol.for("react.fragment"),Ow=Object.prototype.hasOwnProperty,Rw=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Iw={key:!0,ref:!0,__self:!0,__source:!0};function Ap(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ow.call(t,r)&&!Iw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Aw,type:e,key:i,ref:o,props:s,_owner:Rw.current}}Ml.Fragment=Nw;Ml.jsx=Ap;Ml.jsxs=Ap;wp.exports=Ml;var C=wp.exports,Np={exports:{}},Ge={},Op={exports:{}},Rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,L){var M=N.length;N.push(L);e:for(;0<M;){var se=M-1>>>1,he=N[se];if(0<s(he,L))N[se]=L,N[M]=he,M=se;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var L=N[0],M=N.pop();if(M!==L){N[0]=M;e:for(var se=0,he=N.length,wi=he>>>1;se<wi;){var kn=2*(se+1)-1,ka=N[kn],En=kn+1,vi=N[En];if(0>s(ka,M))En<he&&0>s(vi,ka)?(N[se]=vi,N[En]=M,se=En):(N[se]=ka,N[kn]=M,se=kn);else if(En<he&&0>s(vi,M))N[se]=vi,N[En]=M,se=En;else break e}}return L}function s(N,L){var M=N.sortIndex-L.sortIndex;return M!==0?M:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,c=null,f=3,p=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=N)r(u),L.sortIndex=L.expirationTime,t(a,L);else break;L=n(u)}}function S(N){if(y=!1,g(N),!v)if(n(a)!==null)v=!0,Sa(k);else{var L=n(u);L!==null&&_a(S,L.startTime-N)}}function k(N,L){v=!1,y&&(y=!1,m(E),E=-1),p=!0;var M=f;try{for(g(L),c=n(a);c!==null&&(!(c.expirationTime>L)||N&&!I());){var se=c.callback;if(typeof se=="function"){c.callback=null,f=c.priorityLevel;var he=se(c.expirationTime<=L);L=e.unstable_now(),typeof he=="function"?c.callback=he:c===n(a)&&r(a),g(L)}else r(a);c=n(a)}if(c!==null)var wi=!0;else{var kn=n(u);kn!==null&&_a(S,kn.startTime-L),wi=!1}return wi}finally{c=null,f=M,p=!1}}var _=!1,b=null,E=-1,O=5,P=-1;function I(){return!(e.unstable_now()-P<O)}function F(){if(b!==null){var N=e.unstable_now();P=N;var L=!0;try{L=b(!0,N)}finally{L?et():(_=!1,b=null)}}else _=!1}var et;if(typeof d=="function")et=function(){d(F)};else if(typeof MessageChannel<"u"){var yi=new MessageChannel,gi=yi.port2;yi.port1.onmessage=F,et=function(){gi.postMessage(null)}}else et=function(){w(F,0)};function Sa(N){b=N,_||(_=!0,et())}function _a(N,L){E=w(function(){N(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,Sa(k))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var M=f;f=L;try{return N()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=f;f=N;try{return L()}finally{f=M}},e.unstable_scheduleCallback=function(N,L,M){var se=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?se+M:se):M=se,N){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=M+he,N={id:h++,callback:L,priorityLevel:N,startTime:M,expirationTime:he,sortIndex:-1},M>se?(N.sortIndex=M,t(u,N),n(a)===null&&N===n(u)&&(y?(m(E),E=-1):y=!0,_a(S,M-se))):(N.sortIndex=he,t(a,N),v||p||(v=!0,Sa(k))),N},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(N){var L=f;return function(){var M=f;f=L;try{return N.apply(this,arguments)}finally{f=M}}}})(Rp);Op.exports=Rp;var Tw=Op.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w=$,Ye=Tw;function x(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ip=new Set,Bs={};function Vn(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(Bs[e]=t,e=0;e<t.length;e++)Ip.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gu=Object.prototype.hasOwnProperty,Lw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vd={},Sd={};function Mw(e){return gu.call(Sd,e)?!0:gu.call(vd,e)?!1:Lw.test(e)?Sd[e]=!0:(vd[e]=!0,!1)}function Bw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dw(e,t,n,r){if(t===null||typeof t>"u"||Bw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uc=/[\-:]([a-z])/g;function zc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uc,zc);ke[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uc,zc);ke[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uc,zc);ke[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kc(e,t,n,r){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dw(t,n,s,r)&&(n=null),r||s===null?Mw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qt=$w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_i=Symbol.for("react.element"),rr=Symbol.for("react.portal"),sr=Symbol.for("react.fragment"),Wc=Symbol.for("react.strict_mode"),wu=Symbol.for("react.profiler"),Tp=Symbol.for("react.provider"),$p=Symbol.for("react.context"),Vc=Symbol.for("react.forward_ref"),vu=Symbol.for("react.suspense"),Su=Symbol.for("react.suspense_list"),qc=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Lp=Symbol.for("react.offscreen"),_d=Symbol.iterator;function es(e){return e===null||typeof e!="object"?null:(e=_d&&e[_d]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,ba;function us(e){if(ba===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ba=t&&t[1]||""}return`
`+ba+e}var Ca=!1;function xa(e,t){if(!e||Ca)return"";Ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ca=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?us(e):""}function jw(e){switch(e.tag){case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return e=xa(e.type,!1),e;case 11:return e=xa(e.type.render,!1),e;case 1:return e=xa(e.type,!0),e;default:return""}}function _u(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sr:return"Fragment";case rr:return"Portal";case wu:return"Profiler";case Wc:return"StrictMode";case vu:return"Suspense";case Su:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $p:return(e.displayName||"Context")+".Consumer";case Tp:return(e._context.displayName||"Context")+".Provider";case Vc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qc:return t=e.displayName||null,t!==null?t:_u(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return _u(e(t))}catch{}}return null}function Fw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _u(t);case 8:return t===Wc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uw(e){var t=Mp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ki(e){e._valueTracker||(e._valueTracker=Uw(e))}function Bp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ku(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dp(e,t){t=t.checked,t!=null&&Kc(e,"checked",t,!1)}function Eu(e,t){Dp(e,t);var n=pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bu(e,t.type,n):t.hasOwnProperty("defaultValue")&&bu(e,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ed(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function bu(e,t,n){(t!=="number"||wo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cs=Array.isArray;function _r(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Cu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(x(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(x(92));if(cs(n)){if(1<n.length)throw Error(x(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pn(n)}}function jp(e,t){var n=pn(t.value),r=pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Cd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ei,Up=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ei=Ei||document.createElement("div"),Ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ds(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zw=["Webkit","ms","Moz","O"];Object.keys(Es).forEach(function(e){zw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Es[t]=Es[e]})});function zp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Es.hasOwnProperty(e)&&Es[e]?(""+t).trim():t+"px"}function Kp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Kw=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pu(e,t){if(t){if(Kw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(x(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(x(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(x(61))}if(t.style!=null&&typeof t.style!="object")throw Error(x(62))}}function Au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=null;function Hc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ou=null,kr=null,Er=null;function xd(e){if(e=ui(e)){if(typeof Ou!="function")throw Error(x(280));var t=e.stateNode;t&&(t=Ul(t),Ou(e.stateNode,e.type,t))}}function Wp(e){kr?Er?Er.push(e):Er=[e]:kr=e}function Vp(){if(kr){var e=kr,t=Er;if(Er=kr=null,xd(e),t)for(e=0;e<t.length;e++)xd(t[e])}}function qp(e,t){return e(t)}function Hp(){}var Pa=!1;function Qp(e,t,n){if(Pa)return e(t,n);Pa=!0;try{return qp(e,t,n)}finally{Pa=!1,(kr!==null||Er!==null)&&(Hp(),Vp())}}function js(e,t){var n=e.stateNode;if(n===null)return null;var r=Ul(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(x(231,t,typeof n));return n}var Ru=!1;if(Wt)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){Ru=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{Ru=!1}function Ww(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var bs=!1,vo=null,So=!1,Iu=null,Vw={onError:function(e){bs=!0,vo=e}};function qw(e,t,n,r,s,i,o,l,a){bs=!1,vo=null,Ww.apply(Vw,arguments)}function Hw(e,t,n,r,s,i,o,l,a){if(qw.apply(this,arguments),bs){if(bs){var u=vo;bs=!1,vo=null}else throw Error(x(198));So||(So=!0,Iu=u)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pd(e){if(qn(e)!==e)throw Error(x(188))}function Qw(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(x(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pd(s),e;if(i===r)return Pd(s),t;i=i.sibling}throw Error(x(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?e:t}function Xp(e){return e=Qw(e),e!==null?Yp(e):null}function Yp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yp(e);if(t!==null)return t;e=e.sibling}return null}var Gp=Ye.unstable_scheduleCallback,Ad=Ye.unstable_cancelCallback,Jw=Ye.unstable_shouldYield,Xw=Ye.unstable_requestPaint,ie=Ye.unstable_now,Yw=Ye.unstable_getCurrentPriorityLevel,Qc=Ye.unstable_ImmediatePriority,Zp=Ye.unstable_UserBlockingPriority,_o=Ye.unstable_NormalPriority,Gw=Ye.unstable_LowPriority,em=Ye.unstable_IdlePriority,Bl=null,Rt=null;function Zw(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Bl,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:n1,e1=Math.log,t1=Math.LN2;function n1(e){return e>>>=0,e===0?32:31-(e1(e)/t1|0)|0}var bi=64,Ci=4194304;function fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ko(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=fs(l):(i&=o,i!==0&&(r=fs(i)))}else o=n&~s,o!==0?r=fs(o):i!==0&&(r=fs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),s=1<<n,r|=e[n],t&=~s;return r}function r1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=r1(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Tu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tm(){var e=bi;return bi<<=1,!(bi&4194240)&&(bi=64),e}function Aa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function li(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function i1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Jc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var U=0;function nm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rm,Xc,sm,im,om,$u=!1,xi=[],rn=null,sn=null,on=null,Fs=new Map,Us=new Map,Zt=[],o1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nd(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(t.pointerId)}}function ns(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ui(t),t!==null&&Xc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function l1(e,t,n,r,s){switch(t){case"focusin":return rn=ns(rn,e,t,n,r,s),!0;case"dragenter":return sn=ns(sn,e,t,n,r,s),!0;case"mouseover":return on=ns(on,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fs.set(i,ns(Fs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Us.set(i,ns(Us.get(i)||null,e,t,n,r,s)),!0}return!1}function lm(e){var t=An(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=Jp(n),t!==null){e.blockedOn=t,om(e.priority,function(){sm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Nu=r,n.target.dispatchEvent(r),Nu=null}else return t=ui(n),t!==null&&Xc(t),e.blockedOn=n,!1;t.shift()}return!0}function Od(e,t,n){Yi(e)&&n.delete(t)}function a1(){$u=!1,rn!==null&&Yi(rn)&&(rn=null),sn!==null&&Yi(sn)&&(sn=null),on!==null&&Yi(on)&&(on=null),Fs.forEach(Od),Us.forEach(Od)}function rs(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,a1)))}function zs(e){function t(s){return rs(s,e)}if(0<xi.length){rs(xi[0],e);for(var n=1;n<xi.length;n++){var r=xi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&rs(rn,e),sn!==null&&rs(sn,e),on!==null&&rs(on,e),Fs.forEach(t),Us.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)lm(n),n.blockedOn===null&&Zt.shift()}var br=Qt.ReactCurrentBatchConfig,Eo=!0;function u1(e,t,n,r){var s=U,i=br.transition;br.transition=null;try{U=1,Yc(e,t,n,r)}finally{U=s,br.transition=i}}function c1(e,t,n,r){var s=U,i=br.transition;br.transition=null;try{U=4,Yc(e,t,n,r)}finally{U=s,br.transition=i}}function Yc(e,t,n,r){if(Eo){var s=Lu(e,t,n,r);if(s===null)Da(e,t,r,bo,n),Nd(e,r);else if(l1(s,e,t,n,r))r.stopPropagation();else if(Nd(e,r),t&4&&-1<o1.indexOf(e)){for(;s!==null;){var i=ui(s);if(i!==null&&rm(i),i=Lu(e,t,n,r),i===null&&Da(e,t,r,bo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Da(e,t,r,null,n)}}var bo=null;function Lu(e,t,n,r){if(bo=null,e=Hc(r),e=An(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bo=e,null}function am(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yw()){case Qc:return 1;case Zp:return 4;case _o:case Gw:return 16;case em:return 536870912;default:return 16}default:return 16}}var tn=null,Gc=null,Gi=null;function um(){if(Gi)return Gi;var e,t=Gc,n=t.length,r,s="value"in tn?tn.value:tn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Gi=s.slice(e,1<r?1-r:void 0)}function Zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Rd(){return!1}function Ze(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pi:Rd,this.isPropagationStopped=Rd,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=Ze(qr),ai=ne({},qr,{view:0,detail:0}),f1=Ze(ai),Na,Oa,ss,Dl=ne({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ef,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(Na=e.screenX-ss.screenX,Oa=e.screenY-ss.screenY):Oa=Na=0,ss=e),Na)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),Id=Ze(Dl),d1=ne({},Dl,{dataTransfer:0}),h1=Ze(d1),p1=ne({},ai,{relatedTarget:0}),Ra=Ze(p1),m1=ne({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),y1=Ze(m1),g1=ne({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w1=Ze(g1),v1=ne({},qr,{data:0}),Td=Ze(v1),S1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=k1[e])?!!t[e]:!1}function ef(){return E1}var b1=ne({},ai,{key:function(e){if(e.key){var t=S1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ef,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C1=Ze(b1),x1=ne({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=Ze(x1),P1=ne({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ef}),A1=Ze(P1),N1=ne({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),O1=Ze(N1),R1=ne({},Dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),I1=Ze(R1),T1=[9,13,27,32],tf=Wt&&"CompositionEvent"in window,Cs=null;Wt&&"documentMode"in document&&(Cs=document.documentMode);var $1=Wt&&"TextEvent"in window&&!Cs,cm=Wt&&(!tf||Cs&&8<Cs&&11>=Cs),Ld=" ",Md=!1;function fm(e,t){switch(e){case"keyup":return T1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function L1(e,t){switch(e){case"compositionend":return dm(t);case"keypress":return t.which!==32?null:(Md=!0,Ld);case"textInput":return e=t.data,e===Ld&&Md?null:e;default:return null}}function M1(e,t){if(ir)return e==="compositionend"||!tf&&fm(e,t)?(e=um(),Gi=Gc=tn=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cm&&t.locale!=="ko"?null:t.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B1[e.type]:t==="textarea"}function hm(e,t,n,r){Wp(r),t=Co(t,"onChange"),0<t.length&&(n=new Zc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xs=null,Ks=null;function D1(e){bm(e,0)}function jl(e){var t=ar(e);if(Bp(t))return e}function j1(e,t){if(e==="change")return t}var pm=!1;if(Wt){var Ia;if(Wt){var Ta="oninput"in document;if(!Ta){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),Ta=typeof Dd.oninput=="function"}Ia=Ta}else Ia=!1;pm=Ia&&(!document.documentMode||9<document.documentMode)}function jd(){xs&&(xs.detachEvent("onpropertychange",mm),Ks=xs=null)}function mm(e){if(e.propertyName==="value"&&jl(Ks)){var t=[];hm(t,Ks,e,Hc(e)),Qp(D1,t)}}function F1(e,t,n){e==="focusin"?(jd(),xs=t,Ks=n,xs.attachEvent("onpropertychange",mm)):e==="focusout"&&jd()}function U1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jl(Ks)}function z1(e,t){if(e==="click")return jl(t)}function K1(e,t){if(e==="input"||e==="change")return jl(t)}function W1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:W1;function Ws(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gu.call(t,s)||!_t(e[s],t[s]))return!1}return!0}function Fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ud(e,t){var n=Fd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fd(n)}}function ym(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ym(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gm(){for(var e=window,t=wo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wo(e.document)}return t}function nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V1(e){var t=gm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ym(n.ownerDocument.documentElement,n)){if(r!==null&&nf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ud(n,i);var o=Ud(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var q1=Wt&&"documentMode"in document&&11>=document.documentMode,or=null,Mu=null,Ps=null,Bu=!1;function zd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bu||or==null||or!==wo(r)||(r=or,"selectionStart"in r&&nf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ps&&Ws(Ps,r)||(Ps=r,r=Co(Mu,"onSelect"),0<r.length&&(t=new Zc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function Ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lr={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},$a={},wm={};Wt&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function Fl(e){if($a[e])return $a[e];if(!lr[e])return e;var t=lr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wm)return $a[e]=t[n];return e}var vm=Fl("animationend"),Sm=Fl("animationiteration"),_m=Fl("animationstart"),km=Fl("transitionend"),Em=new Map,Kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){Em.set(e,t),Vn(t,[e])}for(var La=0;La<Kd.length;La++){var Ma=Kd[La],H1=Ma.toLowerCase(),Q1=Ma[0].toUpperCase()+Ma.slice(1);wn(H1,"on"+Q1)}wn(vm,"onAnimationEnd");wn(Sm,"onAnimationIteration");wn(_m,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(km,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function Wd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Hw(r,t,void 0,e),e.currentTarget=null}function bm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Wd(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Wd(s,l,u),i=a}}}if(So)throw e=Iu,So=!1,Iu=null,e}function q(e,t){var n=t[zu];n===void 0&&(n=t[zu]=new Set);var r=e+"__bubble";n.has(r)||(Cm(t,e,2,!1),n.add(r))}function Ba(e,t,n){var r=0;t&&(r|=4),Cm(n,e,r,t)}var Ni="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[Ni]){e[Ni]=!0,Ip.forEach(function(n){n!=="selectionchange"&&(J1.has(n)||Ba(n,!1,e),Ba(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ni]||(t[Ni]=!0,Ba("selectionchange",!1,t))}}function Cm(e,t,n,r){switch(am(t)){case 1:var s=u1;break;case 4:s=c1;break;default:s=Yc}n=s.bind(null,t,n,e),s=void 0,!Ru||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Da(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=An(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Qp(function(){var u=i,h=Hc(n),c=[];e:{var f=Em.get(e);if(f!==void 0){var p=Zc,v=e;switch(e){case"keypress":if(Zi(n)===0)break e;case"keydown":case"keyup":p=C1;break;case"focusin":v="focus",p=Ra;break;case"focusout":v="blur",p=Ra;break;case"beforeblur":case"afterblur":p=Ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=h1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=A1;break;case vm:case Sm:case _m:p=y1;break;case km:p=O1;break;case"scroll":p=f1;break;case"wheel":p=I1;break;case"copy":case"cut":case"paste":p=w1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$d}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var d=u,g;d!==null;){g=d;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,m!==null&&(S=js(d,m),S!=null&&y.push(qs(d,S,g)))),w)break;d=d.return}0<y.length&&(f=new p(f,v,null,n,h),c.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Nu&&(v=n.relatedTarget||n.fromElement)&&(An(v)||v[Vt]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?An(v):null,v!==null&&(w=qn(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=Id,S="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(y=$d,S="onPointerLeave",m="onPointerEnter",d="pointer"),w=p==null?f:ar(p),g=v==null?f:ar(v),f=new y(S,d+"leave",p,n,h),f.target=w,f.relatedTarget=g,S=null,An(h)===u&&(y=new y(m,d+"enter",v,n,h),y.target=g,y.relatedTarget=w,S=y),w=S,p&&v)t:{for(y=p,m=v,d=0,g=y;g;g=Jn(g))d++;for(g=0,S=m;S;S=Jn(S))g++;for(;0<d-g;)y=Jn(y),d--;for(;0<g-d;)m=Jn(m),g--;for(;d--;){if(y===m||m!==null&&y===m.alternate)break t;y=Jn(y),m=Jn(m)}y=null}else y=null;p!==null&&Vd(c,f,p,y,!1),v!==null&&w!==null&&Vd(c,w,v,y,!0)}}e:{if(f=u?ar(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=j1;else if(Bd(f))if(pm)k=K1;else{k=U1;var _=F1}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=z1);if(k&&(k=k(e,u))){hm(c,k,n,h);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&bu(f,"number",f.value)}switch(_=u?ar(u):window,e){case"focusin":(Bd(_)||_.contentEditable==="true")&&(or=_,Mu=u,Ps=null);break;case"focusout":Ps=Mu=or=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,zd(c,n,h);break;case"selectionchange":if(q1)break;case"keydown":case"keyup":zd(c,n,h)}var b;if(tf)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ir?fm(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(cm&&n.locale!=="ko"&&(ir||E!=="onCompositionStart"?E==="onCompositionEnd"&&ir&&(b=um()):(tn=h,Gc="value"in tn?tn.value:tn.textContent,ir=!0)),_=Co(u,E),0<_.length&&(E=new Td(E,e,null,n,h),c.push({event:E,listeners:_}),b?E.data=b:(b=dm(n),b!==null&&(E.data=b)))),(b=$1?L1(e,n):M1(e,n))&&(u=Co(u,"onBeforeInput"),0<u.length&&(h=new Td("onBeforeInput","beforeinput",null,n,h),c.push({event:h,listeners:u}),h.data=b))}bm(c,t)})}function qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Co(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=js(e,n),i!=null&&r.unshift(qs(e,i,s)),i=js(e,t),i!=null&&r.push(qs(e,i,s))),e=e.return}return r}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=js(n,i),a!=null&&o.unshift(qs(n,a,l))):s||(a=js(n,i),a!=null&&o.push(qs(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var X1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function qd(e){return(typeof e=="string"?e:""+e).replace(X1,`
`).replace(Y1,"")}function Oi(e,t,n){if(t=qd(t),qd(e)!==t&&n)throw Error(x(425))}function xo(){}var Du=null,ju=null;function Fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uu=typeof setTimeout=="function"?setTimeout:void 0,G1=typeof clearTimeout=="function"?clearTimeout:void 0,Hd=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hd<"u"?function(e){return Hd.resolve(null).then(e).catch(ev)}:Uu;function ev(e){setTimeout(function(){throw e})}function ja(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zs(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Hr,Hs="__reactProps$"+Hr,Vt="__reactContainer$"+Hr,zu="__reactEvents$"+Hr,tv="__reactListeners$"+Hr,nv="__reactHandles$"+Hr;function An(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qd(e);e!==null;){if(n=e[Ot])return n;e=Qd(e)}return t}e=n,n=e.parentNode}return null}function ui(e){return e=e[Ot]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(x(33))}function Ul(e){return e[Hs]||null}var Ku=[],ur=-1;function vn(e){return{current:e}}function H(e){0>ur||(e.current=Ku[ur],Ku[ur]=null,ur--)}function V(e,t){ur++,Ku[ur]=e.current,e.current=t}var mn={},Ae=vn(mn),je=vn(!1),Bn=mn;function Mr(e,t){var n=e.type.contextTypes;if(!n)return mn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(e){return e=e.childContextTypes,e!=null}function Po(){H(je),H(Ae)}function Jd(e,t,n){if(Ae.current!==mn)throw Error(x(168));V(Ae,t),V(je,n)}function xm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(x(108,Fw(e)||"Unknown",s));return ne({},n,r)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mn,Bn=Ae.current,V(Ae,e),V(je,je.current),!0}function Xd(e,t,n){var r=e.stateNode;if(!r)throw Error(x(169));n?(e=xm(e,t,Bn),r.__reactInternalMemoizedMergedChildContext=e,H(je),H(Ae),V(Ae,e)):H(je),V(je,n)}var Dt=null,zl=!1,Fa=!1;function Pm(e){Dt===null?Dt=[e]:Dt.push(e)}function rv(e){zl=!0,Pm(e)}function Sn(){if(!Fa&&Dt!==null){Fa=!0;var e=0,t=U;try{var n=Dt;for(U=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dt=null,zl=!1}catch(s){throw Dt!==null&&(Dt=Dt.slice(e+1)),Gp(Qc,Sn),s}finally{U=t,Fa=!1}}return null}var cr=[],fr=0,No=null,Oo=0,tt=[],nt=0,Dn=null,jt=1,Ft="";function bn(e,t){cr[fr++]=Oo,cr[fr++]=No,No=e,Oo=t}function Am(e,t,n){tt[nt++]=jt,tt[nt++]=Ft,tt[nt++]=Dn,Dn=e;var r=jt;e=Ft;var s=32-wt(r)-1;r&=~(1<<s),n+=1;var i=32-wt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,jt=1<<32-wt(t)+s|n<<s|r,Ft=i+e}else jt=1<<i|n<<s|r,Ft=e}function rf(e){e.return!==null&&(bn(e,1),Am(e,1,0))}function sf(e){for(;e===No;)No=cr[--fr],cr[fr]=null,Oo=cr[--fr],cr[fr]=null;for(;e===Dn;)Dn=tt[--nt],tt[nt]=null,Ft=tt[--nt],tt[nt]=null,jt=tt[--nt],tt[nt]=null}var Xe=null,Je=null,J=!1,mt=null;function Nm(e,t){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Je=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dn!==null?{id:jt,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Je=null,!0):!1;default:return!1}}function Wu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vu(e){if(J){var t=Je;if(t){var n=t;if(!Yd(e,t)){if(Wu(e))throw Error(x(418));t=ln(n.nextSibling);var r=Xe;t&&Yd(e,t)?Nm(r,n):(e.flags=e.flags&-4097|2,J=!1,Xe=e)}}else{if(Wu(e))throw Error(x(418));e.flags=e.flags&-4097|2,J=!1,Xe=e}}}function Gd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function Ri(e){if(e!==Xe)return!1;if(!J)return Gd(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fu(e.type,e.memoizedProps)),t&&(t=Je)){if(Wu(e))throw Om(),Error(x(418));for(;t;)Nm(e,t),t=ln(t.nextSibling)}if(Gd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Xe?ln(e.stateNode.nextSibling):null;return!0}function Om(){for(var e=Je;e;)e=ln(e.nextSibling)}function Br(){Je=Xe=null,J=!1}function of(e){mt===null?mt=[e]:mt.push(e)}var sv=Qt.ReactCurrentBatchConfig;function is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,e))}return e}function Ii(e,t){throw e=Object.prototype.toString.call(t),Error(x(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zd(e){var t=e._init;return t(e._payload)}function Rm(e){function t(m,d){if(e){var g=m.deletions;g===null?(m.deletions=[d],m.flags|=16):g.push(d)}}function n(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function s(m,d){return m=fn(m,d),m.index=0,m.sibling=null,m}function i(m,d,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<d?(m.flags|=2,d):g):(m.flags|=2,d)):(m.flags|=1048576,d)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,d,g,S){return d===null||d.tag!==6?(d=Ha(g,m.mode,S),d.return=m,d):(d=s(d,g),d.return=m,d)}function a(m,d,g,S){var k=g.type;return k===sr?h(m,d,g.props.children,S,g.key):d!==null&&(d.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yt&&Zd(k)===d.type)?(S=s(d,g.props),S.ref=is(m,d,g),S.return=m,S):(S=oo(g.type,g.key,g.props,null,m.mode,S),S.ref=is(m,d,g),S.return=m,S)}function u(m,d,g,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Qa(g,m.mode,S),d.return=m,d):(d=s(d,g.children||[]),d.return=m,d)}function h(m,d,g,S,k){return d===null||d.tag!==7?(d=Mn(g,m.mode,S,k),d.return=m,d):(d=s(d,g),d.return=m,d)}function c(m,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ha(""+d,m.mode,g),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case _i:return g=oo(d.type,d.key,d.props,null,m.mode,g),g.ref=is(m,null,d),g.return=m,g;case rr:return d=Qa(d,m.mode,g),d.return=m,d;case Yt:var S=d._init;return c(m,S(d._payload),g)}if(cs(d)||es(d))return d=Mn(d,m.mode,g,null),d.return=m,d;Ii(m,d)}return null}function f(m,d,g,S){var k=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(m,d,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _i:return g.key===k?a(m,d,g,S):null;case rr:return g.key===k?u(m,d,g,S):null;case Yt:return k=g._init,f(m,d,k(g._payload),S)}if(cs(g)||es(g))return k!==null?null:h(m,d,g,S,null);Ii(m,g)}return null}function p(m,d,g,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(g)||null,l(d,m,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _i:return m=m.get(S.key===null?g:S.key)||null,a(d,m,S,k);case rr:return m=m.get(S.key===null?g:S.key)||null,u(d,m,S,k);case Yt:var _=S._init;return p(m,d,g,_(S._payload),k)}if(cs(S)||es(S))return m=m.get(g)||null,h(d,m,S,k,null);Ii(d,S)}return null}function v(m,d,g,S){for(var k=null,_=null,b=d,E=d=0,O=null;b!==null&&E<g.length;E++){b.index>E?(O=b,b=null):O=b.sibling;var P=f(m,b,g[E],S);if(P===null){b===null&&(b=O);break}e&&b&&P.alternate===null&&t(m,b),d=i(P,d,E),_===null?k=P:_.sibling=P,_=P,b=O}if(E===g.length)return n(m,b),J&&bn(m,E),k;if(b===null){for(;E<g.length;E++)b=c(m,g[E],S),b!==null&&(d=i(b,d,E),_===null?k=b:_.sibling=b,_=b);return J&&bn(m,E),k}for(b=r(m,b);E<g.length;E++)O=p(b,m,E,g[E],S),O!==null&&(e&&O.alternate!==null&&b.delete(O.key===null?E:O.key),d=i(O,d,E),_===null?k=O:_.sibling=O,_=O);return e&&b.forEach(function(I){return t(m,I)}),J&&bn(m,E),k}function y(m,d,g,S){var k=es(g);if(typeof k!="function")throw Error(x(150));if(g=k.call(g),g==null)throw Error(x(151));for(var _=k=null,b=d,E=d=0,O=null,P=g.next();b!==null&&!P.done;E++,P=g.next()){b.index>E?(O=b,b=null):O=b.sibling;var I=f(m,b,P.value,S);if(I===null){b===null&&(b=O);break}e&&b&&I.alternate===null&&t(m,b),d=i(I,d,E),_===null?k=I:_.sibling=I,_=I,b=O}if(P.done)return n(m,b),J&&bn(m,E),k;if(b===null){for(;!P.done;E++,P=g.next())P=c(m,P.value,S),P!==null&&(d=i(P,d,E),_===null?k=P:_.sibling=P,_=P);return J&&bn(m,E),k}for(b=r(m,b);!P.done;E++,P=g.next())P=p(b,m,E,P.value,S),P!==null&&(e&&P.alternate!==null&&b.delete(P.key===null?E:P.key),d=i(P,d,E),_===null?k=P:_.sibling=P,_=P);return e&&b.forEach(function(F){return t(m,F)}),J&&bn(m,E),k}function w(m,d,g,S){if(typeof g=="object"&&g!==null&&g.type===sr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case _i:e:{for(var k=g.key,_=d;_!==null;){if(_.key===k){if(k=g.type,k===sr){if(_.tag===7){n(m,_.sibling),d=s(_,g.props.children),d.return=m,m=d;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yt&&Zd(k)===_.type){n(m,_.sibling),d=s(_,g.props),d.ref=is(m,_,g),d.return=m,m=d;break e}n(m,_);break}else t(m,_);_=_.sibling}g.type===sr?(d=Mn(g.props.children,m.mode,S,g.key),d.return=m,m=d):(S=oo(g.type,g.key,g.props,null,m.mode,S),S.ref=is(m,d,g),S.return=m,m=S)}return o(m);case rr:e:{for(_=g.key;d!==null;){if(d.key===_)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(m,d.sibling),d=s(d,g.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else t(m,d);d=d.sibling}d=Qa(g,m.mode,S),d.return=m,m=d}return o(m);case Yt:return _=g._init,w(m,d,_(g._payload),S)}if(cs(g))return v(m,d,g,S);if(es(g))return y(m,d,g,S);Ii(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(m,d.sibling),d=s(d,g),d.return=m,m=d):(n(m,d),d=Ha(g,m.mode,S),d.return=m,m=d),o(m)):n(m,d)}return w}var Dr=Rm(!0),Im=Rm(!1),Ro=vn(null),Io=null,dr=null,lf=null;function af(){lf=dr=Io=null}function uf(e){var t=Ro.current;H(Ro),e._currentValue=t}function qu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t){Io=e,lf=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(lf!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(Io===null)throw Error(x(308));dr=e,Io.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var Nn=null;function cf(e){Nn===null?Nn=[e]:Nn.push(e)}function Tm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,cf(t)):(n.next=s.next,s.next=n),t.interleaved=n,qt(e,r)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gt=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $m(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,j&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,qt(e,n)}return s=r.interleaved,s===null?(t.next=t,cf(r)):(t.next=s.next,s.next=t),r.interleaved=t,qt(e,n)}function eo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jc(e,n)}}function eh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function To(e,t,n,r){var s=e.updateQueue;Gt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(i!==null){var c=s.baseState;o=0,h=u=a=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(f=t,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){c=v.call(p,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,c,f):v,f==null)break e;c=ne({},c,f);break e;case 2:Gt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,a=c):h=h.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Fn|=o,e.lanes=o,e.memoizedState=c}}function th(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(x(191,s));s.call(r)}}}var ci={},It=vn(ci),Qs=vn(ci),Js=vn(ci);function On(e){if(e===ci)throw Error(x(174));return e}function df(e,t){switch(V(Js,t),V(Qs,e),V(It,ci),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xu(t,e)}H(It),V(It,t)}function jr(){H(It),H(Qs),H(Js)}function Lm(e){On(Js.current);var t=On(It.current),n=xu(t,e.type);t!==n&&(V(Qs,e),V(It,n))}function hf(e){Qs.current===e&&(H(It),H(Qs))}var G=vn(0);function $o(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=[];function pf(){for(var e=0;e<Ua.length;e++)Ua[e]._workInProgressVersionPrimary=null;Ua.length=0}var to=Qt.ReactCurrentDispatcher,za=Qt.ReactCurrentBatchConfig,jn=0,ee=null,fe=null,me=null,Lo=!1,As=!1,Xs=0,iv=0;function Ee(){throw Error(x(321))}function mf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function yf(e,t,n,r,s,i){if(jn=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,to.current=e===null||e.memoizedState===null?uv:cv,e=n(r,s),As){i=0;do{if(As=!1,Xs=0,25<=i)throw Error(x(301));i+=1,me=fe=null,t.updateQueue=null,to.current=fv,e=n(r,s)}while(As)}if(to.current=Mo,t=fe!==null&&fe.next!==null,jn=0,me=fe=ee=null,Lo=!1,t)throw Error(x(300));return e}function gf(){var e=Xs!==0;return Xs=0,e}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ee.memoizedState=me=e:me=me.next=e,me}function lt(){if(fe===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=me===null?ee.memoizedState:me.next;if(t!==null)me=t,fe=e;else{if(e===null)throw Error(x(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?ee.memoizedState=me=e:me=me.next=e}return me}function Ys(e,t){return typeof t=="function"?t(e):t}function Ka(e){var t=lt(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var h=u.lane;if((jn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,ee.lanes|=h,Fn|=h}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,_t(r,t.memoizedState)||(De=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ee.lanes|=i,Fn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wa(e){var t=lt(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);_t(i,t.memoizedState)||(De=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Mm(){}function Bm(e,t){var n=ee,r=lt(),s=t(),i=!_t(r.memoizedState,s);if(i&&(r.memoizedState=s,De=!0),r=r.queue,wf(Fm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Gs(9,jm.bind(null,n,r,s,t),void 0,null),ye===null)throw Error(x(349));jn&30||Dm(n,t,s)}return s}function Dm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jm(e,t,n,r){t.value=n,t.getSnapshot=r,Um(t)&&zm(e)}function Fm(e,t,n){return n(function(){Um(t)&&zm(e)})}function Um(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function zm(e){var t=qt(e,1);t!==null&&vt(t,e,1,-1)}function nh(e){var t=Pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:e},t.queue=e,e=e.dispatch=av.bind(null,ee,e),[t.memoizedState,e]}function Gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Km(){return lt().memoizedState}function no(e,t,n,r){var s=Pt();ee.flags|=e,s.memoizedState=Gs(1|t,n,void 0,r===void 0?null:r)}function Kl(e,t,n,r){var s=lt();r=r===void 0?null:r;var i=void 0;if(fe!==null){var o=fe.memoizedState;if(i=o.destroy,r!==null&&mf(r,o.deps)){s.memoizedState=Gs(t,n,i,r);return}}ee.flags|=e,s.memoizedState=Gs(1|t,n,i,r)}function rh(e,t){return no(8390656,8,e,t)}function wf(e,t){return Kl(2048,8,e,t)}function Wm(e,t){return Kl(4,2,e,t)}function Vm(e,t){return Kl(4,4,e,t)}function qm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hm(e,t,n){return n=n!=null?n.concat([e]):null,Kl(4,4,qm.bind(null,t,e),n)}function vf(){}function Qm(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jm(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xm(e,t,n){return jn&21?(_t(n,t)||(n=tm(),ee.lanes|=n,Fn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=n)}function ov(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var r=za.transition;za.transition={};try{e(!1),t()}finally{U=n,za.transition=r}}function Ym(){return lt().memoizedState}function lv(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gm(e))Zm(t,n);else if(n=Tm(e,t,n,r),n!==null){var s=Ie();vt(n,e,r,s),ey(n,t,r)}}function av(e,t,n){var r=cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gm(e))Zm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,_t(l,o)){var a=t.interleaved;a===null?(s.next=s,cf(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Tm(e,t,s,r),n!==null&&(s=Ie(),vt(n,e,r,s),ey(n,t,r))}}function Gm(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Zm(e,t){As=Lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ey(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jc(e,n)}}var Mo={readContext:ot,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},uv={readContext:ot,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:rh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,no(4194308,4,qm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return no(4194308,4,e,t)},useInsertionEffect:function(e,t){return no(4,2,e,t)},useMemo:function(e,t){var n=Pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lv.bind(null,ee,e),[r.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:nh,useDebugValue:vf,useDeferredValue:function(e){return Pt().memoizedState=e},useTransition:function(){var e=nh(!1),t=e[0];return e=ov.bind(null,e[1]),Pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ee,s=Pt();if(J){if(n===void 0)throw Error(x(407));n=n()}else{if(n=t(),ye===null)throw Error(x(349));jn&30||Dm(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,rh(Fm.bind(null,r,i,e),[e]),r.flags|=2048,Gs(9,jm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Pt(),t=ye.identifierPrefix;if(J){var n=Ft,r=jt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=iv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cv={readContext:ot,useCallback:Qm,useContext:ot,useEffect:wf,useImperativeHandle:Hm,useInsertionEffect:Wm,useLayoutEffect:Vm,useMemo:Jm,useReducer:Ka,useRef:Km,useState:function(){return Ka(Ys)},useDebugValue:vf,useDeferredValue:function(e){var t=lt();return Xm(t,fe.memoizedState,e)},useTransition:function(){var e=Ka(Ys)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Mm,useSyncExternalStore:Bm,useId:Ym,unstable_isNewReconciler:!1},fv={readContext:ot,useCallback:Qm,useContext:ot,useEffect:wf,useImperativeHandle:Hm,useInsertionEffect:Wm,useLayoutEffect:Vm,useMemo:Jm,useReducer:Wa,useRef:Km,useState:function(){return Wa(Ys)},useDebugValue:vf,useDeferredValue:function(e){var t=lt();return fe===null?t.memoizedState=e:Xm(t,fe.memoizedState,e)},useTransition:function(){var e=Wa(Ys)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Mm,useSyncExternalStore:Bm,useId:Ym,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wl={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=cn(e),i=zt(r,s);i.payload=t,n!=null&&(i.callback=n),t=an(e,i,s),t!==null&&(vt(t,e,s,r),eo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=cn(e),i=zt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=an(e,i,s),t!==null&&(vt(t,e,s,r),eo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=cn(e),s=zt(n,r);s.tag=2,t!=null&&(s.callback=t),t=an(e,s,r),t!==null&&(vt(t,e,r,n),eo(t,e,r))}};function sh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ws(n,r)||!Ws(s,i):!0}function ty(e,t,n){var r=!1,s=mn,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(s=Fe(t)?Bn:Ae.current,r=t.contextTypes,i=(r=r!=null)?Mr(e,s):mn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ih(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wl.enqueueReplaceState(t,t.state,null)}function Qu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ff(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ot(i):(i=Fe(t)?Bn:Ae.current,s.context=Mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wl.enqueueReplaceState(s,s.state,null),To(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var n="",r=t;do n+=jw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Va(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ju(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dv=typeof WeakMap=="function"?WeakMap:Map;function ny(e,t,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Do||(Do=!0,ic=r),Ju(e,t)},n}function ry(e,t,n){n=zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ju(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ju(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function oh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=xv.bind(null,e,t,n),t.then(e,e))}function lh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ah(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zt(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e)}var hv=Qt.ReactCurrentOwner,De=!1;function Oe(e,t,n,r){t.child=e===null?Im(t,null,n,r):Dr(t,e.child,n,r)}function uh(e,t,n,r,s){n=n.render;var i=t.ref;return Cr(t,s),r=yf(e,t,n,r,i,s),n=gf(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(J&&n&&rf(t),t.flags|=1,Oe(e,t,r,s),t.child)}function ch(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Pf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,sy(e,t,i,r,s)):(e=oo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ws,n(o,r)&&e.ref===t.ref)return Ht(e,t,s)}return t.flags|=1,e=fn(i,r),e.ref=t.ref,e.return=t,t.child=e}function sy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ws(i,r)&&e.ref===t.ref)if(De=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,Ht(e,t,s)}return Xu(e,t,n,r,s)}function iy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(pr,He),He|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(pr,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(pr,He),He|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,V(pr,He),He|=r;return Oe(e,t,s,n),t.child}function oy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xu(e,t,n,r,s){var i=Fe(n)?Bn:Ae.current;return i=Mr(t,i),Cr(t,s),n=yf(e,t,n,r,i,s),r=gf(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(J&&r&&rf(t),t.flags|=1,Oe(e,t,n,s),t.child)}function fh(e,t,n,r,s){if(Fe(n)){var i=!0;Ao(t)}else i=!1;if(Cr(t,s),t.stateNode===null)ro(e,t),ty(t,n,r),Qu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Fe(n)?Bn:Ae.current,u=Mr(t,u));var h=n.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ih(t,o,r,u),Gt=!1;var f=t.memoizedState;o.state=f,To(t,r,o,s),a=t.memoizedState,l!==r||f!==a||je.current||Gt?(typeof h=="function"&&(Hu(t,n,h,r),a=t.memoizedState),(l=Gt||sh(t,n,l,r,f,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$m(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dt(t.type,l),o.props=u,c=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ot(a):(a=Fe(n)?Bn:Ae.current,a=Mr(t,a));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==a)&&ih(t,o,r,a),Gt=!1,f=t.memoizedState,o.state=f,To(t,r,o,s);var v=t.memoizedState;l!==c||f!==v||je.current||Gt?(typeof p=="function"&&(Hu(t,n,p,r),v=t.memoizedState),(u=Gt||sh(t,n,u,r,f,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Yu(e,t,n,r,i,s)}function Yu(e,t,n,r,s,i){oy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Xd(t,n,!1),Ht(e,t,i);r=t.stateNode,hv.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Dr(t,e.child,null,i),t.child=Dr(t,null,l,i)):Oe(e,t,l,i),t.memoizedState=r.state,s&&Xd(t,n,!0),t.child}function ly(e){var t=e.stateNode;t.pendingContext?Jd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jd(e,t.context,!1),df(e,t.containerInfo)}function dh(e,t,n,r,s){return Br(),of(s),t.flags|=256,Oe(e,t,n,r),t.child}var Gu={dehydrated:null,treeContext:null,retryLane:0};function Zu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ay(e,t,n){var r=t.pendingProps,s=G.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),V(G,s&1),e===null)return Vu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hl(o,r,0,null),e=Mn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zu(n),t.memoizedState=Gu,e):Sf(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pv(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=fn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=fn(l,i):(i=Mn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Zu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Gu,r}return i=e.child,e=i.sibling,r=fn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sf(e,t){return t=Hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ti(e,t,n,r){return r!==null&&of(r),Dr(t,e.child,null,n),e=Sf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Va(Error(x(422))),Ti(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Hl({mode:"visible",children:r.children},s,0,null),i=Mn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Dr(t,e.child,null,o),t.child.memoizedState=Zu(o),t.memoizedState=Gu,i);if(!(t.mode&1))return Ti(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(x(419)),r=Va(i,r,void 0),Ti(e,t,o,r)}if(l=(o&e.childLanes)!==0,De||l){if(r=ye,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qt(e,s),vt(r,e,s,-1))}return xf(),r=Va(Error(x(421))),Ti(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Pv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Je=ln(s.nextSibling),Xe=t,J=!0,mt=null,e!==null&&(tt[nt++]=jt,tt[nt++]=Ft,tt[nt++]=Dn,jt=e.id,Ft=e.overflow,Dn=t),t=Sf(t,r.children),t.flags|=4096,t)}function hh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qu(e.return,t,n)}function qa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function uy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Oe(e,t,r.children,n),r=G.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hh(e,n,t);else if(e.tag===19)hh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(V(G,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&$o(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),qa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$o(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}qa(t,!0,n,null,i);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ro(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(x(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mv(e,t,n){switch(t.tag){case 3:ly(t),Br();break;case 5:Lm(t);break;case 1:Fe(t.type)&&Ao(t);break;case 4:df(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;V(Ro,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(V(G,G.current&1),t.flags|=128,null):n&t.child.childLanes?ay(e,t,n):(V(G,G.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);V(G,G.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return uy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(G,G.current),r)break;return null;case 22:case 23:return t.lanes=0,iy(e,t,n)}return Ht(e,t,n)}var cy,ec,fy,dy;cy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ec=function(){};fy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,On(It.current);var i=null;switch(n){case"input":s=ku(e,s),r=ku(e,r),i=[];break;case"select":s=ne({},s,{value:void 0}),r=ne({},r,{value:void 0}),i=[];break;case"textarea":s=Cu(e,s),r=Cu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xo)}Pu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&q("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};dy=function(e,t,n,r){n!==r&&(t.flags|=4)};function os(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yv(e,t,n){var r=t.pendingProps;switch(sf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return Fe(t.type)&&Po(),be(t),null;case 3:return r=t.stateNode,jr(),H(je),H(Ae),pf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(ac(mt),mt=null))),ec(e,t),be(t),null;case 5:hf(t);var s=On(Js.current);if(n=t.type,e!==null&&t.stateNode!=null)fy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(x(166));return be(t),null}if(e=On(It.current),Ri(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ot]=t,r[Hs]=i,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<ds.length;s++)q(ds[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":kd(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":bd(r,i),q("invalid",r)}Pu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,l,e),s=["children",""+l]):Bs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":ki(r),Ed(r,i,!0);break;case"textarea":ki(r),Cd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ot]=t,e[Hs]=r,cy(e,t,!1,!1),t.stateNode=e;e:{switch(o=Au(n,r),n){case"dialog":q("cancel",e),q("close",e),s=r;break;case"iframe":case"object":case"embed":q("load",e),s=r;break;case"video":case"audio":for(s=0;s<ds.length;s++)q(ds[s],e);s=r;break;case"source":q("error",e),s=r;break;case"img":case"image":case"link":q("error",e),q("load",e),s=r;break;case"details":q("toggle",e),s=r;break;case"input":kd(e,r),s=ku(e,r),q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ne({},r,{value:void 0}),q("invalid",e);break;case"textarea":bd(e,r),s=Cu(e,r),q("invalid",e);break;default:s=r}Pu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Kp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Up(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ds(e,a):typeof a=="number"&&Ds(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&q("scroll",e):a!=null&&Kc(e,i,a,o))}switch(n){case"input":ki(e),Ed(e,r,!1);break;case"textarea":ki(e),Cd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?_r(e,!!r.multiple,i,!1):r.defaultValue!=null&&_r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)dy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(x(166));if(n=On(Js.current),On(It.current),Ri(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ot]=t,(i=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:Oi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ot]=t,t.stateNode=r}return be(t),null;case 13:if(H(G),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Je!==null&&t.mode&1&&!(t.flags&128))Om(),Br(),t.flags|=98560,i=!1;else if(i=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(x(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(x(317));i[Ot]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),i=!1}else mt!==null&&(ac(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||G.current&1?de===0&&(de=3):xf())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return jr(),ec(e,t),e===null&&Vs(t.stateNode.containerInfo),be(t),null;case 10:return uf(t.type._context),be(t),null;case 17:return Fe(t.type)&&Po(),be(t),null;case 19:if(H(G),i=t.memoizedState,i===null)return be(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)os(i,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$o(e),o!==null){for(t.flags|=128,os(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return V(G,G.current&1|2),t.child}e=e.sibling}i.tail!==null&&ie()>Ur&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304)}else{if(!r)if(e=$o(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return be(t),null}else 2*ie()-i.renderingStartTime>Ur&&n!==1073741824&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ie(),t.sibling=null,n=G.current,V(G,r?n&1|2:n&1),t):(be(t),null);case 22:case 23:return Cf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?He&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(x(156,t.tag))}function gv(e,t){switch(sf(t),t.tag){case 1:return Fe(t.type)&&Po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(),H(je),H(Ae),pf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hf(t),null;case 13:if(H(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(x(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(G),null;case 4:return jr(),null;case 10:return uf(t.type._context),null;case 22:case 23:return Cf(),null;case 24:return null;default:return null}}var $i=!1,xe=!1,wv=typeof WeakSet=="function"?WeakSet:Set,A=null;function hr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){re(e,t,r)}}var ph=!1;function vv(e,t){if(Du=Eo,e=gm(),nf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,h=0,c=e,f=null;t:for(;;){for(var p;c!==n||s!==0&&c.nodeType!==3||(l=o+s),c!==i||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)f=c,c=p;for(;;){if(c===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++h===r&&(a=o),(p=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ju={focusedElem:e,selectionRange:n},Eo=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:dt(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(S){re(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return v=ph,ph=!1,v}function Ns(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&tc(t,n,i)}s=s.next}while(s!==r)}}function Vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hy(e){var t=e.alternate;t!==null&&(e.alternate=null,hy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[Hs],delete t[zu],delete t[tv],delete t[nv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function py(e){return e.tag===5||e.tag===3||e.tag===4}function mh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xo));else if(r!==4&&(e=e.child,e!==null))for(rc(e,t,n),e=e.sibling;e!==null;)rc(e,t,n),e=e.sibling}function sc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(sc(e,t,n),e=e.sibling;e!==null;)sc(e,t,n),e=e.sibling}var ge=null,pt=!1;function Jt(e,t,n){for(n=n.child;n!==null;)my(e,t,n),n=n.sibling}function my(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Bl,n)}catch{}switch(n.tag){case 5:xe||hr(n,t);case 6:var r=ge,s=pt;ge=null,Jt(e,t,n),ge=r,pt=s,ge!==null&&(pt?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(pt?(e=ge,n=n.stateNode,e.nodeType===8?ja(e.parentNode,n):e.nodeType===1&&ja(e,n),zs(e)):ja(ge,n.stateNode));break;case 4:r=ge,s=pt,ge=n.stateNode.containerInfo,pt=!0,Jt(e,t,n),ge=r,pt=s;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tc(n,t,o),s=s.next}while(s!==r)}Jt(e,t,n);break;case 1:if(!xe&&(hr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){re(n,t,l)}Jt(e,t,n);break;case 21:Jt(e,t,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,Jt(e,t,n),xe=r):Jt(e,t,n);break;default:Jt(e,t,n)}}function yh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wv),t.forEach(function(r){var s=Av.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,pt=!1;break e;case 3:ge=l.stateNode.containerInfo,pt=!0;break e;case 4:ge=l.stateNode.containerInfo,pt=!0;break e}l=l.return}if(ge===null)throw Error(x(160));my(i,o,s),ge=null,pt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yy(t,e),t=t.sibling}function yy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),Ct(e),r&4){try{Ns(3,e,e.return),Vl(3,e)}catch(y){re(e,e.return,y)}try{Ns(5,e,e.return)}catch(y){re(e,e.return,y)}}break;case 1:ut(t,e),Ct(e),r&512&&n!==null&&hr(n,n.return);break;case 5:if(ut(t,e),Ct(e),r&512&&n!==null&&hr(n,n.return),e.flags&32){var s=e.stateNode;try{Ds(s,"")}catch(y){re(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Dp(s,i),Au(l,o);var u=Au(l,i);for(o=0;o<a.length;o+=2){var h=a[o],c=a[o+1];h==="style"?Kp(s,c):h==="dangerouslySetInnerHTML"?Up(s,c):h==="children"?Ds(s,c):Kc(s,h,c,u)}switch(l){case"input":Eu(s,i);break;case"textarea":jp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?_r(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?_r(s,!!i.multiple,i.defaultValue,!0):_r(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hs]=i}catch(y){re(e,e.return,y)}}break;case 6:if(ut(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(x(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){re(e,e.return,y)}}break;case 3:if(ut(t,e),Ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(y){re(e,e.return,y)}break;case 4:ut(t,e),Ct(e);break;case 13:ut(t,e),Ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ef=ie())),r&4&&yh(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(xe=(u=xe)||h,ut(t,e),xe=u):ut(t,e),Ct(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(A=e,h=e.child;h!==null;){for(c=A=h;A!==null;){switch(f=A,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ns(4,f,f.return);break;case 1:hr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){re(r,n,y)}}break;case 5:hr(f,f.return);break;case 22:if(f.memoizedState!==null){wh(c);continue}}p!==null?(p.return=f,A=p):wh(c)}h=h.sibling}e:for(h=null,c=e;;){if(c.tag===5){if(h===null){h=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=zp("display",o))}catch(y){re(e,e.return,y)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){re(e,e.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ut(t,e),Ct(e),r&4&&yh(e);break;case 21:break;default:ut(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(py(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ds(s,""),r.flags&=-33);var i=mh(e);sc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=mh(e);rc(e,l,o);break;default:throw Error(x(161))}}catch(a){re(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sv(e,t,n){A=e,gy(e)}function gy(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$i;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||xe;l=$i;var u=xe;if($i=o,(xe=a)&&!u)for(A=s;A!==null;)o=A,a=o.child,o.tag===22&&o.memoizedState!==null?vh(s):a!==null?(a.return=o,A=a):vh(s);for(;i!==null;)A=i,gy(i),i=i.sibling;A=s,$i=l,xe=u}gh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):gh(e)}}function gh(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||Vl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&th(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}th(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&zs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}xe||t.flags&512&&nc(t)}catch(f){re(t,t.return,f)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function wh(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function vh(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vl(4,t)}catch(a){re(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){re(t,s,a)}}var i=t.return;try{nc(t)}catch(a){re(t,i,a)}break;case 5:var o=t.return;try{nc(t)}catch(a){re(t,o,a)}}}catch(a){re(t,t.return,a)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var _v=Math.ceil,Bo=Qt.ReactCurrentDispatcher,_f=Qt.ReactCurrentOwner,st=Qt.ReactCurrentBatchConfig,j=0,ye=null,ae=null,_e=0,He=0,pr=vn(0),de=0,Zs=null,Fn=0,ql=0,kf=0,Os=null,Me=null,Ef=0,Ur=1/0,Bt=null,Do=!1,ic=null,un=null,Li=!1,nn=null,jo=0,Rs=0,oc=null,so=-1,io=0;function Ie(){return j&6?ie():so!==-1?so:so=ie()}function cn(e){return e.mode&1?j&2&&_e!==0?_e&-_e:sv.transition!==null?(io===0&&(io=tm()),io):(e=U,e!==0||(e=window.event,e=e===void 0?16:am(e.type)),e):1}function vt(e,t,n,r){if(50<Rs)throw Rs=0,oc=null,Error(x(185));li(e,n,r),(!(j&2)||e!==ye)&&(e===ye&&(!(j&2)&&(ql|=n),de===4&&en(e,_e)),Ue(e,r),n===1&&j===0&&!(t.mode&1)&&(Ur=ie()+500,zl&&Sn()))}function Ue(e,t){var n=e.callbackNode;s1(e,t);var r=ko(e,e===ye?_e:0);if(r===0)n!==null&&Ad(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ad(n),t===1)e.tag===0?rv(Sh.bind(null,e)):Pm(Sh.bind(null,e)),Z1(function(){!(j&6)&&Sn()}),n=null;else{switch(nm(r)){case 1:n=Qc;break;case 4:n=Zp;break;case 16:n=_o;break;case 536870912:n=em;break;default:n=_o}n=Cy(n,wy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wy(e,t){if(so=-1,io=0,j&6)throw Error(x(327));var n=e.callbackNode;if(xr()&&e.callbackNode!==n)return null;var r=ko(e,e===ye?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fo(e,r);else{t=r;var s=j;j|=2;var i=Sy();(ye!==e||_e!==t)&&(Bt=null,Ur=ie()+500,Ln(e,t));do try{bv();break}catch(l){vy(e,l)}while(!0);af(),Bo.current=i,j=s,ae!==null?t=0:(ye=null,_e=0,t=de)}if(t!==0){if(t===2&&(s=Tu(e),s!==0&&(r=s,t=lc(e,s))),t===1)throw n=Zs,Ln(e,0),en(e,r),Ue(e,ie()),n;if(t===6)en(e,r);else{if(s=e.current.alternate,!(r&30)&&!kv(s)&&(t=Fo(e,r),t===2&&(i=Tu(e),i!==0&&(r=i,t=lc(e,i))),t===1))throw n=Zs,Ln(e,0),en(e,r),Ue(e,ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(x(345));case 2:Cn(e,Me,Bt);break;case 3:if(en(e,r),(r&130023424)===r&&(t=Ef+500-ie(),10<t)){if(ko(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Uu(Cn.bind(null,e,Me,Bt),t);break}Cn(e,Me,Bt);break;case 4:if(en(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-wt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_v(r/1960))-r,10<r){e.timeoutHandle=Uu(Cn.bind(null,e,Me,Bt),r);break}Cn(e,Me,Bt);break;case 5:Cn(e,Me,Bt);break;default:throw Error(x(329))}}}return Ue(e,ie()),e.callbackNode===n?wy.bind(null,e):null}function lc(e,t){var n=Os;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=Fo(e,t),e!==2&&(t=Me,Me=n,t!==null&&ac(t)),e}function ac(e){Me===null?Me=e:Me.push.apply(Me,e)}function kv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function en(e,t){for(t&=~kf,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Sh(e){if(j&6)throw Error(x(327));xr();var t=ko(e,0);if(!(t&1))return Ue(e,ie()),null;var n=Fo(e,t);if(e.tag!==0&&n===2){var r=Tu(e);r!==0&&(t=r,n=lc(e,r))}if(n===1)throw n=Zs,Ln(e,0),en(e,t),Ue(e,ie()),n;if(n===6)throw Error(x(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,Me,Bt),Ue(e,ie()),null}function bf(e,t){var n=j;j|=1;try{return e(t)}finally{j=n,j===0&&(Ur=ie()+500,zl&&Sn())}}function Un(e){nn!==null&&nn.tag===0&&!(j&6)&&xr();var t=j;j|=1;var n=st.transition,r=U;try{if(st.transition=null,U=1,e)return e()}finally{U=r,st.transition=n,j=t,!(j&6)&&Sn()}}function Cf(){He=pr.current,H(pr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,G1(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(sf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Po();break;case 3:jr(),H(je),H(Ae),pf();break;case 5:hf(r);break;case 4:jr();break;case 13:H(G);break;case 19:H(G);break;case 10:uf(r.type._context);break;case 22:case 23:Cf()}n=n.return}if(ye=e,ae=e=fn(e.current,null),_e=He=t,de=0,Zs=null,kf=ql=Fn=0,Me=Os=null,Nn!==null){for(t=0;t<Nn.length;t++)if(n=Nn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Nn=null}return e}function vy(e,t){do{var n=ae;try{if(af(),to.current=Mo,Lo){for(var r=ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lo=!1}if(jn=0,me=fe=ee=null,As=!1,Xs=0,_f.current=null,n===null||n.return===null){de=1,Zs=t,ae=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=_e,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=lh(o);if(p!==null){p.flags&=-257,ah(p,o,l,i,t),p.mode&1&&oh(i,u,t),t=p,a=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(a),t.updateQueue=y}else v.add(a);break e}else{if(!(t&1)){oh(i,u,t),xf();break e}a=Error(x(426))}}else if(J&&l.mode&1){var w=lh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ah(w,o,l,i,t),of(Fr(a,l));break e}}i=a=Fr(a,l),de!==4&&(de=2),Os===null?Os=[i]:Os.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=ny(i,a,t);eh(i,m);break e;case 1:l=a;var d=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(un===null||!un.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=ry(i,l,t);eh(i,S);break e}}i=i.return}while(i!==null)}ky(n)}catch(k){t=k,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function Sy(){var e=Bo.current;return Bo.current=Mo,e===null?Mo:e}function xf(){(de===0||de===3||de===2)&&(de=4),ye===null||!(Fn&268435455)&&!(ql&268435455)||en(ye,_e)}function Fo(e,t){var n=j;j|=2;var r=Sy();(ye!==e||_e!==t)&&(Bt=null,Ln(e,t));do try{Ev();break}catch(s){vy(e,s)}while(!0);if(af(),j=n,Bo.current=r,ae!==null)throw Error(x(261));return ye=null,_e=0,de}function Ev(){for(;ae!==null;)_y(ae)}function bv(){for(;ae!==null&&!Jw();)_y(ae)}function _y(e){var t=by(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?ky(e):ae=t,_f.current=null}function ky(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gv(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{de=6,ae=null;return}}else if(n=yv(n,t,He),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);de===0&&(de=5)}function Cn(e,t,n){var r=U,s=st.transition;try{st.transition=null,U=1,Cv(e,t,n,r)}finally{st.transition=s,U=r}return null}function Cv(e,t,n,r){do xr();while(nn!==null);if(j&6)throw Error(x(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(x(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(i1(e,i),e===ye&&(ae=ye=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Li||(Li=!0,Cy(_o,function(){return xr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=st.transition,st.transition=null;var o=U;U=1;var l=j;j|=4,_f.current=null,vv(e,n),yy(n,e),V1(ju),Eo=!!Du,ju=Du=null,e.current=n,Sv(n),Xw(),j=l,U=o,st.transition=i}else e.current=n;if(Li&&(Li=!1,nn=e,jo=s),i=e.pendingLanes,i===0&&(un=null),Zw(n.stateNode),Ue(e,ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Do)throw Do=!1,e=ic,ic=null,e;return jo&1&&e.tag!==0&&xr(),i=e.pendingLanes,i&1?e===oc?Rs++:(Rs=0,oc=e):Rs=0,Sn(),null}function xr(){if(nn!==null){var e=nm(jo),t=st.transition,n=U;try{if(st.transition=null,U=16>e?16:e,nn===null)var r=!1;else{if(e=nn,nn=null,jo=0,j&6)throw Error(x(331));var s=j;for(j|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(A=u;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 15:Ns(8,h,i)}var c=h.child;if(c!==null)c.return=h,A=c;else for(;A!==null;){h=A;var f=h.sibling,p=h.return;if(hy(h),h===u){A=null;break}if(f!==null){f.return=p,A=f;break}A=p}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ns(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,A=m;break e}A=i.return}}var d=e.current;for(A=d;A!==null;){o=A;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,A=g;else e:for(o=d;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vl(9,l)}}catch(k){re(l,l.return,k)}if(l===o){A=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,A=S;break e}A=l.return}}if(j=s,Sn(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Bl,e)}catch{}r=!0}return r}finally{U=n,st.transition=t}}return!1}function _h(e,t,n){t=Fr(n,t),t=ny(e,t,1),e=an(e,t,1),t=Ie(),e!==null&&(li(e,1,t),Ue(e,t))}function re(e,t,n){if(e.tag===3)_h(e,e,n);else for(;t!==null;){if(t.tag===3){_h(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=Fr(n,e),e=ry(t,e,1),t=an(t,e,1),e=Ie(),t!==null&&(li(t,1,e),Ue(t,e));break}}t=t.return}}function xv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(_e&n)===n&&(de===4||de===3&&(_e&130023424)===_e&&500>ie()-Ef?Ln(e,0):kf|=n),Ue(e,t)}function Ey(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var n=Ie();e=qt(e,t),e!==null&&(li(e,t,n),Ue(e,n))}function Pv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ey(e,n)}function Av(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(t),Ey(e,n)}var by;by=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)De=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return De=!1,mv(e,t,n);De=!!(e.flags&131072)}else De=!1,J&&t.flags&1048576&&Am(t,Oo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ro(e,t),e=t.pendingProps;var s=Mr(t,Ae.current);Cr(t,n),s=yf(null,t,r,e,s,n);var i=gf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(r)?(i=!0,Ao(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ff(t),s.updater=Wl,t.stateNode=s,s._reactInternals=t,Qu(t,r,e,n),t=Yu(null,t,r,!0,i,n)):(t.tag=0,J&&i&&rf(t),Oe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ro(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ov(r),e=dt(r,e),s){case 0:t=Xu(null,t,r,e,n);break e;case 1:t=fh(null,t,r,e,n);break e;case 11:t=uh(null,t,r,e,n);break e;case 14:t=ch(null,t,r,dt(r.type,e),n);break e}throw Error(x(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Xu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),fh(e,t,r,s,n);case 3:e:{if(ly(t),e===null)throw Error(x(387));r=t.pendingProps,i=t.memoizedState,s=i.element,$m(e,t),To(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fr(Error(x(423)),t),t=dh(e,t,r,n,s);break e}else if(r!==s){s=Fr(Error(x(424)),t),t=dh(e,t,r,n,s);break e}else for(Je=ln(t.stateNode.containerInfo.firstChild),Xe=t,J=!0,mt=null,n=Im(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Br(),r===s){t=Ht(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return Lm(t),e===null&&Vu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Fu(r,s)?o=null:i!==null&&Fu(r,i)&&(t.flags|=32),oy(e,t),Oe(e,t,o,n),t.child;case 6:return e===null&&Vu(t),null;case 13:return ay(e,t,n);case 4:return df(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dr(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),uh(e,t,r,s,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,V(Ro,r._currentValue),r._currentValue=o,i!==null)if(_t(i.value,o)){if(i.children===s.children&&!je.current){t=Ht(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=zt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),qu(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(x(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),qu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Oe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Cr(t,n),s=ot(s),r=r(s),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,s=dt(r,t.pendingProps),s=dt(r.type,s),ch(e,t,r,s,n);case 15:return sy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),ro(e,t),t.tag=1,Fe(r)?(e=!0,Ao(t)):e=!1,Cr(t,n),ty(t,r,s),Qu(t,r,s,n),Yu(null,t,r,!0,e,n);case 19:return uy(e,t,n);case 22:return iy(e,t,n)}throw Error(x(156,t.tag))};function Cy(e,t){return Gp(e,t)}function Nv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,n,r){return new Nv(e,t,n,r)}function Pf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ov(e){if(typeof e=="function")return Pf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vc)return 11;if(e===qc)return 14}return 2}function fn(e,t){var n=e.alternate;return n===null?(n=rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function oo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Pf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case sr:return Mn(n.children,s,i,t);case Wc:o=8,s|=8;break;case wu:return e=rt(12,n,t,s|2),e.elementType=wu,e.lanes=i,e;case vu:return e=rt(13,n,t,s),e.elementType=vu,e.lanes=i,e;case Su:return e=rt(19,n,t,s),e.elementType=Su,e.lanes=i,e;case Lp:return Hl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tp:o=10;break e;case $p:o=9;break e;case Vc:o=11;break e;case qc:o=14;break e;case Yt:o=16,r=null;break e}throw Error(x(130,e==null?e:typeof e,""))}return t=rt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Mn(e,t,n,r){return e=rt(7,e,r,t),e.lanes=n,e}function Hl(e,t,n,r){return e=rt(22,e,r,t),e.elementType=Lp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ha(e,t,n){return e=rt(6,e,null,t),e.lanes=n,e}function Qa(e,t,n){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aa(0),this.expirationTimes=Aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Af(e,t,n,r,s,i,o,l,a){return e=new Rv(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=rt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(i),e}function Iv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xy(e){if(!e)return mn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(x(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(x(171))}if(e.tag===1){var n=e.type;if(Fe(n))return xm(e,n,t)}return t}function Py(e,t,n,r,s,i,o,l,a){return e=Af(n,r,!0,e,s,i,o,l,a),e.context=xy(null),n=e.current,r=Ie(),s=cn(n),i=zt(r,s),i.callback=t??null,an(n,i,s),e.current.lanes=s,li(e,s,r),Ue(e,r),e}function Ql(e,t,n,r){var s=t.current,i=Ie(),o=cn(s);return n=xy(n),t.context===null?t.context=n:t.pendingContext=n,t=zt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(s,t,o),e!==null&&(vt(e,s,o,i),eo(e,s,o)),o}function Uo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nf(e,t){kh(e,t),(e=e.alternate)&&kh(e,t)}function Tv(){return null}var Ay=typeof reportError=="function"?reportError:function(e){console.error(e)};function Of(e){this._internalRoot=e}Jl.prototype.render=Of.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(x(409));Ql(e,t,null,null)};Jl.prototype.unmount=Of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Un(function(){Ql(null,e,null,null)}),t[Vt]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=im();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&lm(e)}};function Rf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Eh(){}function $v(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Uo(o);i.call(u)}}var o=Py(t,r,e,0,null,!1,!1,"",Eh);return e._reactRootContainer=o,e[Vt]=o.current,Vs(e.nodeType===8?e.parentNode:e),Un(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Uo(a);l.call(u)}}var a=Af(e,0,!1,null,null,!1,!1,"",Eh);return e._reactRootContainer=a,e[Vt]=a.current,Vs(e.nodeType===8?e.parentNode:e),Un(function(){Ql(t,a,n,r)}),a}function Yl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Uo(o);l.call(a)}}Ql(t,o,e,s)}else o=$v(n,t,e,s,r);return Uo(o)}rm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fs(t.pendingLanes);n!==0&&(Jc(t,n|1),Ue(t,ie()),!(j&6)&&(Ur=ie()+500,Sn()))}break;case 13:Un(function(){var r=qt(e,1);if(r!==null){var s=Ie();vt(r,e,1,s)}}),Nf(e,1)}};Xc=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=Ie();vt(t,e,134217728,n)}Nf(e,134217728)}};sm=function(e){if(e.tag===13){var t=cn(e),n=qt(e,t);if(n!==null){var r=Ie();vt(n,e,t,r)}Nf(e,t)}};im=function(){return U};om=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};Ou=function(e,t,n){switch(t){case"input":if(Eu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ul(r);if(!s)throw Error(x(90));Bp(r),Eu(r,s)}}}break;case"textarea":jp(e,n);break;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}};qp=bf;Hp=Un;var Lv={usingClientEntryPoint:!1,Events:[ui,ar,Ul,Wp,Vp,bf]},ls={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mv={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xp(e),e===null?null:e.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||Tv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mi.isDisabled&&Mi.supportsFiber)try{Bl=Mi.inject(Mv),Rt=Mi}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lv;Ge.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rf(t))throw Error(x(200));return Iv(e,t,null,n)};Ge.createRoot=function(e,t){if(!Rf(e))throw Error(x(299));var n=!1,r="",s=Ay;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Af(e,1,!1,null,null,n,!1,r,s),e[Vt]=t.current,Vs(e.nodeType===8?e.parentNode:e),new Of(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(x(188)):(e=Object.keys(e).join(","),Error(x(268,e)));return e=Xp(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return Un(e)};Ge.hydrate=function(e,t,n){if(!Xl(t))throw Error(x(200));return Yl(null,e,t,!0,n)};Ge.hydrateRoot=function(e,t,n){if(!Rf(e))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ay;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Py(t,null,e,1,n??null,s,!1,i,o),e[Vt]=t.current,Vs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Jl(t)};Ge.render=function(e,t,n){if(!Xl(t))throw Error(x(200));return Yl(null,e,t,!1,n)};Ge.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(x(40));return e._reactRootContainer?(Un(function(){Yl(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};Ge.unstable_batchedUpdates=bf;Ge.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(x(200));if(e==null||e._reactInternals===void 0)throw Error(x(38));return Yl(e,t,n,!1,r)};Ge.version="18.3.1-next-f1338f8080-20240426";function Ny(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ny)}catch(e){console.error(e)}}Ny(),Np.exports=Ge;var Bv=Np.exports,Oy,bh=Bv;Oy=bh.createRoot,bh.hydrateRoot;const Dv=Symbol(),If=Symbol(),hs="a",Ry="f",Ch="p",Iy="c",Ty="t",Ja="n",Xa="g",Tf="h",Is="w",$f="o",Lf="k";let jv=(e,t)=>new Proxy(e,t);const uc=Object.getPrototypeOf,cc=new WeakMap,$y=e=>e&&(cc.has(e)?cc.get(e):uc(e)===Object.prototype||uc(e)===Array.prototype),zo=e=>typeof e=="object"&&e!==null,Fv=e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(t=>!t.configurable&&!t.writable),Uv=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(n=>{n.configurable=!0}),Object.create(uc(e),t)},zv=(e,t)=>{const n={[Ry]:t};let r=!1;const s=(l,a)=>{if(!r){let u=n[hs].get(e);if(u||(u={},n[hs].set(e,u)),l===Is)u[Is]=!0;else{let h=u[l];h||(h=new Set,u[l]=h),h.add(a)}}},i=()=>{r=!0,n[hs].delete(e)},o={get(l,a){return a===If?e:(s(Lf,a),Ly(Reflect.get(l,a),n[hs],n[Iy],n[Ty]))},has(l,a){return a===Dv?(i(),!0):(s(Tf,a),Reflect.has(l,a))},getOwnPropertyDescriptor(l,a){return s($f,a),Reflect.getOwnPropertyDescriptor(l,a)},ownKeys(l){return s(Is),Reflect.ownKeys(l)}};return t&&(o.set=o.deleteProperty=()=>!1),[o,n]},Mf=e=>e[If]||e,Ly=(e,t,n,r)=>{if(!$y(e))return e;let s=r&&r.get(e);if(!s){const a=Mf(e);Fv(a)?s=[a,Uv(a)]:s=[a],r==null||r.set(e,s)}const[i,o]=s;let l=n&&n.get(i);return(!l||l[1][Ry]!==!!o)&&(l=zv(i,!!o),l[1][Ch]=jv(o||i,l[0]),n&&n.set(i,l)),l[1][hs]=t,l[1][Iy]=n,l[1][Ty]=r,l[1][Ch]},Kv=(e,t)=>{const n=Reflect.ownKeys(e),r=Reflect.ownKeys(t);return n.length!==r.length||n.some((s,i)=>s!==r[i])},My=(e,t,n,r,s=Object.is)=>{if(s(e,t))return!1;if(!zo(e)||!zo(t))return!0;const i=n.get(Mf(e));if(!i)return!0;if(r){const l=r.get(e);if(l&&l[Ja]===t)return l[Xa];r.set(e,{[Ja]:t,[Xa]:!1})}let o=null;try{for(const l of i[Tf]||[])if(o=Reflect.has(e,l)!==Reflect.has(t,l),o)return o;if(i[Is]===!0){if(o=Kv(e,t),o)return o}else for(const l of i[$f]||[]){const a=!!Reflect.getOwnPropertyDescriptor(e,l),u=!!Reflect.getOwnPropertyDescriptor(t,l);if(o=a!==u,o)return o}for(const l of i[Lf]||[])if(o=My(e[l],t[l],n,r,s),o)return o;return o===null&&(o=!0),o}finally{r&&r.set(e,{[Ja]:t,[Xa]:o})}},Wv=e=>$y(e)&&e[If]||null,xh=(e,t=!0)=>{cc.set(e,t)},Vv=(e,t,n)=>{const r=[],s=new WeakSet,i=(o,l)=>{var a,u,h;if(s.has(o))return;zo(o)&&s.add(o);const c=zo(o)&&t.get(Mf(o));if(c){if((a=c[Tf])===null||a===void 0||a.forEach(f=>{const p=`:has(${String(f)})`;r.push(l?[...l,p]:[p])}),c[Is]===!0){const f=":ownKeys";r.push(l?[...l,f]:[f])}else(u=c[$f])===null||u===void 0||u.forEach(f=>{const p=`:hasOwn(${String(f)})`;r.push(l?[...l,p]:[p])});(h=c[Lf])===null||h===void 0||h.forEach(f=>{"value"in(Object.getOwnPropertyDescriptor(o,f)||{})&&i(o[f],l?[...l,f]:[f])})}else l&&r.push(l)};return i(e),r},Ko={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Bf=e=>typeof e=="object"&&e!==null,qv=e=>Bf(e)&&!Df.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),By=(e,t)=>{const n=Ph.get(e);if((n==null?void 0:n[0])===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return xh(r,!0),Ph.set(e,[t,r]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(e,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(e,s),l={value:i,enumerable:o,configurable:!0};if(Df.has(i))xh(i,!1);else if(zn.has(i)){const[a]=zn.get(i);l.value=By(a,t)}Object.defineProperty(r,s,l)}),Object.preventExtensions(r)},Hv=(e,t,n,r)=>({deleteProperty(s,i){const o=Reflect.get(s,i);n(i);const l=Reflect.deleteProperty(s,i);return l&&r(["delete",[i],o]),l},set(s,i,o,l){const a=!e()&&Reflect.has(s,i),u=Reflect.get(s,i,l);if(a&&(Ah(u,o)||Wo.has(o)&&Ah(u,Wo.get(o))))return!0;n(i),Bf(o)&&(o=Wv(o)||o);const h=!zn.has(o)&&Jv(o)?Gl(o):o;return t(i,h),Reflect.set(s,i,h,l),r(["set",[i],o,u]),!0}}),zn=new WeakMap,Df=new WeakSet,Ph=new WeakMap,Bi=[1,1],Wo=new WeakMap;let Ah=Object.is,Qv=(e,t)=>new Proxy(e,t),Jv=qv,Xv=By,Yv=Hv;function Gl(e={}){if(!Bf(e))throw new Error("object required");const t=Wo.get(e);if(t)return t;let n=Bi[0];const r=new Set,s=(w,m=++Bi[0])=>{n!==m&&(n=m,r.forEach(d=>d(w,m)))};let i=Bi[1];const o=(w=++Bi[1])=>(i!==w&&!r.size&&(i=w,a.forEach(([m])=>{const d=m[1](w);d>n&&(n=d)})),n),l=w=>(m,d)=>{const g=[...m];g[1]=[w,...g[1]],s(g,d)},a=new Map,u=(w,m)=>{const d=!Df.has(m)&&zn.get(m);if(d){if((Ko?"production":void 0)!=="production"&&a.has(w))throw new Error("prop listener already exists");if(r.size){const g=d[2](l(w));a.set(w,[d,g])}else a.set(w,[d])}},h=w=>{var m;const d=a.get(w);d&&(a.delete(w),(m=d[1])==null||m.call(d))},c=w=>(r.add(w),r.size===1&&a.forEach(([d,g],S)=>{if((Ko?"production":void 0)!=="production"&&g)throw new Error("remove already exists");const k=d[2](l(S));a.set(S,[d,k])}),()=>{r.delete(w),r.size===0&&a.forEach(([d,g],S)=>{g&&(g(),a.set(S,[d]))})});let f=!0;const p=Yv(()=>f,u,h,s),v=Qv(e,p);Wo.set(e,v);const y=[e,o,c];return zn.set(v,y),Reflect.ownKeys(e).forEach(w=>{const m=Object.getOwnPropertyDescriptor(e,w);"value"in m&&m.writable&&(v[w]=e[w])}),f=!1,v}function Dy(e,t,n){const r=zn.get(e);(Ko?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[2];let l=!1;const u=o(h=>{i.push(h),s||(s=Promise.resolve().then(()=>{s=void 0,l&&t(i.splice(0))}))});return l=!0,()=>{l=!1,u()}}function Nh(e){const t=zn.get(e);(Ko?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,r]=t;return Xv(n,r())}const Gv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Zv=(e,t)=>{const n=$.useRef();$.useEffect(()=>{n.current=Vv(e,t)}),$.useDebugValue(n.current)},eS=Zv,tS=new WeakMap;function kt(e,t){const r=$.useMemo(()=>e&&new WeakMap,[e]),s=$.useRef();let i=!0;const o=$.useSyncExternalStore($.useCallback(a=>{const u=Dy(e,a);return a(),u},[e,void 0]),()=>{const a=Nh(e);try{if(!i&&s.current&&!My(s.current,a,r,new WeakMap))return s.current}catch{}return a},()=>Nh(e));i=!1,$.useLayoutEffect(()=>{s.current=o}),(Gv?"production":void 0)!=="production"&&eS(o,r);const l=$.useMemo(()=>new WeakMap,[]);return Ly(o,r,l,tS)}const ps=({label:e,value:t})=>C.jsxs("div",{className:"flex justify-between items-center py-1",children:[C.jsx("span",{className:"text-gray-600 text-xs",children:e}),C.jsx("span",{className:"font-mono text-xs",children:t})]}),nS=({behavior:e})=>C.jsxs("div",{className:"mt-2 border-t border-gray-200 pt-2",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("span",{className:"font-semibold text-xs",children:e.type}),e.name&&C.jsx("span",{className:"text-xs text-gray-500",children:e.name})]}),Object.entries(e).map(([t,n])=>t!=="type"&&t!=="name"&&t!=="uuid"?C.jsx(ps,{label:t,value:JSON.stringify(n)},t):null)]});function rS({entity:e}){return console.log(" Rendering EntityInspector",{entity:e}),C.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 shadow-md mb-2 max-w-xs",children:[e.name&&C.jsx("h2",{className:"text-lg font-bold mb-2 truncate",title:e.name,children:e.name}),C.jsxs("div",{className:"mb-2",children:[C.jsx(ps,{label:"x",value:e.x.toFixed(2)}),C.jsx(ps,{label:"y",value:e.y.toFixed(2)}),C.jsx(ps,{label:"rotation",value:e.rotation.toFixed(2)}),C.jsx(ps,{label:"scale",value:e.scale.toFixed(2)})]}),C.jsx("div",{className:"mt-3",children:e.behaviors.map((t,n)=>C.jsx(nS,{behavior:t},t.uuid||n))})]})}const jf=Symbol.for("yaml.alias"),fc=Symbol.for("yaml.document"),dn=Symbol.for("yaml.map"),jy=Symbol.for("yaml.pair"),$t=Symbol.for("yaml.scalar"),Qr=Symbol.for("yaml.seq"),at=Symbol.for("yaml.node.type"),Hn=e=>!!e&&typeof e=="object"&&e[at]===jf,Qn=e=>!!e&&typeof e=="object"&&e[at]===fc,Jr=e=>!!e&&typeof e=="object"&&e[at]===dn,X=e=>!!e&&typeof e=="object"&&e[at]===jy,W=e=>!!e&&typeof e=="object"&&e[at]===$t,Xr=e=>!!e&&typeof e=="object"&&e[at]===Qr;function Z(e){if(e&&typeof e=="object")switch(e[at]){case dn:case Qr:return!0}return!1}function te(e){if(e&&typeof e=="object")switch(e[at]){case jf:case dn:case $t:case Qr:return!0}return!1}const sS=e=>(W(e)||Z(e))&&!!e.anchor,Be=Symbol("break visit"),Fy=Symbol("skip children"),Tt=Symbol("remove node");function yn(e,t){const n=Uy(t);Qn(e)?mr(null,e.contents,n,Object.freeze([e]))===Tt&&(e.contents=null):mr(null,e,n,Object.freeze([]))}yn.BREAK=Be;yn.SKIP=Fy;yn.REMOVE=Tt;function mr(e,t,n,r){const s=zy(e,t,n,r);if(te(s)||X(s))return Ky(e,r,s),mr(e,s,n,r);if(typeof s!="symbol"){if(Z(t)){r=Object.freeze(r.concat(t));for(let i=0;i<t.items.length;++i){const o=mr(i,t.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===Be)return Be;o===Tt&&(t.items.splice(i,1),i-=1)}}}else if(X(t)){r=Object.freeze(r.concat(t));const i=mr("key",t.key,n,r);if(i===Be)return Be;i===Tt&&(t.key=null);const o=mr("value",t.value,n,r);if(o===Be)return Be;o===Tt&&(t.value=null)}}return s}async function Zl(e,t){const n=Uy(t);Qn(e)?await yr(null,e.contents,n,Object.freeze([e]))===Tt&&(e.contents=null):await yr(null,e,n,Object.freeze([]))}Zl.BREAK=Be;Zl.SKIP=Fy;Zl.REMOVE=Tt;async function yr(e,t,n,r){const s=await zy(e,t,n,r);if(te(s)||X(s))return Ky(e,r,s),yr(e,s,n,r);if(typeof s!="symbol"){if(Z(t)){r=Object.freeze(r.concat(t));for(let i=0;i<t.items.length;++i){const o=await yr(i,t.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===Be)return Be;o===Tt&&(t.items.splice(i,1),i-=1)}}}else if(X(t)){r=Object.freeze(r.concat(t));const i=await yr("key",t.key,n,r);if(i===Be)return Be;i===Tt&&(t.key=null);const o=await yr("value",t.value,n,r);if(o===Be)return Be;o===Tt&&(t.value=null)}}return s}function Uy(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function zy(e,t,n,r){var s,i,o,l,a;if(typeof n=="function")return n(e,t,r);if(Jr(t))return(s=n.Map)==null?void 0:s.call(n,e,t,r);if(Xr(t))return(i=n.Seq)==null?void 0:i.call(n,e,t,r);if(X(t))return(o=n.Pair)==null?void 0:o.call(n,e,t,r);if(W(t))return(l=n.Scalar)==null?void 0:l.call(n,e,t,r);if(Hn(t))return(a=n.Alias)==null?void 0:a.call(n,e,t,r)}function Ky(e,t,n){const r=t[t.length-1];if(Z(r))r.items[e]=n;else if(X(r))e==="key"?r.key=n:r.value=n;else if(Qn(r))r.contents=n;else{const s=Hn(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const iS={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},oS=e=>e.replace(/[!,[\]{}]/g,t=>iS[t]);class Re{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Re.defaultYaml,t),this.tags=Object.assign({},Re.defaultTags,n)}clone(){const t=new Re(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Re(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Re.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Re.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Re.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Re.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=t.match(/^(.*!)([^!]*)$/s);s||n(`The ${t} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+oS(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(t&&r.length>0&&te(t.contents)){const i={};yn(t.contents,(o,l)=>{te(l)&&l.tag&&(i[l.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!t||s.some(l=>l.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}Re.defaultYaml={explicit:!1,version:"1.2"};Re.defaultTags={"!!":"tag:yaml.org,2002:"};function Wy(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function Vy(e){const t=new Set;return yn(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function qy(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function lS(e,t){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s||(s=Vy(e));const o=qy(t,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(W(o.node)||Z(o.node)))o.node.anchor=o.anchor;else{const l=new Error("Failed to resolve repeated object (this should not happen)");throw l.source=i,l}}},sourceObjects:r}}function gr(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],l=gr(e,r,String(s),o);l===void 0?delete r[s]:l!==o&&(r[s]=l)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=gr(e,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=gr(e,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=gr(e,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return e.call(t,n,r)}function it(e,t,n){if(Array.isArray(e))return e.map((r,s)=>it(r,String(s),n));if(e&&typeof e.toJSON=="function"){if(!n||!sS(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=e.toJSON(t,n);return n.onCreate&&n.onCreate(s),s}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class Ff{constructor(t){Object.defineProperty(this,at,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Qn(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=it(this,"",o);if(typeof s=="function")for(const{count:a,res:u}of o.anchors.values())s(u,a);return typeof i=="function"?gr(i,{"":l},"",l):l}}class ea extends Ff{constructor(t){super(jf),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return yn(t,{Node:(r,s)=>{if(s===this)return yn.BREAK;s.anchor===this.source&&(n=s)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s);if(!o){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(a)}let l=r.get(o);if(l||(it(o,null,n),l=r.get(o)),!l||l.res===void 0){const a="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(a)}if(i>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=lo(s,o,r)),l.count*l.aliasCount>i)){const a="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(a)}return l.res}toString(t,n,r){const s=`*${this.source}`;if(t){if(Wy(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(t.implicitKey)return`${s} `}return s}}function lo(e,t,n){if(Hn(t)){const r=t.resolve(e),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(Z(t)){let r=0;for(const s of t.items){const i=lo(e,s,n);i>r&&(r=i)}return r}else if(X(t)){const r=lo(e,t.key,n),s=lo(e,t.value,n);return Math.max(r,s)}return 1}const Hy=e=>!e||typeof e!="function"&&typeof e!="object";class T extends Ff{constructor(t){super($t),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:it(this.value,t,n)}toString(){return String(this.value)}}T.BLOCK_FOLDED="BLOCK_FOLDED";T.BLOCK_LITERAL="BLOCK_LITERAL";T.PLAIN="PLAIN";T.QUOTE_DOUBLE="QUOTE_DOUBLE";T.QUOTE_SINGLE="QUOTE_SINGLE";const aS="tag:yaml.org,2002:";function uS(e,t,n){if(t){const r=n.filter(i=>i.tag===t),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find(r=>{var s;return((s=r.identify)==null?void 0:s.call(r,e))&&!r.format})}function ei(e,t,n){var c,f,p;if(Qn(e)&&(e=e.contents),te(e))return e;if(X(e)){const v=(f=(c=n.schema[dn]).createNode)==null?void 0:f.call(c,n.schema,null,n);return v.items.push(e),v}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:l}=n;let a;if(r&&e&&typeof e=="object"){if(a=l.get(e),a)return a.anchor||(a.anchor=s(e)),new ea(a.anchor);a={anchor:null,node:null},l.set(e,a)}t!=null&&t.startsWith("!!")&&(t=aS+t.slice(2));let u=uS(e,t,o.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const v=new T(e);return a&&(a.node=v),v}u=e instanceof Map?o[dn]:Symbol.iterator in Object(e)?o[Qr]:o[dn]}i&&(i(u),delete n.onTagObj);const h=u!=null&&u.createNode?u.createNode(n.schema,e,n):typeof((p=u==null?void 0:u.nodeClass)==null?void 0:p.from)=="function"?u.nodeClass.from(n.schema,e,n):new T(e);return t?h.tag=t:u.default||(h.tag=u.tag),a&&(a.node=h),h}function Vo(e,t,n){let r=n;for(let s=t.length-1;s>=0;--s){const i=t[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return ei(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const ms=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class Qy extends Ff{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>te(r)||X(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(ms(t))this.add(n);else{const[r,...s]=t,i=this.get(r,!0);if(Z(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,Vo(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(Z(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...s]=t,i=this.get(r,!0);return s.length===0?!n&&W(i)?i.value:i:Z(i)?i.getIn(s,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!X(n))return!1;const r=n.value;return r==null||t&&W(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const s=this.get(n,!0);return Z(s)?s.hasIn(r):!1}setIn(t,n){const[r,...s]=t;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(Z(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,Vo(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const cS=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Ut(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Rn=(e,t,n)=>e.endsWith(`
`)?Ut(n,t):n.includes(`
`)?`
`+Ut(n,t):(e.endsWith(" ")?"":" ")+n,Jy="flow",dc="block",ao="quoted";function ta(e,t,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:l}={}){if(!s||s<0)return e;s<i&&(i=0);const a=Math.max(1+i,1+s-t.length);if(e.length<=a)return e;const u=[],h={};let c=s-t.length;typeof r=="number"&&(r>s-Math.max(2,i)?u.push(0):c=s-r);let f,p,v=!1,y=-1,w=-1,m=-1;n===dc&&(y=Oh(e,y,t.length),y!==-1&&(c=y+a));for(let g;g=e[y+=1];){if(n===ao&&g==="\\"){switch(w=y,e[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}m=y}if(g===`
`)n===dc&&(y=Oh(e,y,t.length)),c=y+t.length+a,f=void 0;else{if(g===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){const S=e[y+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(f=y)}if(y>=c)if(f)u.push(f),c=f+a,f=void 0;else if(n===ao){for(;p===" "||p==="	";)p=g,g=e[y+=1],v=!0;const S=y>m+1?y-2:w-1;if(h[S])return e;u.push(S),h[S]=!0,c=S+a,f=void 0}else v=!0}p=g}if(v&&l&&l(),u.length===0)return e;o&&o();let d=e.slice(0,u[0]);for(let g=0;g<u.length;++g){const S=u[g],k=u[g+1]||e.length;S===0?d=`
${t}${e.slice(0,k)}`:(n===ao&&h[S]&&(d+=`${e[S]}\\`),d+=`
${t}${e.slice(S+1,k)}`)}return d}function Oh(e,t,n){let r=t,s=t+1,i=e[s];for(;i===" "||i==="	";)if(t<s+n)i=e[++t];else{do i=e[++t];while(i&&i!==`
`);r=t,s=t+1,i=e[s]}return r}const na=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),ra=e=>/^(%|---|\.\.\.)/m.test(e);function fS(e,t,n){if(!t||t<0)return!1;const r=t-n,s=e.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(e[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function Ts(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,s=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(ra(e)?"  ":"");let o="",l=0;for(let a=0,u=n[a];u;u=n[++a])if(u===" "&&n[a+1]==="\\"&&n[a+2]==="n"&&(o+=n.slice(l,a)+"\\ ",a+=1,l=a,u="\\"),u==="\\")switch(n[a+1]){case"u":{o+=n.slice(l,a);const h=n.substr(a+2,4);switch(h){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:h.substr(0,2)==="00"?o+="\\x"+h.substr(2):o+=n.substr(a,6)}a+=5,l=a+1}break;case"n":if(r||n[a+2]==='"'||n.length<s)a+=1;else{for(o+=n.slice(l,a)+`

`;n[a+2]==="\\"&&n[a+3]==="n"&&n[a+4]!=='"';)o+=`
`,a+=2;o+=i,n[a+2]===" "&&(o+="\\"),a+=1,l=a+1}break;default:a+=1}return o=l?o+n.slice(l):n,r?o:ta(o,i,ao,na(t,!1))}function hc(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return Ts(e,t);const n=t.indent||(ra(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:ta(r,n,Jy,na(t,!1))}function wr(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=Ts;else{const s=e.includes('"'),i=e.includes("'");s&&!i?r=hc:i&&!s?r=Ts:r=n?hc:Ts}return r(e,t)}let pc;try{pc=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{pc=/\n+(?!\n|$)/g}function uo({comment:e,type:t,value:n},r,s,i){const{blockQuote:o,commentString:l,lineWidth:a}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return wr(n,r);const u=r.indent||(r.forceBlockIndent||ra(n)?"  ":""),h=o==="literal"?!0:o==="folded"||t===T.BLOCK_FOLDED?!1:t===T.BLOCK_LITERAL?!0:!fS(n,a,u.length);if(!n)return h?`|
`:`>
`;let c,f;for(f=n.length;f>0;--f){const _=n[f-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let p=n.substring(f);const v=p.indexOf(`
`);v===-1?c="-":n===p||v!==p.length-1?(c="+",i&&i()):c="",p&&(n=n.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(pc,`$&${u}`));let y=!1,w,m=-1;for(w=0;w<n.length;++w){const _=n[w];if(_===" ")y=!0;else if(_===`
`)m=w;else break}let d=n.substring(0,m<w?m+1:w);d&&(n=n.substring(d.length),d=d.replace(/\n+/g,`$&${u}`));let S=(h?"|":">")+(y?u?"2":"1":"")+c;if(e&&(S+=" "+l(e.replace(/ ?[\r\n]+/g," ")),s&&s()),h)return n=n.replace(/\n+/g,`$&${u}`),`${S}
${u}${d}${n}${p}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);const k=ta(`${d}${n}${p}`,u,dc,na(r,!0));return`${S}
${u}${k}`}function dS(e,t,n,r){const{type:s,value:i}=e,{actualString:o,implicitKey:l,indent:a,indentStep:u,inFlow:h}=t;if(l&&i.includes(`
`)||h&&/[[\]{},]/.test(i))return wr(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return l||h||!i.includes(`
`)?wr(i,t):uo(e,t,n,r);if(!l&&!h&&s!==T.PLAIN&&i.includes(`
`))return uo(e,t,n,r);if(ra(i)){if(a==="")return t.forceBlockIndent=!0,uo(e,t,n,r);if(l&&a===u)return wr(i,t)}const c=i.replace(/\n+/g,`$&
${a}`);if(o){const f=y=>{var w;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((w=y.test)==null?void 0:w.test(c))},{compat:p,tags:v}=t.doc.schema;if(v.some(f)||p!=null&&p.some(f))return wr(i,t)}return l?c:ta(c,a,Jy,na(t,!1))}function fi(e,t,n,r){const{implicitKey:s,inFlow:i}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:l}=e;l!==T.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(l=T.QUOTE_DOUBLE);const a=h=>{switch(h){case T.BLOCK_FOLDED:case T.BLOCK_LITERAL:return s||i?wr(o.value,t):uo(o,t,n,r);case T.QUOTE_DOUBLE:return Ts(o.value,t);case T.QUOTE_SINGLE:return hc(o.value,t);case T.PLAIN:return dS(o,t,n,r);default:return null}};let u=a(l);if(u===null){const{defaultKeyType:h,defaultStringType:c}=t.options,f=s&&h||c;if(u=a(f),u===null)throw new Error(`Unsupported default string type ${f}`)}return u}function Xy(e,t){const n=Object.assign({blockQuote:!0,commentString:cS,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function hS(e,t){var s;if(t.tag){const i=e.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)??i[0]}let n,r;if(W(t)){r=t.value;let i=e.filter(o=>{var l;return(l=o.identify)==null?void 0:l.call(o,r)});if(i.length>1){const o=i.filter(l=>l.test);o.length>0&&(i=o)}n=i.find(o=>o.format===t.format)??i.find(o=>!o.format)}else r=t,n=e.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=((s=r==null?void 0:r.constructor)==null?void 0:s.name)??typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function pS(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(W(e)||Z(e))&&e.anchor;i&&Wy(i)&&(n.add(i),s.push(`&${i}`));const o=e.tag?e.tag:t.default?null:t.tag;return o&&s.push(r.directives.tagString(o)),s.join(" ")}function zr(e,t,n,r){var a;if(X(e))return e.toString(t,n,r);if(Hn(e)){if(t.doc.directives)return e.toString(t);if((a=t.resolvedAliases)!=null&&a.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const i=te(e)?e:t.doc.createNode(e,{onTagObj:u=>s=u});s||(s=hS(t.doc.schema.tags,i));const o=pS(i,s,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const l=typeof s.stringify=="function"?s.stringify(i,t,n,r):W(i)?fi(i,t,n,r):i.toString(t,n,r);return o?W(i)||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${t.indent}${l}`:l}function mS({key:e,value:t},n,r,s){const{allNullValues:i,doc:o,indent:l,indentStep:a,options:{commentString:u,indentSeq:h,simpleKeys:c}}=n;let f=te(e)&&e.comment||null;if(c){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Z(e)||!te(e)&&typeof e=="object"){const b="With simple keys, collection cannot be used as a key value";throw new Error(b)}}let p=!c&&(!e||f&&t==null&&!n.inFlow||Z(e)||(W(e)?e.type===T.BLOCK_FOLDED||e.type===T.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(c||!i),indent:l+a});let v=!1,y=!1,w=zr(e,n,()=>v=!0,()=>y=!0);if(!p&&!n.inFlow&&w.length>1024){if(c)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||t==null)return v&&r&&r(),w===""?"?":p?`? ${w}`:w}else if(i&&!c||t==null&&p)return w=`? ${w}`,f&&!v?w+=Rn(w,n.indent,u(f)):y&&s&&s(),w;v&&(f=null),p?(f&&(w+=Rn(w,n.indent,u(f))),w=`? ${w}
${l}:`):(w=`${w}:`,f&&(w+=Rn(w,n.indent,u(f))));let m,d,g;te(t)?(m=!!t.spaceBefore,d=t.commentBefore,g=t.comment):(m=!1,d=null,g=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!p&&!f&&W(t)&&(n.indentAtStart=w.length+1),y=!1,!h&&a.length>=2&&!n.inFlow&&!p&&Xr(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let S=!1;const k=zr(t,n,()=>S=!0,()=>y=!0);let _=" ";if(f||m||d){if(_=m?`
`:"",d){const b=u(d);_+=`
${Ut(b,n.indent)}`}k===""&&!n.inFlow?_===`
`&&(_=`

`):_+=`
${n.indent}`}else if(!p&&Z(t)){const b=k[0],E=k.indexOf(`
`),O=E!==-1,P=n.inFlow??t.flow??t.items.length===0;if(O||!P){let I=!1;if(O&&(b==="&"||b==="!")){let F=k.indexOf(" ");b==="&"&&F!==-1&&F<E&&k[F+1]==="!"&&(F=k.indexOf(" ",F+1)),(F===-1||E<F)&&(I=!0)}I||(_=`
${n.indent}`)}}else(k===""||k[0]===`
`)&&(_="");return w+=_+k,n.inFlow?S&&r&&r():g&&!S?w+=Rn(w,n.indent,u(g)):y&&s&&s(),w}function Yy(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const Di="<<",Kt={identify:e=>e===Di||typeof e=="symbol"&&e.description===Di,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new T(Symbol(Di)),{addToJSMap:Gy}),stringify:()=>Di},yS=(e,t)=>(Kt.identify(t)||W(t)&&(!t.type||t.type===T.PLAIN)&&Kt.identify(t.value))&&(e==null?void 0:e.doc.schema.tags.some(n=>n.tag===Kt.tag&&n.default));function Gy(e,t,n){if(n=e&&Hn(n)?n.resolve(e.doc):n,Xr(n))for(const r of n.items)Ya(e,t,r);else if(Array.isArray(n))for(const r of n)Ya(e,t,r);else Ya(e,t,n)}function Ya(e,t,n){const r=e&&Hn(n)?n.resolve(e.doc):n;if(!Jr(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,e,Map);for(const[i,o]of s)t instanceof Map?t.has(i)||t.set(i,o):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function Zy(e,t,{key:n,value:r}){if(te(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(yS(e,n))Gy(e,t,r);else{const s=it(n,"",e);if(t instanceof Map)t.set(s,it(r,s,e));else if(t instanceof Set)t.add(s);else{const i=gS(n,s,e),o=it(r,i,e);i in t?Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[i]=o}}return t}function gS(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(te(e)&&(n!=null&&n.doc)){const r=Xy(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=e.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),Yy(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}function Uf(e,t,n){const r=ei(e,void 0,n),s=ei(t,void 0,n);return new Pe(r,s)}class Pe{constructor(t,n=null){Object.defineProperty(this,at,{value:jy}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return te(n)&&(n=n.clone(t)),te(r)&&(r=r.clone(t)),new Pe(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return Zy(n,r,this)}toString(t,n,r){return t!=null&&t.doc?mS(this,t,n,r):JSON.stringify(this)}}function eg(e,t,n){return(t.inFlow??e.flow?vS:wS)(e,t,n)}function wS({comment:e,items:t},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:l}){const{indent:a,options:{commentString:u}}=n,h=Object.assign({},n,{indent:i,type:null});let c=!1;const f=[];for(let v=0;v<t.length;++v){const y=t[v];let w=null;if(te(y))!c&&y.spaceBefore&&f.push(""),qo(n,f,y.commentBefore,c),y.comment&&(w=y.comment);else if(X(y)){const d=te(y.key)?y.key:null;d&&(!c&&d.spaceBefore&&f.push(""),qo(n,f,d.commentBefore,c))}c=!1;let m=zr(y,h,()=>w=null,()=>c=!0);w&&(m+=Rn(m,i,u(w))),c&&w&&(c=!1),f.push(r+m)}let p;if(f.length===0)p=s.start+s.end;else{p=f[0];for(let v=1;v<f.length;++v){const y=f[v];p+=y?`
${a}${y}`:`
`}}return e?(p+=`
`+Ut(u(e),a),l&&l()):c&&o&&o(),p}function vS({items:e},t,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:l}}=t;r+=i;const a=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,h=0;const c=[];for(let v=0;v<e.length;++v){const y=e[v];let w=null;if(te(y))y.spaceBefore&&c.push(""),qo(t,c,y.commentBefore,!1),y.comment&&(w=y.comment);else if(X(y)){const d=te(y.key)?y.key:null;d&&(d.spaceBefore&&c.push(""),qo(t,c,d.commentBefore,!1),d.comment&&(u=!0));const g=te(y.value)?y.value:null;g?(g.comment&&(w=g.comment),g.commentBefore&&(u=!0)):y.value==null&&(d!=null&&d.comment)&&(w=d.comment)}w&&(u=!0);let m=zr(y,a,()=>w=null);v<e.length-1&&(m+=","),w&&(m+=Rn(m,r,l(w))),!u&&(c.length>h||m.includes(`
`))&&(u=!0),c.push(m),h=c.length}const{start:f,end:p}=n;if(c.length===0)return f+p;if(!u){const v=c.reduce((y,w)=>y+w.length+2,2);u=t.options.lineWidth>0&&v>t.options.lineWidth}if(u){let v=f;for(const y of c)v+=y?`
${i}${s}${y}`:`
`;return`${v}
${s}${p}`}else return`${f}${o}${c.join(" ")}${o}${p}`}function qo({indent:e,options:{commentString:t}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=Ut(t(r),e);n.push(i.trimStart())}}function In(e,t){const n=W(t)?t.value:t;for(const r of e)if(X(r)&&(r.key===t||r.key===n||W(r.key)&&r.key.value===n))return r}class Qe extends Qy{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(dn,t),this.items=[]}static from(t,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(t),l=(a,u)=>{if(typeof i=="function")u=i.call(n,a,u);else if(Array.isArray(i)&&!i.includes(a))return;(u!==void 0||s)&&o.items.push(Uf(a,u,r))};if(n instanceof Map)for(const[a,u]of n)l(a,u);else if(n&&typeof n=="object")for(const a of Object.keys(n))l(a,n[a]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,n){var o;let r;X(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Pe(t,t==null?void 0:t.value):r=new Pe(t.key,t.value);const s=In(this.items,r.key),i=(o=this.schema)==null?void 0:o.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);W(s.value)&&Hy(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const l=this.items.findIndex(a=>i(r,a)<0);l===-1?this.items.push(r):this.items.splice(l,0,r)}else this.items.push(r)}delete(t){const n=In(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=In(this.items,t),s=r==null?void 0:r.value;return(!n&&W(s)?s.value:s)??void 0}has(t){return!!In(this.items,t)}set(t,n){this.add(new Pe(t,n),!0)}toJSON(t,n,r){const s=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items)Zy(n,s,i);return s}toString(t,n,r){if(!t)return JSON.stringify(this);for(const s of this.items)if(!X(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),eg(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Yr={collection:"map",default:!0,nodeClass:Qe,tag:"tag:yaml.org,2002:map",resolve(e,t){return Jr(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Qe.from(e,t,n)};class gn extends Qy{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Qr,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=ji(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=ji(t);if(typeof r!="number")return;const s=this.items[r];return!n&&W(s)?s.value:s}has(t){const n=ji(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=ji(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const s=this.items[r];W(s)&&Hy(n)?s.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(it(i,String(s++),n));return r}toString(t,n,r){return t?eg(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n)){let o=0;for(let l of n){if(typeof s=="function"){const a=n instanceof Set?l:String(o++);l=s.call(n,a,l)}i.items.push(ei(l,void 0,r))}}return i}}function ji(e){let t=W(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Gr={collection:"seq",default:!0,nodeClass:gn,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Xr(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>gn.from(e,t,n)},sa={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),fi(e,t,n,r)}},ia={identify:e=>e==null,createNode:()=>new T(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new T(null),stringify:({source:e},t)=>typeof e=="string"&&ia.test.test(e)?e:t.options.nullStr},zf={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new T(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&zf.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Et({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let l=t-(i.length-o-1);for(;l-- >0;)i+="0"}return i}const tg={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Et},ng={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Et(e)}},rg={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new T(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Et},oa=e=>typeof e=="bigint"||Number.isInteger(e),Kf=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function sg(e,t,n){const{value:r}=e;return oa(r)&&r>=0?n+r.toString(t):Et(e)}const ig={identify:e=>oa(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Kf(e,2,8,n),stringify:e=>sg(e,8,"0o")},og={identify:oa,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Kf(e,0,10,n),stringify:Et},lg={identify:e=>oa(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Kf(e,2,16,n),stringify:e=>sg(e,16,"0x")},SS=[Yr,Gr,sa,ia,zf,ig,og,lg,tg,ng,rg];function Rh(e){return typeof e=="bigint"||Number.isInteger(e)}const Fi=({value:e})=>JSON.stringify(e),_S=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Fi},{identify:e=>e==null,createNode:()=>new T(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Fi},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Fi},{identify:Rh,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Rh(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Fi}],kS={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},ES=[Yr,Gr].concat(_S,kS),Wf={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,s,i){const o=n;let l;if(typeof Buffer=="function")l=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);l=btoa(a)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=T.BLOCK_LITERAL),t!==T.QUOTE_DOUBLE){const a=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(l.length/a),h=new Array(u);for(let c=0,f=0;c<u;++c,f+=a)h[c]=l.substr(f,a);l=h.join(t===T.BLOCK_LITERAL?`
`:" ")}return fi({comment:e,type:t,value:l},r,s,i)}};function ag(e,t){if(Xr(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!X(r)){if(Jr(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const s=r.items[0]||new Pe(new T(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}e.items[n]=X(r)?r:new Pe(r)}}else t("Expected a sequence for this tag");return e}function ug(e,t,n){const{replacer:r}=n,s=new gn(e);s.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(i++),o));let l,a;if(Array.isArray(o))if(o.length===2)l=o[0],a=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)l=u[0],a=o[l];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else l=o;s.items.push(Uf(l,a,n))}return s}const Vf={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ag,createNode:ug};class Pr extends gn{constructor(){super(),this.add=Qe.prototype.add.bind(this),this.delete=Qe.prototype.delete.bind(this),this.get=Qe.prototype.get.bind(this),this.has=Qe.prototype.has.bind(this),this.set=Qe.prototype.set.bind(this),this.tag=Pr.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(X(s)?(i=it(s.key,"",n),o=it(s.value,i,n)):i=it(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(t,n,r){const s=ug(t,n,r),i=new this;return i.items=s.items,i}}Pr.tag="tag:yaml.org,2002:omap";const qf={collection:"seq",identify:e=>e instanceof Map,nodeClass:Pr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=ag(e,t),r=[];for(const{key:s}of n.items)W(s)&&(r.includes(s.value)?t(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new Pr,n)},createNode:(e,t,n)=>Pr.from(e,t,n)};function cg({value:e,source:t},n){return t&&(e?fg:dg).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const fg={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new T(!0),stringify:cg},dg={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new T(!1),stringify:cg},bS={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Et},CS={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Et(e)}},xS={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new T(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Et},di=e=>typeof e=="bigint"||Number.isInteger(e);function la(e,t,n,{intAsBigInt:r}){const s=e[0];if((s==="-"||s==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return s==="-"?BigInt(-1)*o:o}const i=parseInt(e,n);return s==="-"?-1*i:i}function Hf(e,t,n){const{value:r}=e;if(di(r)){const s=r.toString(t);return r<0?"-"+n+s.substr(1):n+s}return Et(e)}const PS={identify:di,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>la(e,2,2,n),stringify:e=>Hf(e,2,"0b")},AS={identify:di,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>la(e,1,8,n),stringify:e=>Hf(e,8,"0")},NS={identify:di,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>la(e,0,10,n),stringify:Et},OS={identify:di,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>la(e,2,16,n),stringify:e=>Hf(e,16,"0x")};class Ar extends Qe{constructor(t){super(t),this.tag=Ar.tag}add(t){let n;X(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Pe(t.key,null):n=new Pe(t,null),In(this.items,n.key)||this.items.push(n)}get(t,n){const r=In(this.items,t);return!n&&X(r)?W(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=In(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Pe(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(Uf(o,null,r));return i}}Ar.tag="tag:yaml.org,2002:set";const Qf={collection:"map",identify:e=>e instanceof Set,nodeClass:Ar,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Ar.from(e,t,n),resolve(e,t){if(Jr(e)){if(e.hasAllNullValues(!0))return Object.assign(new Ar,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Jf(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,s=o=>t?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,l)=>o*s(60)+s(l),s(0));return n==="-"?s(-1)*i:i}function hg(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return Et(e);let r="";t<0&&(r="-",t*=n(-1));const s=n(60),i=[t%s];return t<60?i.unshift(0):(t=(t-i[0])/s,i.unshift(t%s),t>=60&&(t=(t-i[0])/s,i.unshift(t))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const pg={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Jf(e,n),stringify:hg},mg={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Jf(e,!1),stringify:hg},aa={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(aa.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,l]=t.map(Number),a=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,s,i||0,o||0,l||0,a);const h=t[8];if(h&&h!=="Z"){let c=Jf(h,!1);Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Ih=[Yr,Gr,sa,ia,fg,dg,PS,AS,NS,OS,bS,CS,xS,Wf,Kt,qf,Vf,Qf,pg,mg,aa],Th=new Map([["core",SS],["failsafe",[Yr,Gr,sa]],["json",ES],["yaml11",Ih],["yaml-1.1",Ih]]),$h={binary:Wf,bool:zf,float:rg,floatExp:ng,floatNaN:tg,floatTime:mg,int:og,intHex:lg,intOct:ig,intTime:pg,map:Yr,merge:Kt,null:ia,omap:qf,pairs:Vf,seq:Gr,set:Qf,timestamp:aa},RS={"tag:yaml.org,2002:binary":Wf,"tag:yaml.org,2002:merge":Kt,"tag:yaml.org,2002:omap":qf,"tag:yaml.org,2002:pairs":Vf,"tag:yaml.org,2002:set":Qf,"tag:yaml.org,2002:timestamp":aa};function Ga(e,t,n){const r=Th.get(t);if(r&&!e)return n&&!r.includes(Kt)?r.concat(Kt):r.slice();let s=r;if(!s)if(Array.isArray(e))s=[];else{const i=Array.from(Th.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${i} or define customTags array`)}if(Array.isArray(e))for(const i of e)s=s.concat(i);else typeof e=="function"&&(s=e(s.slice()));return n&&(s=s.concat(Kt)),s.reduce((i,o)=>{const l=typeof o=="string"?$h[o]:o;if(!l){const a=JSON.stringify(o),u=Object.keys($h).map(h=>JSON.stringify(h)).join(", ");throw new Error(`Unknown custom tag ${a}; use one of ${u}`)}return i.includes(l)||i.push(l),i},[])}const IS=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class ua{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:l}){this.compat=Array.isArray(t)?Ga(t,"compat"):t?Ga(null,t):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?RS:{},this.tags=Ga(n,this.name,r),this.toStringOptions=l??null,Object.defineProperty(this,dn,{value:Yr}),Object.defineProperty(this,$t,{value:sa}),Object.defineProperty(this,Qr,{value:Gr}),this.sortMapEntries=typeof o=="function"?o:o===!0?IS:null}clone(){const t=Object.create(ua.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function TS(e,t){var a;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const u=e.directives.toString(e);u?(n.push(u),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const s=Xy(e,t),{commentString:i}=s.options;if(e.commentBefore){n.length!==1&&n.unshift("");const u=i(e.commentBefore);n.unshift(Ut(u,""))}let o=!1,l=null;if(e.contents){if(te(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const c=i(e.contents.commentBefore);n.push(Ut(c,""))}s.forceBlockIndent=!!e.comment,l=e.contents.comment}const u=l?void 0:()=>o=!0;let h=zr(e.contents,s,()=>l=null,u);l&&(h+=Rn(h,"",i(l))),(h[0]==="|"||h[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${h}`:n.push(h)}else n.push(zr(e.contents,s));if((a=e.directives)!=null&&a.docEnd)if(e.comment){const u=i(e.comment);u.includes(`
`)?(n.push("..."),n.push(Ut(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=e.comment;u&&o&&(u=u.replace(/^\n+/,"")),u&&((!o||l)&&n[n.length-1]!==""&&n.push(""),n.push(Ut(i(u),"")))}return n.join(`
`)+`
`}class Zr{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,at,{value:fc});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Re({version:o}),this.setSchema(o,r),this.contents=t===void 0?null:this.createNode(t,s,r)}clone(){const t=Object.create(Zr.prototype,{[at]:{value:fc}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=te(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Xn(this.contents)&&this.contents.add(t)}addIn(t,n){Xn(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=Vy(this);t.anchor=!n||r.has(n)?qy(n||"a",r):n}return new ea(t.anchor)}createNode(t,n,r){let s;if(typeof n=="function")t=n.call({"":t},"",t),s=n;else if(Array.isArray(n)){const w=d=>typeof d=="number"||d instanceof String||d instanceof Number,m=n.filter(w).map(String);m.length>0&&(n=n.concat(m)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:l,keepUndefined:a,onTagObj:u,tag:h}=r??{},{onAnchor:c,setAnchors:f,sourceObjects:p}=lS(this,o||"a"),v={aliasDuplicateObjects:i??!0,keepUndefined:a??!1,onAnchor:c,onTagObj:u,replacer:s,schema:this.schema,sourceObjects:p},y=ei(t,h,v);return l&&Z(y)&&(y.flow=!0),f(),y}createPair(t,n,r={}){const s=this.createNode(t,null,r),i=this.createNode(n,null,r);return new Pe(s,i)}delete(t){return Xn(this.contents)?this.contents.delete(t):!1}deleteIn(t){return ms(t)?this.contents==null?!1:(this.contents=null,!0):Xn(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Z(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return ms(t)?!n&&W(this.contents)?this.contents.value:this.contents:Z(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Z(this.contents)?this.contents.has(t):!1}hasIn(t){return ms(t)?this.contents!==void 0:Z(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=Vo(this.schema,[t],n):Xn(this.contents)&&this.contents.set(t,n)}setIn(t,n){ms(t)?this.contents=n:this.contents==null?this.contents=Vo(this.schema,Array.from(t),n):Xn(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Re({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Re({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new ua(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const l={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=it(this.contents,n??"",l);if(typeof i=="function")for(const{count:u,res:h}of l.anchors.values())i(h,u);return typeof o=="function"?gr(o,{"":a},"",a):a}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return TS(this,t)}}function Xn(e){if(Z(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Xf extends Error{constructor(t,n,r,s){super(),this.name=t,this.code=r,this.message=s,this.pos=n}}class Tn extends Xf{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class yg extends Xf{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const Ho=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(l=>t.linePos(l));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const l=Math.min(i-39,o.length-79);o=""+o.substring(l),i-=l-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,i))){let l=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);l.length>80&&(l=l.substring(0,79)+`
`),o=l+o}if(/[^ ]/.test(o)){let l=1;const a=n.linePos[1];a&&a.line===r&&a.col>s&&(l=Math.max(1,Math.min(a.col-s,80-i)));const u=" ".repeat(i)+"^".repeat(l);n.message+=`:

${o}
${u}
`}};function Kr(e,{flow:t,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:l}){let a=!1,u=l,h=l,c="",f="",p=!1,v=!1,y=null,w=null,m=null,d=null,g=null,S=null,k=null;for(const E of e)switch(v&&(E.type!=="space"&&E.type!=="newline"&&E.type!=="comma"&&i(E.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),v=!1),y&&(u&&E.type!=="comment"&&E.type!=="newline"&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),E.type){case"space":!t&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&E.source.includes("	")&&(y=E),h=!0;break;case"comment":{h||i(E,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const O=E.source.substring(1)||" ";c?c+=f+O:c=O,f="",u=!1;break}case"newline":u?c?c+=E.source:a=!0:f+=E.source,u=!0,p=!0,(w||m)&&(d=E),h=!0;break;case"anchor":w&&i(E,"MULTIPLE_ANCHORS","A node can have at most one anchor"),E.source.endsWith(":")&&i(E.offset+E.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=E,k===null&&(k=E.offset),u=!1,h=!1,v=!0;break;case"tag":{m&&i(E,"MULTIPLE_TAGS","A node can have at most one tag"),m=E,k===null&&(k=E.offset),u=!1,h=!1,v=!0;break}case n:(w||m)&&i(E,"BAD_PROP_ORDER",`Anchors and tags must be after the ${E.source} indicator`),S&&i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.source} in ${t??"collection"}`),S=E,u=n==="seq-item-ind"||n==="explicit-key-ind",h=!1;break;case"comma":if(t){g&&i(E,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),g=E,u=!1,h=!1;break}default:i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.type} token`),u=!1,h=!1}const _=e[e.length-1],b=_?_.offset+_.source.length:s;return v&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(u&&y.indent<=o||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:g,found:S,spaceBefore:a,comment:c,hasNewline:p,anchor:w,tag:m,newlineAfterProp:d,end:b,start:k??b}}function ti(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(ti(t.key)||ti(t.value))return!0}return!1;default:return!0}}function mc(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&ti(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function gg(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||W(i)&&W(o)&&i.value===o.value;return t.some(i=>s(i.key,n))}const Lh="All mapping items must start at the same column";function $S({composeNode:e,composeEmptyNode:t},n,r,s,i){var h;const o=(i==null?void 0:i.nodeClass)??Qe,l=new o(n.schema);n.atRoot&&(n.atRoot=!1);let a=r.offset,u=null;for(const c of r.items){const{start:f,key:p,sep:v,value:y}=c,w=Kr(f,{indicator:"explicit-key-ind",next:p??(v==null?void 0:v[0]),offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0}),m=!w.found;if(m){if(p&&(p.type==="block-seq"?s(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==r.indent&&s(a,"BAD_INDENT",Lh)),!w.anchor&&!w.tag&&!v){u=w.end,w.comment&&(l.comment?l.comment+=`
`+w.comment:l.comment=w.comment);continue}(w.newlineAfterProp||ti(p))&&s(p??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((h=w.found)==null?void 0:h.indent)!==r.indent&&s(a,"BAD_INDENT",Lh);n.atKey=!0;const d=w.end,g=p?e(n,p,w,s):t(n,d,f,null,w,s);n.schema.compat&&mc(r.indent,p,s),n.atKey=!1,gg(n,l.items,g)&&s(d,"DUPLICATE_KEY","Map keys must be unique");const S=Kr(v??[],{indicator:"map-value-ind",next:y,offset:g.range[2],onError:s,parentIndent:r.indent,startOnNewline:!p||p.type==="block-scalar"});if(a=S.end,S.found){m&&((y==null?void 0:y.type)==="block-map"&&!S.hasNewline&&s(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&w.start<S.found.offset-1024&&s(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const k=y?e(n,y,S,s):t(n,a,v,null,S,s);n.schema.compat&&mc(r.indent,y,s),a=k.range[2];const _=new Pe(g,k);n.options.keepSourceTokens&&(_.srcToken=c),l.items.push(_)}else{m&&s(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),S.comment&&(g.comment?g.comment+=`
`+S.comment:g.comment=S.comment);const k=new Pe(g);n.options.keepSourceTokens&&(k.srcToken=c),l.items.push(k)}}return u&&u<a&&s(u,"IMPOSSIBLE","Map comment with trailing content"),l.range=[r.offset,a,u??a],l}function LS({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=(i==null?void 0:i.nodeClass)??gn,l=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let a=r.offset,u=null;for(const{start:h,value:c}of r.items){const f=Kr(h,{indicator:"seq-item-ind",next:c,offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||c)c&&c.type==="block-seq"?s(f.end,"BAD_INDENT","All sequence items must start at the same column"):s(a,"MISSING_CHAR","Sequence item without - indicator");else{u=f.end,f.comment&&(l.comment=f.comment);continue}const p=c?e(n,c,f,s):t(n,f.end,h,null,f,s);n.schema.compat&&mc(r.indent,c,s),a=p.range[2],l.items.push(p)}return l.range=[r.offset,a,u??a],l}function hi(e,t,n,r){let s="";if(e){let i=!1,o="";for(const l of e){const{source:a,type:u}=l;switch(u){case"space":i=!0;break;case"comment":{n&&!i&&r(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const h=a.substring(1)||" ";s?s+=o+h:s=h,o="";break}case"newline":s&&(o+=a),i=!0;break;default:r(l,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=a.length}}return{comment:s,offset:t}}const Za="Block collections are not allowed within flow collections",eu=e=>e&&(e.type==="block-map"||e.type==="block-seq");function MS({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=r.start.source==="{",l=o?"flow map":"flow sequence",a=(i==null?void 0:i.nodeClass)??(o?Qe:gn),u=new a(n.schema);u.flow=!0;const h=n.atRoot;h&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=r.offset+r.start.source.length;for(let w=0;w<r.items.length;++w){const m=r.items[w],{start:d,key:g,sep:S,value:k}=m,_=Kr(d,{flow:l,indicator:"explicit-key-ind",next:g??(S==null?void 0:S[0]),offset:c,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!_.found){if(!_.anchor&&!_.tag&&!S&&!k){w===0&&_.comma?s(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`):w<r.items.length-1&&s(_.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${l}`),_.comment&&(u.comment?u.comment+=`
`+_.comment:u.comment=_.comment),c=_.end;continue}!o&&n.options.strict&&ti(g)&&s(g,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(w===0)_.comma&&s(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`);else if(_.comma||s(_.start,"MISSING_CHAR",`Missing , between ${l} items`),_.comment){let b="";e:for(const E of d)switch(E.type){case"comma":case"space":break;case"comment":b=E.source.substring(1);break e;default:break e}if(b){let E=u.items[u.items.length-1];X(E)&&(E=E.value??E.key),E.comment?E.comment+=`
`+b:E.comment=b,_.comment=_.comment.substring(b.length+1)}}if(!o&&!S&&!_.found){const b=k?e(n,k,_,s):t(n,_.end,S,null,_,s);u.items.push(b),c=b.range[2],eu(k)&&s(b.range,"BLOCK_IN_FLOW",Za)}else{n.atKey=!0;const b=_.end,E=g?e(n,g,_,s):t(n,b,d,null,_,s);eu(g)&&s(E.range,"BLOCK_IN_FLOW",Za),n.atKey=!1;const O=Kr(S??[],{flow:l,indicator:"map-value-ind",next:k,offset:E.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(O.found){if(!o&&!_.found&&n.options.strict){if(S)for(const F of S){if(F===O.found)break;if(F.type==="newline"){s(F,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}_.start<O.found.offset-1024&&s(O.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else k&&("source"in k&&k.source&&k.source[0]===":"?s(k,"MISSING_CHAR",`Missing space after : in ${l}`):s(O.start,"MISSING_CHAR",`Missing , or : between ${l} items`));const P=k?e(n,k,O,s):O.found?t(n,O.end,S,null,O,s):null;P?eu(k)&&s(P.range,"BLOCK_IN_FLOW",Za):O.comment&&(E.comment?E.comment+=`
`+O.comment:E.comment=O.comment);const I=new Pe(E,P);if(n.options.keepSourceTokens&&(I.srcToken=m),o){const F=u;gg(n,F.items,E)&&s(b,"DUPLICATE_KEY","Map keys must be unique"),F.items.push(I)}else{const F=new Qe(n.schema);F.flow=!0,F.items.push(I);const et=(P??E).range;F.range=[E.range[0],et[1],et[2]],u.items.push(F)}c=P?P.range[2]:O.end}}const f=o?"}":"]",[p,...v]=r.end;let y=c;if(p&&p.source===f)y=p.offset+p.source.length;else{const w=l[0].toUpperCase()+l.substring(1),m=h?`${w} must end with a ${f}`:`${w} in block collection must be sufficiently indented and end with a ${f}`;s(c,h?"MISSING_CHAR":"BAD_INDENT",m),p&&p.source.length!==1&&v.unshift(p)}if(v.length>0){const w=hi(v,y,n.options.strict,s);w.comment&&(u.comment?u.comment+=`
`+w.comment:u.comment=w.comment),u.range=[r.offset,y,w.offset]}else u.range=[r.offset,y,y];return u}function tu(e,t,n,r,s,i){const o=n.type==="block-map"?$S(e,t,n,r,i):n.type==="block-seq"?LS(e,t,n,r,i):MS(e,t,n,r,i),l=o.constructor;return s==="!"||s===l.tagName?(o.tag=l.tagName,o):(s&&(o.tag=s),o)}function BS(e,t,n,r,s){var f;const i=r.tag,o=i?t.directives.tagName(i.source,p=>s(i,"TAG_RESOLVE_FAILED",p)):null;if(n.type==="block-seq"){const{anchor:p,newlineAfterProp:v}=r,y=p&&i?p.offset>i.offset?p:i:p??i;y&&(!v||v.offset<y.offset)&&s(y,"MISSING_CHAR","Missing newline after block sequence props")}const l=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===Qe.tagName&&l==="map"||o===gn.tagName&&l==="seq")return tu(e,t,n,s,o);let a=t.schema.tags.find(p=>p.tag===o&&p.collection===l);if(!a){const p=t.schema.knownTags[o];if(p&&p.collection===l)t.schema.tags.push(Object.assign({},p,{default:!1})),a=p;else return p!=null&&p.collection?s(i,"BAD_COLLECTION_TYPE",`${p.tag} used for ${l} collection, but expects ${p.collection}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),tu(e,t,n,s,o)}const u=tu(e,t,n,s,o,a),h=((f=a.resolve)==null?void 0:f.call(a,u,p=>s(i,"TAG_RESOLVE_FAILED",p),t.options))??u,c=te(h)?h:new T(h);return c.range=u.range,c.tag=o,a!=null&&a.format&&(c.format=a.format),c}function wg(e,t,n){const r=t.offset,s=DS(t,e.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?T.BLOCK_FOLDED:T.BLOCK_LITERAL,o=t.source?jS(t.source):[];let l=o.length;for(let y=o.length-1;y>=0;--y){const w=o[y][1];if(w===""||w==="\r")l=y;else break}if(l===0){const y=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let w=r+s.length;return t.source&&(w+=t.source.length),{value:y,type:i,comment:s.comment,range:[r,w,w]}}let a=t.indent+s.indent,u=t.offset+s.length,h=0;for(let y=0;y<l;++y){const[w,m]=o[y];if(m===""||m==="\r")s.indent===0&&w.length>a&&(a=w.length);else{w.length<a&&n(u+w.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(a=w.length),h=y,a===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=w.length+m.length+1}for(let y=o.length-1;y>=l;--y)o[y][0].length>a&&(l=y+1);let c="",f="",p=!1;for(let y=0;y<h;++y)c+=o[y][0].slice(a)+`
`;for(let y=h;y<l;++y){let[w,m]=o[y];u+=w.length+m.length+1;const d=m[m.length-1]==="\r";if(d&&(m=m.slice(0,-1)),m&&w.length<a){const S=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(u-m.length-(d?2:1),"BAD_INDENT",S),w=""}i===T.BLOCK_LITERAL?(c+=f+w.slice(a)+m,f=`
`):w.length>a||m[0]==="	"?(f===" "?f=`
`:!p&&f===`
`&&(f=`

`),c+=f+w.slice(a)+m,f=`
`,p=!0):m===""?f===`
`?c+=`
`:f=`
`:(c+=f+m,f=" ",p=!1)}switch(s.chomp){case"-":break;case"+":for(let y=l;y<o.length;++y)c+=`
`+o[y][0].slice(a);c[c.length-1]!==`
`&&(c+=`
`);break;default:c+=`
`}const v=r+s.length+t.source.length;return{value:c,type:i,comment:s.comment,range:[r,v,v]}}function DS({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=t[0],i=s[0];let o=0,l="",a=-1;for(let f=1;f<s.length;++f){const p=s[f];if(!l&&(p==="-"||p==="+"))l=p;else{const v=Number(p);!o&&v?o=v:a===-1&&(a=e+f)}}a!==-1&&r(a,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let u=!1,h="",c=s.length;for(let f=1;f<t.length;++f){const p=t[f];switch(p.type){case"space":u=!0;case"newline":c+=p.source.length;break;case"comment":n&&!u&&r(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),c+=p.source.length,h=p.source.substring(1);break;case"error":r(p,"UNEXPECTED_TOKEN",p.message),c+=p.source.length;break;default:{const v=`Unexpected token in block scalar header: ${p.type}`;r(p,"UNEXPECTED_TOKEN",v);const y=p.source;y&&typeof y=="string"&&(c+=y.length)}}}return{mode:i,indent:o,chomp:l,comment:h,length:c}}function jS(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),i=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)i.push([t[o],t[o+1]]);return i}function vg(e,t,n){const{offset:r,type:s,source:i,end:o}=e;let l,a;const u=(f,p,v)=>n(r+f,p,v);switch(s){case"scalar":l=T.PLAIN,a=FS(i,u);break;case"single-quoted-scalar":l=T.QUOTE_SINGLE,a=US(i,u);break;case"double-quoted-scalar":l=T.QUOTE_DOUBLE,a=zS(i,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const h=r+i.length,c=hi(o,h,t,n);return{value:a,type:l,comment:c.comment,range:[r,h,c.offset]}}function FS(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Sg(e)}function US(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Sg(e.slice(1,-1)).replace(/''/g,"'")}function Sg(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let s=r[1],i=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const l=/[ \t]*(.*)/sy;return l.lastIndex=o,r=l.exec(e),s+i+((r==null?void 0:r[1])??"")}function zS(e,t){let n="";for(let r=1;r<e.length-1;++r){const s=e[r];if(!(s==="\r"&&e[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=KS(e,r);n+=i,r=o}else if(s==="\\"){let i=e[++r];const o=WS[i];if(o)n+=o;else if(i===`
`)for(i=e[r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="\r"&&e[r+1]===`
`)for(i=e[++r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="x"||i==="u"||i==="U"){const l={x:2,u:4,U:8}[i];n+=VS(e,r+1,l,t),r+=l}else{const l=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),n+=l}}else if(s===" "||s==="	"){const i=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>i?e.slice(i,r+1):s)}else n+=s}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function KS(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const WS={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function VS(e,t,n,r){const s=e.substr(t,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const l=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),l}return String.fromCodePoint(o)}function _g(e,t,n,r){const{value:s,type:i,comment:o,range:l}=t.type==="block-scalar"?wg(e,t,r):vg(t,e.options.strict,r),a=n?e.directives.tagName(n.source,c=>r(n,"TAG_RESOLVE_FAILED",c)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[$t]:a?u=qS(e.schema,s,a,n,r):t.type==="scalar"?u=HS(e,s,t,r):u=e.schema[$t];let h;try{const c=u.resolve(s,f=>r(n??t,"TAG_RESOLVE_FAILED",f),e.options);h=W(c)?c:new T(c)}catch(c){const f=c instanceof Error?c.message:String(c);r(n??t,"TAG_RESOLVE_FAILED",f),h=new T(s)}return h.range=l,h.source=s,i&&(h.type=i),a&&(h.tag=a),u.format&&(h.format=u.format),o&&(h.comment=o),h}function qS(e,t,n,r,s){var l;if(n==="!")return e[$t];const i=[];for(const a of e.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if((l=a.test)!=null&&l.test(t))return a;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[$t])}function HS({atKey:e,directives:t,schema:n},r,s,i){const o=n.tags.find(l=>{var a;return(l.default===!0||e&&l.default==="key")&&((a=l.test)==null?void 0:a.test(r))})||n[$t];if(n.compat){const l=n.compat.find(a=>{var u;return a.default&&((u=a.test)==null?void 0:u.test(r))})??n[$t];if(o.tag!==l.tag){const a=t.tagString(o.tag),u=t.tagString(l.tag),h=`Value may be parsed as either ${a} or ${u}`;i(s,"TAG_RESOLVE_FAILED",h,!0)}}return o}function QS(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let s=t[r];switch(s.type){case"space":case"comment":case"newline":e-=s.source.length;continue}for(s=t[++r];(s==null?void 0:s.type)==="space";)e+=s.source.length,s=t[++r];break}}return e}const JS={composeNode:kg,composeEmptyNode:Yf};function kg(e,t,n,r){const s=e.atKey,{spaceBefore:i,comment:o,anchor:l,tag:a}=n;let u,h=!0;switch(t.type){case"alias":u=XS(e,t,r),(l||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=_g(e,t,a,r),l&&(u.anchor=l.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=BS(JS,e,t,n,r),l&&(u.anchor=l.source.substring(1));break;default:{const c=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",c),u=Yf(e,t.offset,void 0,null,n,r),h=!1}}return l&&u.anchor===""&&r(l,"BAD_ALIAS","Anchor cannot be an empty string"),s&&e.options.stringKeys&&(!W(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(a??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(u.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?u.comment=o:u.commentBefore=o),e.options.keepSourceTokens&&h&&(u.srcToken=t),u}function Yf(e,t,n,r,{spaceBefore:s,comment:i,anchor:o,tag:l,end:a},u){const h={type:"scalar",offset:QS(t,n,r),indent:-1,source:""},c=_g(e,h,l,u);return o&&(c.anchor=o.source.substring(1),c.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(c.spaceBefore=!0),i&&(c.comment=i,c.range[2]=a),c}function XS({options:e},{offset:t,source:n,end:r},s){const i=new ea(n.substring(1));i.source===""&&s(t,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,l=hi(r,o,e.strict,s);return i.range=[t,o,l.offset],l.comment&&(i.comment=l.comment),i}function YS(e,t,{offset:n,start:r,value:s,end:i},o){const l=Object.assign({_directives:t},e),a=new Zr(void 0,l),u={atKey:!1,atRoot:!0,directives:a.directives,options:a.options,schema:a.schema},h=Kr(r,{indicator:"doc-start",next:s??(i==null?void 0:i[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});h.found&&(a.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!h.hasNewline&&o(h.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),a.contents=s?kg(u,s,h,o):Yf(u,h.end,r,null,h,o);const c=a.contents.range[2],f=hi(i,c,!1,o);return f.comment&&(a.comment=f.comment),a.range=[n,c,f.offset],a}function as(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function Mh(e){var s;let t="",n=!1,r=!1;for(let i=0;i<e.length;++i){const o=e[i];switch(o[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((s=e[i+1])==null?void 0:s[0])!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class Gf{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=as(n);i?this.warnings.push(new yg(o,r,s)):this.errors.push(new Tn(o,r,s))},this.directives=new Re({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:s}=Mh(this.prelude);if(r){const i=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(s||t.directives.docStart||!i)t.commentBefore=r;else if(Z(i)&&!i.flow&&i.items.length>0){let o=i.items[0];X(o)&&(o=o.key);const l=o.commentBefore;o.commentBefore=l?`${r}
${l}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Mh(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const s of t)yield*this.next(s);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,s)=>{const i=as(t);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=YS(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new Tn(as(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Tn(as(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=hi(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Tn(as(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),s=new Zr(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}function GS(e,t=!0,n){if(e){const r=(s,i,o)=>{const l=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(n)n(l,i,o);else throw new Tn([l,l+1],i,o)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return vg(e,t,r);case"block-scalar":return wg({options:{strict:t}},e,r)}}return null}function ZS(e,t){const{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:i=-1,type:o="PLAIN"}=t,l=fi({type:o,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),a=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(l[0]){case"|":case">":{const u=l.indexOf(`
`),h=l.substring(0,u),c=l.substring(u+1)+`
`,f=[{type:"block-scalar-header",offset:i,indent:r,source:h}];return Eg(f,a)||f.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:i,indent:r,props:f,source:c}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:l,end:a};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:l,end:a};default:return{type:"scalar",offset:i,indent:r,source:l,end:a}}}function e_(e,t,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:i=!1,type:o}=n,l="indent"in e?e.indent:null;if(r&&typeof l=="number"&&(l+=2),!o)switch(e.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const u=e.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const a=fi({type:o,value:t},{implicitKey:s||l===null,indent:l!==null&&l>0?" ".repeat(l):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(a[0]){case"|":case">":t_(e,a);break;case'"':nu(e,a,"double-quoted-scalar");break;case"'":nu(e,a,"single-quoted-scalar");break;default:nu(e,a,"scalar")}}function t_(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),s=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const i=e.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=r,e.source=s}else{const{offset:i}=e,o="indent"in e?e.indent:-1,l=[{type:"block-scalar-header",offset:i,indent:o,source:r}];Eg(l,"end"in e?e.end:void 0)||l.push({type:"newline",offset:-1,indent:o,source:`
`});for(const a of Object.keys(e))a!=="type"&&a!=="offset"&&delete e[a];Object.assign(e,{type:"block-scalar",indent:o,props:l,source:s})}}function Eg(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function nu(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let s=t.length;e.props[0].type==="block-scalar-header"&&(s-=e.props[0].source.length);for(const i of r)i.offset+=s;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const s={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[s]});break}default:{const r="indent"in e?e.indent:-1,s="end"in e&&Array.isArray(e.end)?e.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(e))i!=="type"&&i!=="offset"&&delete e[i];Object.assign(e,{type:n,indent:r,source:t,end:s})}}}const n_=e=>"type"in e?Qo(e):co(e);function Qo(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=Qo(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=co(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=co(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=co(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function co({start:e,key:t,sep:n,value:r}){let s="";for(const i of e)s+=i.source;if(t&&(s+=Qo(t)),n)for(const i of n)s+=i.source;return r&&(s+=Qo(r)),s}const yc=Symbol("break visit"),r_=Symbol("skip children"),bg=Symbol("remove item");function Kn(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Cg(Object.freeze([]),e,t)}Kn.BREAK=yc;Kn.SKIP=r_;Kn.REMOVE=bg;Kn.itemAtPath=(e,t)=>{let n=e;for(const[r,s]of t){const i=n==null?void 0:n[r];if(i&&"items"in i)n=i.items[s];else return}return n};Kn.parentCollection=(e,t)=>{const n=Kn.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],s=n==null?void 0:n[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function Cg(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const s of["key","value"]){const i=t[s];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const l=Cg(Object.freeze(e.concat([[s,o]])),i.items[o],n);if(typeof l=="number")o=l-1;else{if(l===yc)return yc;l===bg&&(i.items.splice(o,1),o-=1)}}typeof r=="function"&&s==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const ca="\uFEFF",fa="",da="",ni="",s_=e=>!!e&&"items"in e,i_=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function o_(e){switch(e){case ca:return"<BOM>";case fa:return"<DOC>";case da:return"<FLOW_END>";case ni:return"<SCALAR>";default:return JSON.stringify(e)}}function xg(e){switch(e){case ca:return"byte-order-mark";case fa:return"doc-mode";case da:return"flow-error-end";case ni:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const l_=Object.freeze(Object.defineProperty({__proto__:null,BOM:ca,DOCUMENT:fa,FLOW_END:da,SCALAR:ni,createScalarToken:ZS,isCollection:s_,isScalar:i_,prettyToken:o_,resolveAsScalar:GS,setScalarValue:e_,stringify:n_,tokenType:xg,visit:Kn},Symbol.toStringTag,{value:"Module"}));function ct(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Bh=new Set("0123456789ABCDEFabcdef"),a_=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Ui=new Set(",[]{}"),u_=new Set(` ,[]{}
\r	`),ru=e=>!e||u_.has(e);class Pg{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const s=this.buffer[r+t+1];if(s===`
`||!s&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&ct(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===ca&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const i=t[r-1];if(i===" "||i==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const i=t[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield fa,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&ct(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ct(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&ct(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ru),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&ct(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield da,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ru),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||ct(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ct(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let s=t+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];t=s-1}else if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const l=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>l)t=i;else break}while(!0);return yield ni,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(ct(i)||t&&Ui.has(i))break;n=r}else if(ct(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||t&&Ui.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&Ui.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield ni,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ru))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(ct(n)||t&&Ui.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!ct(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(a_.has(n))n=this.buffer[++t];else if(n==="%"&&Bh.has(this.buffer[t+1])&&Bh.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Ag{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<t?n=i+1:r=i}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const s=this.lineStarts[n-1];return{line:n,col:t-s+1}}}}function xn(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Dh(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Ng(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function zi(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Yn(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function jh(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!xn(t.start,"explicit-key-ind")&&!xn(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Ng(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Zf{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Pg,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=xg(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&jh(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&Dh(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{Dh(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=zi(this.peek(2)),r=Yn(n);let s;t.end?(s=t.end,s.push(this.sourceToken),delete t.end):s=[this.sourceToken];const i={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const s=!this.onKeyLine&&this.indent===t.indent,i=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(i&&n.sep&&!n.value){const l=[];for(let a=0;a<n.sep.length;++a){const u=n.sep[a];switch(u.type){case"newline":l.push(a);break;case"space":break;case"comment":u.indent>t.indent&&(l.length=0);break;default:l.length=0}}l.length>=2&&(o=n.sep.splice(l[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(xn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Ng(n.key)&&!xn(n.sep,"newline")){const l=Yn(n.start),a=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:a,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(xn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const l=Yn(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):xn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const l=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:l,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(l):(Object.assign(n,{key:l,sep:[]}),this.onKeyLine=!0);return}default:{const l=this.startBlockValue(t);if(l){s&&l.type!=="block-seq"&&t.items.push({start:o}),this.stack.push(l);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||xn(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const s=this.startBlockValue(t);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=zi(r),i=Yn(s);jh(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const l={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:i,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=l}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=zi(t),r=Yn(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=zi(t),r=Yn(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Og(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Ag||null,prettyErrors:t}}function c_(e,t={}){const{lineCounter:n,prettyErrors:r}=Og(t),s=new Zf(n==null?void 0:n.addNewLine),i=new Gf(t),o=Array.from(i.compose(s.parse(e)));if(r&&n)for(const l of o)l.errors.forEach(Ho(e,n)),l.warnings.forEach(Ho(e,n));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function Rg(e,t={}){const{lineCounter:n,prettyErrors:r}=Og(t),s=new Zf(n==null?void 0:n.addNewLine),i=new Gf(t);let o=null;for(const l of i.compose(s.parse(e),!0,e.length))if(!o)o=l;else if(o.options.logLevel!=="silent"){o.errors.push(new Tn(l.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(Ho(e,n)),o.warnings.forEach(Ho(e,n))),o}function f_(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const s=Rg(e,n);if(!s)return null;if(s.warnings.forEach(i=>Yy(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function d_(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(e===void 0){const{keepUndefined:s}=n??t??{};if(!s)return}return Qn(e)&&!r?e.toString(n):new Zr(e,r,n).toString(n)}const Jo=Object.freeze(Object.defineProperty({__proto__:null,Alias:ea,CST:l_,Composer:Gf,Document:Zr,Lexer:Pg,LineCounter:Ag,Pair:Pe,Parser:Zf,Scalar:T,Schema:ua,YAMLError:Xf,YAMLMap:Qe,YAMLParseError:Tn,YAMLSeq:gn,YAMLWarning:yg,isAlias:Hn,isCollection:Z,isDocument:Qn,isMap:Jr,isNode:te,isPair:X,isScalar:W,isSeq:Xr,parse:f_,parseAllDocuments:c_,parseDocument:Rg,stringify:d_,visit:yn,visitAsync:Zl},Symbol.toStringTag,{value:"Module"}));function Fh(e){return JSON.parse(JSON.stringify(e))}const Q=Gl({entities:[],stage:{width:1e3,height:1e3},global:{timeScale:0}}),ed={name:"Nameless",x:0,y:0,rotation:0,scale:1,behaviors:[]},h_={name:"Nameless",type:"CustomBehavior"},Se={addEntity:e=>{const t=p_.fixEntityBlueprint(e),n=gc.toEntityProps(t);return Q.entities.push(n),n},removeEntity:e=>{Q.entities=Q.entities.filter(t=>t.uuid!==e)},updateEntity:(e,t)=>{const n=Q.entities.find(r=>r.uuid===e);return n&&Object.assign(n,t),n},addBehaviorToEntity:(e,t)=>{const n=Q.entities.find(s=>s.uuid===e);if(!n)throw new Error("Entity not found");const r=gc.toBehaviorProps(t);return n.behaviors.push(r),r},removeBehaviorFromEntity:(e,t)=>{const n=Q.entities.find(r=>r.uuid===e);n&&(n.behaviors=n.behaviors.filter(r=>r.type!==t))},clearWorld:()=>{Q.entities=[]},getEntity:e=>Q.entities.find(t=>t.uuid===e)},p_={fixEntityBlueprint(e){const t={...e};for(const n of["x","y","rotation","scale"])typeof t[n]=="string"&&(t[n]=parseFloat(t[n])),isNaN(t[n])&&(t[n]=ed[n]);for(const n of["name"])typeof t[n]!="string"&&(t[n]=String(t[n]));Array.isArray(t.behaviors)||(t.behaviors=[t.behaviors]);for(const n in t.behaviors??[]){const r=t.behaviors[n],s=this.fixBehaviorBlueprint(r),i=gc.toBehaviorProps(s);t.behaviors[n]=i}return t},fixBehaviorBlueprint(e){return typeof e=="string"&&(e={type:e}),{...e}}},gc={toEntityProps:e=>({...ed,...Fh(e),uuid:crypto.randomUUID()}),toBehaviorProps:e=>({...h_,...Fh(e),uuid:crypto.randomUUID()})},we=Gl({selectedEntityIds:[],aiBusy:!1}),hn={setSelectedEntityIds:e=>{we.selectedEntityIds=e},addSelectedEntityIds:e=>{const t=e.filter(n=>!we.selectedEntityIds.includes(n));we.selectedEntityIds.push(...t)},removeSelectedEntityIds:e=>{we.selectedEntityIds=we.selectedEntityIds.filter(t=>!e.includes(t))},toggleEntitySelection:(e,t)=>{if(t){const n=we.selectedEntityIds.indexOf(e);n===-1?we.selectedEntityIds.push(e):we.selectedEntityIds.splice(n,1)}else we.selectedEntityIds=[e]},clearSelection:()=>{we.selectedEntityIds=[]},setAIBusy:e=>{we.aiBusy=e}},Ig=()=>{const{selectedEntityIds:e}=kt(we),{entities:t}=kt(Q);return t.filter(n=>e.includes(n.uuid))},Tg=(...e)=>{const[t,n]=$.useState(!1),r=$.useCallback(s=>{e.includes(s.key)&&(n(i=>!i),console.log(` Toggled state (keys: ${e.join(", ")})`))},[e]);return $.useEffect(()=>(window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)),[r]),[t,n]},m_=()=>{const[e]=Tg("`"),t=kt(Q),n=Jo.stringify(t),r=kt(we),s=Jo.stringify(r);return e?C.jsx("div",{className:"absolute top-4 left-4 max-h-[calc(100vh-32px)] overflow-y-auto bg-white rounded-lg border border-gray-300 shadow-md animate-slide-in",children:C.jsxs("div",{className:"p-4 overflow-x-auto",children:[C.jsx("pre",{className:"text-xs font-bold mb-2",children:"IDE"}),C.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:s}),C.jsx("br",{}),C.jsx("hr",{}),C.jsx("br",{}),C.jsx("pre",{className:"text-xs font-bold mb-2",children:"World"}),C.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:n})]})}):null},er="4.67.3";let Uh=!1,$s,$g,Lg,wc,Mg,Bg,Dg,jg,Fg;function y_(e,t={auto:!1}){if(Uh)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if($s)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${$s}'\``);Uh=t.auto,$s=e.kind,$g=e.fetch,Lg=e.FormData,wc=e.File,Mg=e.ReadableStream,Bg=e.getMultipartRequestOptions,Dg=e.getDefaultAgent,jg=e.fileFromPath,Fg=e.isFsReadStream}let g_=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function w_({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new g_(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}$s||y_(w_(),{auto:!0});let ha=class vc{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=vc.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(vc.NEWLINE_REGEXP);return r&&s.pop(),s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new D(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new D(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new D("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}};ha.NEWLINE_CHARS=new Set([`
`,"\r"]);ha.NEWLINE_REGEXP=/\r\n|[\n\r]/g;let ri=class ys{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of v_(t,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(l&&l.error)throw new Ke(void 0,l.error,void 0,void 0);yield l}else{let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event=="error")throw new Ke(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new ys(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new ha,l=Ug(t);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new ys(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new ys(()=>s(t),this.controller),new ys(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new Mg({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}};async function*v_(e,t){if(!e.body)throw t.abort(),new D("Attempted to iterate over a response with no body");const n=new k_,r=new ha,s=Ug(e.body);for await(const i of S_(s))for(const o of r.decode(i)){const l=n.decode(o);l&&(yield l)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*S_(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=__(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}function __(e){for(let r=0;r<e.length-2;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}let k_=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=E_(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}};function E_(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function Ug(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const zg=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",Kg=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&pa(e),pa=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",b_=e=>Kg(e)||zg(e)||Fg(e);async function Wg(e,t,n){var s;if(e=await e,Kg(e))return e;if(zg(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=pa(i)?[await i.arrayBuffer()]:[i];return new wc(o,t,n)}const r=await C_(e);if(t||(t=P_(e)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new wc(r,t,n)}async function C_(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(pa(e))t.push(await e.arrayBuffer());else if(A_(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${x_(e)}`);return t}function x_(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function P_(e){var t;return su(e.name)||su(e.filename)||((t=su(e.path))==null?void 0:t.split(/[\\/]/).pop())}const su=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},A_=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",zh=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Wr=async e=>{const t=await N_(e.body);return Bg(t,e)},N_=async e=>{const t=new Lg;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Sc(t,n,r))),t},Sc=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(b_(n)){const r=await Wg(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Sc(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Sc(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Nr={},O_=function(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},R_=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ki;async function Vg(e){const{response:t}=e;if(e.options.stream)return Or("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):ri.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await t.json();return Or("response",t.status,t.url,t.headers,i),qg(i,t)}const s=await t.text();return Or("response",t.status,t.url,t.headers,s),s}function qg(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}let Hg=class Qg extends Promise{constructor(t,n=Vg){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Qg(this.responsePromise,async n=>qg(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},I_=class{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=iu("maxRetries",n),this.timeout=iu("timeout",r),this.httpAgent=s,this.fetch=i??$g}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...D_(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${z_()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&pa(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var y;const{method:r,path:s,query:i,headers:o={}}=t,l=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:zh(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,a=this.calculateContentLength(l),u=this.buildURL(s,i);"timeout"in t&&iu("timeout",t.timeout);const h=t.timeout??this.timeout,c=t.httpAgent??this.httpAgent??Dg(u),f=h+1e3;typeof((y=c==null?void 0:c.options)==null?void 0:y.timeout)=="number"&&f>(c.options.timeout??0)&&(c.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const p=this.buildHeaders({options:t,headers:o,contentLength:a,retryCount:n});return{req:{method:r,...l&&{body:l},headers:p,...c&&{agent:c},signal:t.signal??null},url:u,timeout:h}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(t);return qh(i,o),qh(i,n),zh(t.body)&&$s!=="node"&&delete i["content-type"],V_(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return Ke.generate(t,n,r,s)}request(t,n=null){return new Hg(this.makeRequest(t,n))}async makeRequest(t,n){var c,f;const r=await t,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:l}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),Or("request",o,r,i.headers),(c=r.signal)!=null&&c.aborted)throw new yt;const a=new AbortController,u=await this.fetchWithTimeout(o,i,l,a).catch(_c);if(u instanceof Error){if((f=r.signal)!=null&&f.aborted)throw new yt;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new td:new ma({cause:u})}const h=$_(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const d=`retrying, ${n} attempts remaining`;return Or(`response (error; ${d})`,u.status,o,h),this.retryRequest(r,n,h)}const p=await u.text().catch(d=>_c(d).message),v=j_(p),y=v?void 0:p;throw Or(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,h,y),this.makeStatusError(u.status,v,y,h)}return{response:u,options:r,controller:a}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new T_(this,r,t)}buildURL(t,n){const r=U_(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return Xg(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new D(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:s.signal,...o}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await pi(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${er}`}};class Jg{constructor(t,n,r,s){Ki.set(this,void 0),O_(this,Ki,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new D("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[s,i]of r)t.url.searchParams.set(s,i);n.query=void 0,n.path=t.url.toString()}return await R_(this,Ki,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Ki=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}let T_=class extends Hg{constructor(t,n,r){super(n,async s=>new r(t,s.response,await Vg(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}};const $_=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),L_={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ze=e=>typeof e=="object"&&e!==null&&!Xg(e)&&Object.keys(e).every(t=>Yg(L_,t)),M_=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":Wh(Deno.build.os),"X-Stainless-Arch":Kh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":Wh(process.platform),"X-Stainless-Arch":Kh(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=B_();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function B_(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const Kh=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Wh=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Vh;const D_=()=>Vh??(Vh=M_()),j_=e=>{try{return JSON.parse(e)}catch{return}},F_=new RegExp("^(?:[a-z]+:)?//","i"),U_=e=>F_.test(e),pi=e=>new Promise(t=>setTimeout(t,e)),iu=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new D(`${e} must be an integer`);if(t<0)throw new D(`${e} must be a positive integer`);return t},_c=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Wi=e=>{var t,n,r,s;if(typeof process<"u")return((t=Nr==null?void 0:Nr[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function Xg(e){if(!e)return!0;for(const t in e)return!1;return!0}function Yg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qh(e,t){for(const n in t){if(!Yg(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}function Or(e,...t){typeof process<"u"&&(Nr==null?void 0:Nr.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${e}`,...t)}const z_=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),K_=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",W_=e=>typeof(e==null?void 0:e.get)=="function",V_=(e,t)=>{var r;const n=t.toLowerCase();if(W_(e)){const s=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,l)=>o+l.toUpperCase());for(const i of[t,n,t.toUpperCase(),s]){const o=e.get(i);if(o)return o}}for(const[s,i]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i};function ou(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class D extends Error{}let Ke=class kc extends D{constructor(t,n,r,s){super(`${kc.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t)return new ma({message:r,cause:_c(n)});const i=n==null?void 0:n.error;return t===400?new Gg(t,i,r,s):t===401?new Zg(t,i,r,s):t===403?new e0(t,i,r,s):t===404?new t0(t,i,r,s):t===409?new n0(t,i,r,s):t===422?new r0(t,i,r,s):t===429?new s0(t,i,r,s):t>=500?new i0(t,i,r,s):new kc(t,i,r,s)}},yt=class extends Ke{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}},ma=class extends Ke{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}},td=class extends ma{constructor({message:t}={}){super({message:t??"Request timed out."})}},Gg=class extends Ke{constructor(){super(...arguments),this.status=400}},Zg=class extends Ke{constructor(){super(...arguments),this.status=401}},e0=class extends Ke{constructor(){super(...arguments),this.status=403}},t0=class extends Ke{constructor(){super(...arguments),this.status=404}},n0=class extends Ke{constructor(){super(...arguments),this.status=409}},r0=class extends Ke{constructor(){super(...arguments),this.status=422}},s0=class extends Ke{constructor(){super(...arguments),this.status=429}},i0=class extends Ke{};class o0 extends D{constructor(){super("Could not parse response content as the length limit was reached")}}class l0 extends D{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const Ec="RFC3986",bc={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},q_="RFC1738",H_=Array.isArray,xt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),lu=1024,Q_=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<i.length;l+=lu){const a=i.length>=lu?i.slice(l,l+lu):i,u=[];for(let h=0;h<a.length;++h){let c=a.charCodeAt(h);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===q_&&(c===40||c===41)){u[u.length]=a.charAt(h);continue}if(c<128){u[u.length]=xt[c];continue}if(c<2048){u[u.length]=xt[192|c>>6]+xt[128|c&63];continue}if(c<55296||c>=57344){u[u.length]=xt[224|c>>12]+xt[128|c>>6&63]+xt[128|c&63];continue}h+=1,c=65536+((c&1023)<<10|a.charCodeAt(h)&1023),u[u.length]=xt[240|c>>18]+xt[128|c>>12&63]+xt[128|c>>6&63]+xt[128|c&63]}o+=u.join("")}return o};function J_(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Hh(e,t){if(H_(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const X_=Object.prototype.hasOwnProperty,a0={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},At=Array.isArray,Y_=Array.prototype.push,u0=function(e,t){Y_.apply(e,At(t)?t:[t])},G_=Date.prototype.toISOString,ce={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Q_,encodeValuesOnly:!1,format:Ec,formatter:bc[Ec],indices:!1,serializeDate(e){return G_.call(e)},skipNulls:!1,strictNullHandling:!1};function Z_(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const au={};function c0(e,t,n,r,s,i,o,l,a,u,h,c,f,p,v,y,w,m){let d=e,g=m,S=0,k=!1;for(;(g=g.get(au))!==void 0&&!k;){const P=g.get(e);if(S+=1,typeof P<"u"){if(P===S)throw new RangeError("Cyclic object value");k=!0}typeof g.get(au)>"u"&&(S=0)}if(typeof u=="function"?d=u(t,d):d instanceof Date?d=f==null?void 0:f(d):n==="comma"&&At(d)&&(d=Hh(d,function(P){return P instanceof Date?f==null?void 0:f(P):P})),d===null){if(i)return a&&!y?a(t,ce.encoder,w,"key",p):t;d=""}if(Z_(d)||J_(d)){if(a){const P=y?t:a(t,ce.encoder,w,"key",p);return[(v==null?void 0:v(P))+"="+(v==null?void 0:v(a(d,ce.encoder,w,"value",p)))]}return[(v==null?void 0:v(t))+"="+(v==null?void 0:v(String(d)))]}const _=[];if(typeof d>"u")return _;let b;if(n==="comma"&&At(d))y&&a&&(d=Hh(d,a)),b=[{value:d.length>0?d.join(",")||null:void 0}];else if(At(u))b=u;else{const P=Object.keys(d);b=h?P.sort(h):P}const E=l?String(t).replace(/\./g,"%2E"):String(t),O=r&&At(d)&&d.length===1?E+"[]":E;if(s&&At(d)&&d.length===0)return O+"[]";for(let P=0;P<b.length;++P){const I=b[P],F=typeof I=="object"&&typeof I.value<"u"?I.value:d[I];if(o&&F===null)continue;const et=c&&l?I.replace(/\./g,"%2E"):I,yi=At(d)?typeof n=="function"?n(O,et):O:O+(c?"."+et:"["+et+"]");m.set(e,S);const gi=new WeakMap;gi.set(au,m),u0(_,c0(F,yi,n,r,s,i,o,l,n==="comma"&&y&&At(d)?null:a,u,h,c,f,p,v,y,w,gi))}return _}function ek(e=ce){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||ce.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Ec;if(typeof e.format<"u"){if(!X_.call(bc,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=bc[n];let s=ce.filter;(typeof e.filter=="function"||At(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in a0?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=ce.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:ce.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ce.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ce.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ce.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ce.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ce.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ce.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ce.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ce.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ce.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ce.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ce.strictNullHandling}}function tk(e,t={}){let n=e;const r=ek(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):At(r.filter)&&(i=r.filter,s=i);const o=[];if(typeof n!="object"||n===null)return"";const l=a0[r.arrayFormat],a=l==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let f=0;f<s.length;++f){const p=s[f];r.skipNulls&&n[p]===null||u0(o,c0(n[p],p,l,a,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const h=o.join(r.delimiter);let c=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),h.length>0?c+h:""}class nd extends Jg{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class bt extends Jg{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}let z=class{constructor(t){this._client=t}},Xo=class extends z{create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}};Xo||(Xo={});let Yo=class extends z{constructor(){super(...arguments),this.completions=new Xo(this._client)}};(function(e){e.Completions=Xo})(Yo||(Yo={}));class Go extends z{create(t,n){return this._client.post("/audio/speech",{body:t,...n,__binaryResponse:!0})}}Go||(Go={});let Zo=class extends z{create(t,n){return this._client.post("/audio/transcriptions",Wr({body:t,...n}))}};Zo||(Zo={});let el=class extends z{create(t,n){return this._client.post("/audio/translations",Wr({body:t,...n}))}};el||(el={});let tl=class extends z{constructor(){super(...arguments),this.transcriptions=new Zo(this._client),this.translations=new el(this._client),this.speech=new Go(this._client)}};(function(e){e.Transcriptions=Zo,e.Translations=el,e.Speech=Go})(tl||(tl={}));class nl extends z{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/batches",rd,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class rd extends bt{}(function(e){e.BatchesPage=rd})(nl||(nl={}));class rl extends z{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/assistants",sd,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class sd extends bt{}(function(e){e.AssistantsPage=sd})(rl||(rl={}));function Qh(e){return typeof e.parse=="function"}const Rr=e=>(e==null?void 0:e.role)==="assistant",f0=e=>(e==null?void 0:e.role)==="function",d0=e=>(e==null?void 0:e.role)==="tool";var ft=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Y=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Cc,fo,ho,gs,ws,po,vs,Mt,Ss,sl,il,tr,h0;class p0{constructor(){Cc.add(this),this.controller=new AbortController,fo.set(this,void 0),ho.set(this,()=>{}),gs.set(this,()=>{}),ws.set(this,void 0),po.set(this,()=>{}),vs.set(this,()=>{}),Mt.set(this,{}),Ss.set(this,!1),sl.set(this,!1),il.set(this,!1),tr.set(this,!1),ft(this,fo,new Promise((t,n)=>{ft(this,ho,t,"f"),ft(this,gs,n,"f")}),"f"),ft(this,ws,new Promise((t,n)=>{ft(this,po,t,"f"),ft(this,vs,n,"f")}),"f"),Y(this,fo,"f").catch(()=>{}),Y(this,ws,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},Y(this,Cc,"m",h0).bind(this))},0)}_connected(){this.ended||(Y(this,ho,"f").call(this),this._emit("connect"))}get ended(){return Y(this,Ss,"f")}get errored(){return Y(this,sl,"f")}get aborted(){return Y(this,il,"f")}abort(){this.controller.abort()}on(t,n){return(Y(this,Mt,"f")[t]||(Y(this,Mt,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=Y(this,Mt,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(Y(this,Mt,"f")[t]||(Y(this,Mt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{ft(this,tr,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){ft(this,tr,!0,"f"),await Y(this,ws,"f")}_emit(t,...n){if(Y(this,Ss,"f"))return;t==="end"&&(ft(this,Ss,!0,"f"),Y(this,po,"f").call(this));const r=Y(this,Mt,"f")[t];if(r&&(Y(this,Mt,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!Y(this,tr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Y(this,gs,"f").call(this,s),Y(this,vs,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!Y(this,tr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Y(this,gs,"f").call(this,s),Y(this,vs,"f").call(this,s),this._emit("end")}}_emitFinal(){}}fo=new WeakMap,ho=new WeakMap,gs=new WeakMap,ws=new WeakMap,po=new WeakMap,vs=new WeakMap,Mt=new WeakMap,Ss=new WeakMap,sl=new WeakMap,il=new WeakMap,tr=new WeakMap,Cc=new WeakSet,h0=function(t){if(ft(this,sl,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new yt),t instanceof yt)return ft(this,il,!0,"f"),this._emit("abort",t);if(t instanceof D)return this._emit("error",t);if(t instanceof Error){const n=new D(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new D(String(t)))};function m0(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function mi(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function nk(e,t){return!t||!y0(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:id(e,t)}function id(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new o0;if(r.finish_reason==="content_filter")throw new l0;return{...r,message:{...r.message,tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>sk(t,i)))??[],parsed:r.message.content&&!r.message.refusal?rk(t,r.message.content):null}}});return{...e,choices:n}}function rk(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function sk(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:mi(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function ik(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return mi(n)||(n==null?void 0:n.function.strict)||!1}function y0(e){var t;return m0(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>mi(n)||n.type==="function"&&n.function.strict===!0))??!1}function ok(e){for(const t of e??[]){if(t.type!=="function")throw new D(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new D(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Le=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ce,xc,ol,Pc,Ac,Nc,g0,Oc;const Jh=10;class w0 extends p0{constructor(){super(...arguments),Ce.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(f0(t)||d0(t))&&t.content)this._emit("functionCallResult",t.content);else if(Rr(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Rr(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new D("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Le(this,Ce,"m",xc).call(this)}async finalMessage(){return await this.done(),Le(this,Ce,"m",ol).call(this)}async finalFunctionCall(){return await this.done(),Le(this,Ce,"m",Pc).call(this)}async finalFunctionCallResult(){return await this.done(),Le(this,Ce,"m",Ac).call(this)}async totalUsage(){return await this.done(),Le(this,Ce,"m",Nc).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=Le(this,Ce,"m",ol).call(this);n&&this._emit("finalMessage",n);const r=Le(this,Ce,"m",xc).call(this);r&&this._emit("finalContent",r);const s=Le(this,Ce,"m",Pc).call(this);s&&this._emit("finalFunctionCall",s);const i=Le(this,Ce,"m",Ac).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Le(this,Ce,"m",Nc).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Le(this,Ce,"m",g0).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(id(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var f;const s="function",{function_call:i="auto",stream:o,...l}=n,a=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=Jh}=r||{},h={};for(const p of n.functions)h[p.name||p.function.name]=p;const c=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const y=(f=(await this._createChatCompletion(t,{...l,function_call:i,functions:c,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!y)throw new D("missing message in ChatCompletion response");if(!y.function_call)return;const{name:w,arguments:m}=y.function_call,d=h[w];if(d){if(a&&a!==w){const _=`Invalid function_call: ${JSON.stringify(w)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,name:w,content:_});continue}}else{const _=`Invalid function_call: ${JSON.stringify(w)}. Available options are: ${c.map(b=>JSON.stringify(b.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:w,content:_});continue}let g;try{g=Qh(d)?await d.parse(m):m}catch(_){this._addMessage({role:s,name:w,content:_ instanceof Error?_.message:String(_)});continue}const S=await d.function(g,this),k=Le(this,Ce,"m",Oc).call(this,S);if(this._addMessage({role:s,name:w,content:k}),a)return}}async _runTools(t,n,r){var p,v,y;const s="tool",{tool_choice:i="auto",stream:o,...l}=n,a=typeof i!="string"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:u=Jh}=r||{},h=n.tools.map(w=>{if(mi(w)){if(!w.$callback)throw new D("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),c={};for(const w of h)w.type==="function"&&(c[w.function.name||w.function.function.name]=w.function);const f="tools"in n?h.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of n.messages)this._addMessage(w,!1);for(let w=0;w<u;++w){const d=(v=(await this._createChatCompletion(t,{...l,tool_choice:i,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!d)throw new D("missing message in ChatCompletion response");if(!((y=d.tool_calls)!=null&&y.length))return;for(const g of d.tool_calls){if(g.type!=="function")continue;const S=g.id,{name:k,arguments:_}=g.function,b=c[k];if(b){if(a&&a!==k){const I=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,tool_call_id:S,content:I});continue}}else{const I=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(c).map(F=>JSON.stringify(F)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:S,content:I});continue}let E;try{E=Qh(b)?await b.parse(_):_}catch(I){const F=I instanceof Error?I.message:String(I);this._addMessage({role:s,tool_call_id:S,content:F});continue}const O=await b.function(E,this),P=Le(this,Ce,"m",Oc).call(this,O);if(this._addMessage({role:s,tool_call_id:S,content:P}),a)return}}}}Ce=new WeakSet,xc=function(){return Le(this,Ce,"m",ol).call(this).content??null},ol=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Rr(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new D("stream ended without producing a ChatCompletionMessage with role=assistant")},Pc=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Rr(s)&&(s!=null&&s.function_call))return s.function_call;if(Rr(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Ac=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(f0(n)&&n.content!=null||d0(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Nc=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},g0=function(t){if(t.n!=null&&t.n>1)throw new D("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Oc=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class si extends w0{static runFunctions(t,n,r){const s=new si,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new si,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),Rr(t)&&t.content&&this._emit("content",t.content)}}const v0=1,S0=2,_0=4,k0=8,E0=16,b0=32,C0=64,x0=128,P0=256,A0=x0|P0,N0=E0|b0|A0|C0,O0=v0|S0|N0,R0=_0|k0,lk=O0|R0,pe={STR:v0,NUM:S0,ARR:_0,OBJ:k0,NULL:E0,BOOL:b0,NAN:C0,INFINITY:x0,MINUS_INFINITY:P0,INF:A0,SPECIAL:N0,ATOM:O0,COLLECTION:R0,ALL:lk};class ak extends Error{}class uk extends Error{}function ck(e,t=pe.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return fk(e.trim(),t)}const fk=(e,t)=>{const n=e.length;let r=0;const s=f=>{throw new ak(`${f} at position ${r}`)},i=f=>{throw new uk(`${f} at position ${r}`)},o=()=>(c(),r>=n&&s("Unexpected end of input"),e[r]==='"'?l():e[r]==="{"?a():e[r]==="["?u():e.substring(r,r+4)==="null"||pe.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||pe.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||pe.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||pe.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||pe.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||pe.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):h()),l=()=>{const f=r;let p=!1;for(r++;r<n&&(e[r]!=='"'||p&&e[r-1]==="\\");)p=e[r]==="\\"?!p:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(f,++r-Number(p)))}catch(v){i(String(v))}else if(pe.STR&t)try{return JSON.parse(e.substring(f,r-Number(p))+'"')}catch{return JSON.parse(e.substring(f,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},a=()=>{r++,c();const f={};try{for(;e[r]!=="}";){if(c(),r>=n&&pe.OBJ&t)return f;const p=l();c(),r++;try{const v=o();Object.defineProperty(f,p,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(pe.OBJ&t)return f;throw v}c(),e[r]===","&&r++}}catch{if(pe.OBJ&t)return f;s("Expected '}' at end of object")}return r++,f},u=()=>{r++;const f=[];try{for(;e[r]!=="]";)f.push(o()),c(),e[r]===","&&r++}catch{if(pe.ARR&t)return f;s("Expected ']' at end of array")}return r++,f},h=()=>{if(r===0){e==="-"&&pe.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(pe.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(p))}}const f=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(pe.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(f,r))}catch{e.substring(f,r)==="-"&&pe.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(f,e.lastIndexOf("e")))}catch(v){i(String(v))}}},c=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return o()},Xh=e=>ck(e,pe.ALL^pe.NUM);var Gn=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},K=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ue,Lt,Zn,Xt,uu,Vi,cu,fu,du,qi,hu,Yh;class ii extends w0{constructor(t){super(),ue.add(this),Lt.set(this,void 0),Zn.set(this,void 0),Xt.set(this,void 0),Gn(this,Lt,t,"f"),Gn(this,Zn,[],"f")}get currentChatCompletionSnapshot(){return K(this,Xt,"f")}static fromReadableStream(t){const n=new ii(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new ii(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),K(this,ue,"m",uu).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of i)K(this,ue,"m",cu).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new yt;return this._addChatCompletion(K(this,ue,"m",qi).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),K(this,ue,"m",uu).call(this),this._connected();const s=ri.fromReadableStream(t,this.controller);let i;for await(const l of s)i&&i!==l.id&&this._addChatCompletion(K(this,ue,"m",qi).call(this)),K(this,ue,"m",cu).call(this,l),i=l.id;if((o=s.controller.signal)!=null&&o.aborted)throw new yt;return this._addChatCompletion(K(this,ue,"m",qi).call(this))}[(Lt=new WeakMap,Zn=new WeakMap,Xt=new WeakMap,ue=new WeakSet,uu=function(){this.ended||Gn(this,Xt,void 0,"f")},Vi=function(n){let r=K(this,Zn,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},K(this,Zn,"f")[n.index]=r,r)},cu=function(n){var s,i,o,l,a,u,h,c,f,p,v,y,w,m,d;if(this.ended)return;const r=K(this,ue,"m",Yh).call(this,n);this._emit("chunk",n,r);for(const g of n.choices){const S=r.choices[g.index];g.delta.content!=null&&((s=S.message)==null?void 0:s.role)==="assistant"&&((i=S.message)!=null&&i.content)&&(this._emit("content",g.delta.content,S.message.content),this._emit("content.delta",{delta:g.delta.content,snapshot:S.message.content,parsed:S.message.parsed})),g.delta.refusal!=null&&((o=S.message)==null?void 0:o.role)==="assistant"&&((l=S.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:g.delta.refusal,snapshot:S.message.refusal}),((a=g.logprobs)==null?void 0:a.content)!=null&&((u=S.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=g.logprobs)==null?void 0:h.content,snapshot:((c=S.logprobs)==null?void 0:c.content)??[]}),((f=g.logprobs)==null?void 0:f.refusal)!=null&&((p=S.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=g.logprobs)==null?void 0:v.refusal,snapshot:((y=S.logprobs)==null?void 0:y.refusal)??[]});const k=K(this,ue,"m",Vi).call(this,S);S.finish_reason&&(K(this,ue,"m",du).call(this,S),k.current_tool_call_index!=null&&K(this,ue,"m",fu).call(this,S,k.current_tool_call_index));for(const _ of g.delta.tool_calls??[])k.current_tool_call_index!==_.index&&(K(this,ue,"m",du).call(this,S),k.current_tool_call_index!=null&&K(this,ue,"m",fu).call(this,S,k.current_tool_call_index)),k.current_tool_call_index=_.index;for(const _ of g.delta.tool_calls??[]){const b=(w=S.message.tool_calls)==null?void 0:w[_.index];b!=null&&b.type&&((b==null?void 0:b.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(m=b.function)==null?void 0:m.name,index:_.index,arguments:b.function.arguments,parsed_arguments:b.function.parsed_arguments,arguments_delta:((d=_.function)==null?void 0:d.arguments)??""}):(b==null||b.type,void 0))}}},fu=function(n,r){var o,l,a;if(K(this,ue,"m",Vi).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(a=(l=K(this,Lt,"f"))==null?void 0:l.tools)==null?void 0:a.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:mi(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},du=function(n){var s,i;const r=K(this,ue,"m",Vi).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=K(this,ue,"m",hu).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},qi=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");const n=K(this,Xt,"f");if(!n)throw new D("request ended without sending any chunks");return Gn(this,Xt,void 0,"f"),Gn(this,Zn,[],"f"),dk(n,K(this,Lt,"f"))},hu=function(){var r;const n=(r=K(this,Lt,"f"))==null?void 0:r.response_format;return m0(n)?n:null},Yh=function(n){var r,s,i,o;let l=K(this,Xt,"f");const{choices:a,...u}=n;l?Object.assign(l,u):l=Gn(this,Xt,{...u,choices:[]},"f");for(const{delta:h,finish_reason:c,index:f,logprobs:p=null,...v}of n.choices){let y=l.choices[f];if(y||(y=l.choices[f]={finish_reason:c,index:f,message:{},logprobs:p,...v}),p)if(!y.logprobs)y.logprobs=Object.assign({},p);else{const{content:_,refusal:b,...E}=p;Object.assign(y.logprobs,E),_&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(..._)),b&&((s=y.logprobs).refusal??(s.refusal=[]),y.logprobs.refusal.push(...b))}if(c&&(y.finish_reason=c,K(this,Lt,"f")&&y0(K(this,Lt,"f")))){if(c==="length")throw new o0;if(c==="content_filter")throw new l0}if(Object.assign(y,v),!h)continue;const{content:w,refusal:m,function_call:d,role:g,tool_calls:S,...k}=h;if(Object.assign(y.message,k),m&&(y.message.refusal=(y.message.refusal||"")+m),g&&(y.message.role=g),d&&(y.message.function_call?(d.name&&(y.message.function_call.name=d.name),d.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=d.arguments)):y.message.function_call=d),w&&(y.message.content=(y.message.content||"")+w,!y.message.refusal&&K(this,ue,"m",hu).call(this)&&(y.message.parsed=Xh(y.message.content))),S){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:_,id:b,type:E,function:O,...P}of S){const I=(o=y.message.tool_calls)[_]??(o[_]={});Object.assign(I,P),b&&(I.id=b),E&&(I.type=E),O&&(I.function??(I.function={name:O.name??"",arguments:""})),O!=null&&O.name&&(I.function.name=O.name),O!=null&&O.arguments&&(I.function.arguments+=O.arguments,ik(K(this,Lt,"f"),I)&&(I.function.parsed_arguments=Xh(I.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ri(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function dk(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:o,...l}=e,a={...l,id:n,choices:r.map(({message:u,finish_reason:h,index:c,logprobs:f,...p})=>{if(!h)throw new D(`missing finish_reason for choice ${c}`);const{content:v=null,function_call:y,tool_calls:w,...m}=u,d=u.role;if(!d)throw new D(`missing role for choice ${c}`);if(y){const{arguments:g,name:S}=y;if(g==null)throw new D(`missing function_call.arguments for choice ${c}`);if(!S)throw new D(`missing function_call.name for choice ${c}`);return{...p,message:{content:v,function_call:{arguments:g,name:S},role:d,refusal:u.refusal??null},finish_reason:h,index:c,logprobs:f}}return w?{...p,index:c,finish_reason:h,logprobs:f,message:{...m,role:d,content:v,refusal:u.refusal??null,tool_calls:w.map((g,S)=>{const{function:k,type:_,id:b,...E}=g,{arguments:O,name:P,...I}=k||{};if(b==null)throw new D(`missing choices[${c}].tool_calls[${S}].id
${Hi(e)}`);if(_==null)throw new D(`missing choices[${c}].tool_calls[${S}].type
${Hi(e)}`);if(P==null)throw new D(`missing choices[${c}].tool_calls[${S}].function.name
${Hi(e)}`);if(O==null)throw new D(`missing choices[${c}].tool_calls[${S}].function.arguments
${Hi(e)}`);return{...E,id:b,type:_,function:{...I,name:P,arguments:O}}})}}:{...p,message:{...m,content:v,role:d,refusal:u.refusal??null},finish_reason:h,index:c,logprobs:f}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return nk(a,t)}function Hi(e){return JSON.stringify(e)}class Ir extends ii{static fromReadableStream(t){const n=new Ir(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const s=new Ir(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new Ir(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let I0=class extends z{parse(t,n){return ok(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>id(r,t))}runFunctions(t,n){return t.stream?Ir.runFunctions(this._client,t,n):si.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?Ir.runTools(this._client,t,n):si.runTools(this._client,t,n)}stream(t,n){return ii.createChatCompletion(this._client,t,n)}},ll=class extends z{constructor(){super(...arguments),this.completions=new I0(this._client)}};(function(e){e.Completions=I0})(ll||(ll={}));var R=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},We=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},ve,Rc,Nt,mo,ht,$n,vr,Pn,al,qe,yo,go,Ls,_s,ks,Gh,Zh,ep,tp,np,rp,sp;class gt extends p0{constructor(){super(...arguments),ve.add(this),Rc.set(this,[]),Nt.set(this,{}),mo.set(this,{}),ht.set(this,void 0),$n.set(this,void 0),vr.set(this,void 0),Pn.set(this,void 0),al.set(this,void 0),qe.set(this,void 0),yo.set(this,void 0),go.set(this,void 0),Ls.set(this,void 0)}[(Rc=new WeakMap,Nt=new WeakMap,mo=new WeakMap,ht=new WeakMap,$n=new WeakMap,vr=new WeakMap,Pn=new WeakMap,al=new WeakMap,qe=new WeakMap,yo=new WeakMap,go=new WeakMap,Ls=new WeakMap,ve=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new gt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=ri.fromReadableStream(t,this.controller);for await(const o of s)R(this,ve,"m",_s).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new yt;return this._addRun(R(this,ve,"m",ks).call(this))}toReadableStream(){return new ri(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s,i){const o=new gt;return o._run(()=>o._runToolAssistantStream(t,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,r,s,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...s,stream:!0},a=await t.submitToolOutputs(n,r,l,{...i,signal:this.controller.signal});this._connected();for await(const h of a)R(this,ve,"m",_s).call(this,h);if((u=a.controller.signal)!=null&&u.aborted)throw new yt;return this._addRun(R(this,ve,"m",ks).call(this))}static createThreadAssistantStream(t,n,r){const s=new gt;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new gt;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return R(this,yo,"f")}currentRun(){return R(this,go,"f")}currentMessageSnapshot(){return R(this,ht,"f")}currentRunStepSnapshot(){return R(this,Ls,"f")}async finalRunSteps(){return await this.done(),Object.values(R(this,Nt,"f"))}async finalMessages(){return await this.done(),Object.values(R(this,mo,"f"))}async finalRun(){if(await this.done(),!R(this,$n,"f"))throw Error("Final run was not received.");return R(this,$n,"f")}async _createThreadAssistantStream(t,n,r){var l;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const a of o)R(this,ve,"m",_s).call(this,a);if((l=o.controller.signal)!=null&&l.aborted)throw new yt;return this._addRun(R(this,ve,"m",ks).call(this))}async _createAssistantStream(t,n,r,s){var a;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await t.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const u of l)R(this,ve,"m",_s).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new yt;return this._addRun(R(this,ve,"m",ks).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(ou(i)&&ou(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!ou(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const a=i[l];a==null?i.push(o):i[l]=this.accumulateDelta(a,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s,i){return await this._createToolAssistantStream(r,t,n,s,i)}}_s=function(t){if(!this.ended)switch(We(this,yo,t,"f"),R(this,ve,"m",ep).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":R(this,ve,"m",sp).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":R(this,ve,"m",Zh).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":R(this,ve,"m",Gh).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ks=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");if(!R(this,$n,"f"))throw Error("Final run has not been received");return R(this,$n,"f")},Gh=function(t){const[n,r]=R(this,ve,"m",np).call(this,t,R(this,ht,"f"));We(this,ht,n,"f"),R(this,mo,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=R(this,vr,"f")){if(R(this,Pn,"f"))switch(R(this,Pn,"f").type){case"text":this._emit("textDone",R(this,Pn,"f").text,R(this,ht,"f"));break;case"image_file":this._emit("imageFileDone",R(this,Pn,"f").image_file,R(this,ht,"f"));break}We(this,vr,s.index,"f")}We(this,Pn,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(R(this,vr,"f")!==void 0){const s=t.data.content[R(this,vr,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,R(this,ht,"f"));break;case"text":this._emit("textDone",s.text,R(this,ht,"f"));break}}R(this,ht,"f")&&this._emit("messageDone",t.data),We(this,ht,void 0,"f")}},Zh=function(t){const n=R(this,ve,"m",tp).call(this,t);switch(We(this,Ls,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==R(this,al,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(R(this,qe,"f")&&this._emit("toolCallDone",R(this,qe,"f")),We(this,al,i.index,"f"),We(this,qe,n.step_details.tool_calls[i.index],"f"),R(this,qe,"f")&&this._emit("toolCallCreated",R(this,qe,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":We(this,Ls,void 0,"f"),t.data.step_details.type=="tool_calls"&&R(this,qe,"f")&&(this._emit("toolCallDone",R(this,qe,"f")),We(this,qe,void 0,"f")),this._emit("runStepDone",t.data,n);break}},ep=function(t){R(this,Rc,"f").push(t),this._emit("event",t)},tp=function(t){switch(t.event){case"thread.run.step.created":return R(this,Nt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=R(this,Nt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=gt.accumulateDelta(n,r.delta);R(this,Nt,"f")[t.data.id]=s}return R(this,Nt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":R(this,Nt,"f")[t.data.id]=t.data;break}if(R(this,Nt,"f")[t.data.id])return R(this,Nt,"f")[t.data.id];throw new Error("No snapshot available")},np=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=R(this,ve,"m",rp).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},rp=function(t,n){return gt.accumulateDelta(n,t)},sp=function(t){switch(We(this,go,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":We(this,$n,t.data,"f"),R(this,qe,"f")&&(this._emit("toolCallDone",R(this,qe,"f")),We(this,qe,void 0,"f"));break}};class ul extends z{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,od,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class od extends bt{}(function(e){e.MessagesPage=od})(ul||(ul={}));class cl extends z{retrieve(t,n,r,s={},i){return ze(s)?this.retrieve(t,n,r,{},s):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,r={},s){return ze(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,ld,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class ld extends bt{}(function(e){e.RunStepsPage=ld})(cl||(cl={}));class fl extends z{constructor(){super(...arguments),this.steps=new cl(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,ad,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}createAndStream(t,n,r){return gt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await pi(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,r){return gt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,s){const i=await this.submitToolOutputs(t,n,r,s);return await this.poll(t,i.id,s)}submitToolOutputsStream(t,n,r,s){return gt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,s)}}class ad extends bt{}(function(e){e.RunsPage=ad,e.Steps=cl,e.RunStepsPage=ld})(fl||(fl={}));class dl extends z{constructor(){super(...arguments),this.runs=new fl(this._client),this.messages=new ul(this._client)}create(t={},n){return ze(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return gt.createThreadAssistantStream(t,this._client.beta.threads,n)}}(function(e){e.Runs=fl,e.RunsPage=ad,e.Messages=ul,e.MessagesPage=od})(dl||(dl={}));const hk=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};let hl=class extends z{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,ya,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(t,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=i.response.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await pi(l);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}};class ya extends bt{}(function(e){e.VectorStoreFilesPage=ya})(hl||(hl={}));class pl extends z{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r={},s){return ze(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,ya,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await pi(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),l=this._client,a=n.values(),u=[...r];async function h(f){for(let p of f){const v=await l.files.create({file:p,purpose:"assistants"},s);u.push(v.id)}}const c=Array(o).fill(a).map(h);return await hk(c),await this.createAndPoll(t,{file_ids:u})}}pl||(pl={});class ml extends z{constructor(){super(...arguments),this.files=new hl(this._client),this.fileBatches=new pl(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/vector_stores",ud,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class ud extends bt{}(function(e){e.VectorStoresPage=ud,e.Files=hl,e.VectorStoreFilesPage=ya,e.FileBatches=pl})(ml||(ml={}));class yl extends z{constructor(){super(...arguments),this.vectorStores=new ml(this._client),this.chat=new ll(this._client),this.assistants=new rl(this._client),this.threads=new dl(this._client)}}(function(e){e.VectorStores=ml,e.VectorStoresPage=ud,e.Chat=ll,e.Assistants=rl,e.AssistantsPage=sd,e.Threads=dl})(yl||(yl={}));let gl=class extends z{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}};gl||(gl={});let wl=class extends z{create(t,n){return this._client.post("/embeddings",{body:t,...n})}};wl||(wl={});class vl extends z{create(t,n){return this._client.post("/files",Wr({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/files",cd,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(t);for(;!o.status||!s.has(o.status);)if(await pi(n),o=await this.retrieve(t),Date.now()-i>r)throw new td({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return o}}class cd extends nd{}(function(e){e.FileObjectsPage=cd})(vl||(vl={}));class Sl extends z{list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,fd,{query:n,...r})}}class fd extends bt{}(function(e){e.FineTuningJobCheckpointsPage=fd})(Sl||(Sl={}));class _l extends z{constructor(){super(...arguments),this.checkpoints=new Sl(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",dd,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return ze(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,hd,{query:n,...r})}}class dd extends bt{}class hd extends bt{}(function(e){e.FineTuningJobsPage=dd,e.FineTuningJobEventsPage=hd,e.Checkpoints=Sl,e.FineTuningJobCheckpointsPage=fd})(_l||(_l={}));class kl extends z{constructor(){super(...arguments),this.jobs=new _l(this._client)}}(function(e){e.Jobs=_l,e.FineTuningJobsPage=dd,e.FineTuningJobEventsPage=hd})(kl||(kl={}));class El extends z{createVariation(t,n){return this._client.post("/images/variations",Wr({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Wr({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}El||(El={});let bl=class extends z{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",pd,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}};class pd extends nd{}(function(e){e.ModelsPage=pd})(bl||(bl={}));class Cl extends z{create(t,n){return this._client.post("/moderations",{body:t,...n})}}Cl||(Cl={});class xl extends z{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,Wr({body:n,...r}))}}xl||(xl={});class Pl extends z{constructor(){super(...arguments),this.parts=new xl(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}(function(e){e.Parts=xl})(Pl||(Pl={}));var T0;class oe extends I_{constructor({baseURL:t=Wi("OPENAI_BASE_URL"),apiKey:n=Wi("OPENAI_API_KEY"),organization:r=Wi("OPENAI_ORG_ID")??null,project:s=Wi("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new D("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&K_())throw new D(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new gl(this),this.chat=new Yo(this),this.embeddings=new wl(this),this.files=new vl(this),this.images=new El(this),this.audio=new tl(this),this.moderations=new Cl(this),this.models=new bl(this),this.fineTuning=new kl(this),this.beta=new yl(this),this.batches=new nl(this),this.uploads=new Pl(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return tk(t,{arrayFormat:"brackets"})}}T0=oe;oe.OpenAI=T0;oe.DEFAULT_TIMEOUT=6e5;oe.OpenAIError=D;oe.APIError=Ke;oe.APIConnectionError=ma;oe.APIConnectionTimeoutError=td;oe.APIUserAbortError=yt;oe.NotFoundError=t0;oe.ConflictError=n0;oe.RateLimitError=s0;oe.BadRequestError=Gg;oe.AuthenticationError=Zg;oe.InternalServerError=i0;oe.PermissionDeniedError=e0;oe.UnprocessableEntityError=r0;oe.toFile=Wg;oe.fileFromPath=jg;(function(e){e.Page=nd,e.CursorPage=bt,e.Completions=gl,e.Chat=Yo,e.Embeddings=wl,e.Files=vl,e.FileObjectsPage=cd,e.Images=El,e.Audio=tl,e.Moderations=Cl,e.Models=bl,e.ModelsPage=pd,e.FineTuning=kl,e.Beta=yl,e.Batches=nl,e.BatchesPage=rd,e.Uploads=Pl})(oe||(oe={}));const nr="0.7.0";let ip=!1,Ms,$0,L0,Ic,M0,B0,D0,j0,F0;function pk(e,t={auto:!1}){if(ip)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if(Ms)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${Ms}'\``);ip=t.auto,Ms=e.kind,$0=e.fetch,L0=e.FormData,Ic=e.File,M0=e.ReadableStream,B0=e.getMultipartRequestOptions,D0=e.getDefaultAgent,j0=e.fileFromPath,F0=e.isFsReadStream}class mk{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function yk({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new mk(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:o=>!1}}Ms||pk(yk(),{auto:!0});class Sr{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;const s=new gk;async function*i(){if(!t.body)throw n.abort(),new St("Attempted to iterate over a response with no body");const l=new Wn,a=op(t.body);for await(const u of a)for(const h of l.decode(u)){const c=s.decode(h);c&&(yield c)}for(const u of l.flush()){const h=s.decode(u);h&&(yield h)}}async function*o(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const a of i())if(!l){if(a.data.startsWith("[DONE]")){l=!0;continue}if(a.event===null||a.event==="error"){let u;try{u=JSON.parse(a.data)}catch(h){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),h}if(u&&u.error)throw new Ne(u.error.status_code,u.error,u.error.message,void 0);yield u}}l=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{l||n.abort()}}return new Sr(o,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new Wn,l=op(t);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Sr(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new Sr(()=>s(t),this.controller),new Sr(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new M0({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}class gk{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=wk(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}class Wn{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Wn.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(Wn.NEWLINE_REGEXP);return s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new St(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new St(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new St("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}Wn.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Wn.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function wk(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function op(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const U0=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",z0=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&md(e),md=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",vk=e=>z0(e)||U0(e)||F0(e);async function K0(e,t,n){var s;if(e=await e,n??(n=z0(e)?{lastModified:e.lastModified,type:e.type}:{}),U0(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Ic([i],t,n)}const r=await Sk(e);if(t||(t=kk(e)??"unknown_file"),!n.type){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Ic(r,t,n)}async function Sk(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(md(e))t.push(await e.arrayBuffer());else if(Ek(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${_k(e)}`);return t}function _k(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function kk(e){var t;return pu(e.name)||pu(e.filename)||((t=pu(e.path))==null?void 0:t.split(/[\\/]/).pop())}const pu=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},Ek=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",lp=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",W0=async e=>{const t=await bk(e.body);return B0(t,e)},bk=async e=>{const t=new L0;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Tc(t,n,r))),t},Tc=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(vk(n)){const r=await K0(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Tc(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Tc(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Tr={};async function V0(e){const{response:t}=e;if(e.options.stream)return $r("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Sr.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await t.json();return $r("response",t.status,t.url,t.headers,i),i}const s=await t.text();return $r("response",t.status,t.url,t.headers,s),s}class ga extends Promise{constructor(t,n=V0){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new ga(this.responsePromise,async n=>t(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class Ck{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e4,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=mu("maxRetries",n),this.timeout=mu("timeout",r),this.httpAgent=s,this.fetch=i??$0}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Ok(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Bk()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&md(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t){var v;const{method:n,path:r,query:s,headers:i={}}=t,o=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:lp(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(o),a=this.buildURL(r,s);"timeout"in t&&mu("timeout",t.timeout);const u=t.timeout??this.timeout,h=t.httpAgent??this.httpAgent??D0(a),c=u+1e3;typeof((v=h==null?void 0:h.options)==null?void 0:v.timeout)=="number"&&c>(h.options.timeout??0)&&(h.options.timeout=c),this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const f=this.buildHeaders({options:t,headers:i,contentLength:l});return{req:{method:n,...o&&{body:o},headers:f,...h&&{agent:h},signal:t.signal??null},url:a,timeout:u}}buildHeaders({options:t,headers:n,contentLength:r}){const s={};r&&(s["content-length"]=r);const i=this.defaultHeaders(t);return dp(s,i),dp(s,n),lp(t.body)&&Ms!=="node"&&delete s["content-type"],this.validateHeaders(s,n),s}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return Ne.generate(t,n,r,s)}request(t,n=null){return new ga(this.makeRequest(t,n))}async makeRequest(t,n){var h,c;const r=await t;n==null&&(n=r.maxRetries??this.maxRetries),await this.prepareOptions(r);const{req:s,url:i,timeout:o}=this.buildRequest(r);if(await this.prepareRequest(s,{url:i,options:r}),$r("request",i,r,s.headers),(h=r.signal)!=null&&h.aborted)throw new Lc;const l=new AbortController,a=await this.fetchWithTimeout(i,s,o,l).catch($c);if(a instanceof Error){if((c=r.signal)!=null&&c.aborted)throw new Lc;if(n)return this.retryRequest(r,n);throw a.name==="AbortError"?new q0:new wa({cause:a})}const u=Pk(a.headers);if(!a.ok){if(n&&this.shouldRetry(a)){const m=`retrying, ${n} attempts remaining`;return $r(`response (error; ${m})`,a.status,i,u),this.retryRequest(r,n,u)}const f=await a.text().catch(m=>$c(m).message),p=Rk(f),v=p?void 0:f;throw $r(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,a.status,i,u,v),this.makeStatusError(a.status,p,v,u)}return{response:a,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new xk(this,r,t)}buildURL(t,n){const r=Tk(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return Lk(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new St(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:s.signal,...o}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await $k(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${nr}`}}class xk extends ga{constructor(t,n,r){super(n,async s=>new r(t,s.response,await V0(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const Pk=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),Ak=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":up(Deno.build.os),"X-Stainless-Arch":ap(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":up(process.platform),"X-Stainless-Arch":ap(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=Nk();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Nk(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const ap=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",up=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let cp;const Ok=()=>cp??(cp=Ak()),Rk=e=>{try{return JSON.parse(e)}catch{return}},Ik=new RegExp("^(?:[a-z]+:)?//","i"),Tk=e=>Ik.test(e),$k=e=>new Promise(t=>setTimeout(t,e)),mu=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new St(`${e} must be an integer`);if(t<0)throw new St(`${e} must be a positive integer`);return t},$c=e=>e instanceof Error?e:new Error(e),fp=e=>{var t,n,r,s;if(typeof process<"u")return((t=Tr==null?void 0:Tr[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function Lk(e){if(!e)return!0;for(const t in e)return!1;return!0}function Mk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dp(e,t){for(const n in t){if(!Mk(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}function $r(e,...t){typeof process<"u"&&(Tr==null?void 0:Tr.DEBUG)==="true"&&console.log(`Groq:DEBUG:${e}`,...t)}const Bk=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Dk=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class St extends Error{}class Ne extends St{constructor(t,n,r,s){super(`${Ne.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.error=n}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t)return new wa({cause:$c(n)});const i=n;return t===400?new H0(t,i,r,s):t===401?new Q0(t,i,r,s):t===403?new J0(t,i,r,s):t===404?new X0(t,i,r,s):t===409?new Y0(t,i,r,s):t===422?new G0(t,i,r,s):t===429?new Z0(t,i,r,s):t>=500?new ew(t,i,r,s):new Ne(t,i,r,s)}}class Lc extends Ne{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}}class wa extends Ne{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class q0 extends wa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class H0 extends Ne{constructor(){super(...arguments),this.status=400}}class Q0 extends Ne{constructor(){super(...arguments),this.status=401}}class J0 extends Ne{constructor(){super(...arguments),this.status=403}}class X0 extends Ne{constructor(){super(...arguments),this.status=404}}class Y0 extends Ne{constructor(){super(...arguments),this.status=409}}class G0 extends Ne{constructor(){super(...arguments),this.status=422}}class Z0 extends Ne{constructor(){super(...arguments),this.status=429}}class ew extends Ne{}class _n{constructor(t){this._client=t}}class Al extends _n{create(t,n){return this._client.post("/openai/v1/audio/transcriptions",W0({body:t,...n}))}}Al||(Al={});class Nl extends _n{create(t,n){return this._client.post("/openai/v1/audio/translations",W0({body:t,...n}))}}Nl||(Nl={});class Ol extends _n{constructor(){super(...arguments),this.transcriptions=new Al(this._client),this.translations=new Nl(this._client)}}(function(e){e.Transcriptions=Al,e.Translations=Nl})(Ol||(Ol={}));let Rl=class extends _n{create(t,n){return this._client.post("/openai/v1/chat/completions",{body:t,...n,stream:t.stream??!1})}};Rl||(Rl={});class Il extends _n{constructor(){super(...arguments),this.completions=new Rl(this._client)}}(function(e){e.Completions=Rl})(Il||(Il={}));class Tl extends _n{}Tl||(Tl={});class $l extends _n{create(t,n){return this._client.post("/openai/v1/embeddings",{body:t,...n})}}$l||($l={});class Ll extends _n{retrieve(t,n){return this._client.get(`/openai/v1/models/${t}`,n)}list(t){return this._client.get("/openai/v1/models",t)}delete(t,n){return this._client.delete(`/openai/v1/models/${t}`,n)}}Ll||(Ll={});var tw;class le extends Ck{constructor({baseURL:t=fp("GROQ_BASE_URL"),apiKey:n=fp("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new St("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const s={apiKey:n,...r,baseURL:t||"https://api.groq.com"};if(!s.dangerouslyAllowBrowser&&Dk())throw new St(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:s.baseURL,timeout:s.timeout??6e4,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new Tl(this),this.chat=new Il(this),this.embeddings=new $l(this),this.audio=new Ol(this),this.models=new Ll(this),this._options=s,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}}tw=le;le.Groq=tw;le.DEFAULT_TIMEOUT=6e4;le.GroqError=St;le.APIError=Ne;le.APIConnectionError=wa;le.APIConnectionTimeoutError=q0;le.APIUserAbortError=Lc;le.NotFoundError=X0;le.ConflictError=Y0;le.RateLimitError=Z0;le.BadRequestError=H0;le.AuthenticationError=Q0;le.InternalServerError=ew;le.PermissionDeniedError=J0;le.UnprocessableEntityError=G0;le.toFile=K0;le.fileFromPath=j0;(function(e){e.Completions=Tl,e.Chat=Il,e.Embeddings=$l,e.Audio=Ol,e.Models=Ll})(le||(le={}));function nw(){const e=Q.stage.width,t=Q.stage.height,n=`
    - top left corner: ${-e/2}x${-t/2}
    - bottom right corner: ${e/2}x${t/2}
  `,r=Mc(JSON.parse(JSON.stringify(Q.entities))),s=`
`+Jo.stringify(r,{});return`
You are an AI assistant that generates javascript code snippets for a game engine to directly manipulate the game world and achieve what the user asked.

Notes: 
- "search" parameter for entities can be entity's uuid, name, or behavior type.

You can use these methods:
- addEntity(entityBlueprint: StageEntityBlueprint): Entity
- getEntity(search: string | ((entity: Entity) => boolean)): Entity | undefined
- getEntities(search: string | ((entity: Entity) => boolean) | string[]): Entity[]
- removeEntity(search: string | ((entity: Entity) => boolean)): void
- selectEntities(search: string | ((entity: Entity) => boolean) | string[]): Entity[]
- deselectEntities(search: string | ((entity: Entity) => boolean) | string[]): void
- clearSelection(): void
- clearWorld(): void

Entities have these methods and properties:
- entity.x: number
- entity.y: number
- entity.rotation: number
- entity.scale: number
- entity.uuid: string
- entity.getBehavior(search: string | ((behavior: BehaviorProps) => boolean), createIfNotFound: boolean): BehaviorProps | undefined
- entity.removeBehavior(search: string | ((behavior: BehaviorProps) => boolean)): void
- entity.addBehavior(behaviorBlueprint: any): BehaviorProps
- entity.getBounds(): { x: number; y: number; width: number; height: number }
- entity.isInRange(x: number, y: number, range: number): boolean
- entity.getDistance(x: number, y: number): number
- entity.destroy(): void

Built-in behaviors:
- RenderCircle: { type: "RenderCircle", radius: number }
- ChangeColor: { type: "ChangeColor", color: string }
- SimplifyMesh: { type: "SimplifyMesh", sides: number }
- CustomBehavior: { type: "CustomBehavior", name: string, onTick?: string, [extrakeys: string]: any }
- RenderEmoji: { type: "RenderEmoji", emoji: string, fontSize?: number }

You can check if a button is pressed with:
- input.isKeyPressed(key: string): boolean
- input.isMouseButtonPressed(button: "left" | "middle" | "right"): boolean
- input.getMousePosition(): { x: number; y: number }
- input.getAxis(axisName: "Horizontal" | "Vertical"): number

Current state of the world:

Stage bounds: ${n}

Entities in the world: 
${s}

Current selection (entity ids): [${we.selectedEntityIds.join(", ")}]

When responding to user requests, write JavaScript code using the above described api to perform the desired actions. Here are some examples:

Example 1: Add a red circle to the world
\`\`\`js
console.log(' Adding a red circle to the world');
const redCircle = addEntity({
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderCircle", radius: 25 },
    { type: "ChangeColor", color: "red" }
  ]
});
console.log(' Red circle added with UUID:', redCircle.uuid);
\`\`\`

Example 2: Select the blue circle and make it bigger and darker
\`\`\`js
console.log(' Finding and updating the blue circle');
const blueCircle = getEntity(entity => 
  entity.getBehavior("ChangeColor")?.color === "blue"
);

if (blueCircle) {
  selectEntities(blueCircle.uuid);
  blueCircle.scale *= 2;
  const colorBehavior = blueCircle.getBehavior("ChangeColor");
  if (colorBehavior) {
    colorBehavior.color = "darkblue";
  }
  console.log(' Blue circle updated');
} else {
  console.log(' Blue circle not found');
}
\`\`\`

Example 3: Make the heart pulse
\`\`\`js
console.log(' Adding pulse behavior to the heart');
const heart = getEntity(entity => 
  entity.getBehavior("RenderEmoji")?.emoji === ""
);

if (heart) {
  heart.addBehavior({
    type: "CustomBehavior",
    name: "Pulse",
    pulseSpeed: 1.1,
    pulseAmplitude: 0.1,
    onTick: \`
      entity.scale = 1 + Math.sin(totalTimeSeconds * this.pulseSpeed) * this.pulseAmplitude;
    \`
  });
  console.log(' Pulse behavior added to the heart');
} else {
  console.log(' Heart emoji not found');
}
\`\`\`

Example 4: Create a bouncing ball
\`\`\`js
console.log(' Creating a bouncing ball');
const ball = addEntity({
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderCircle", radius: 20 },
    { type: "ChangeColor", color: "orange" },
    {
      type: "CustomBehavior",
      name: "Bounce",
      bounceHeight: 100,
      bounceSpeed: 0.005,
      onTick: \`
        entity.y = Math.abs(Math.sin(totalTimeSeconds * this.bounceSpeed)) * this.bounceHeight;
      \`
    }
  ]
});
console.log(' Bouncing ball created with UUID:', ball.uuid);
\`\`\`

Example 5: Add a shaking emoji
\`\`\`js
console.log(' Adding a shaking emoji');
const shakyEmoji = addEntity({
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderEmoji", emoji: "", fontSize: 40 },
    {
      type: "CustomBehavior",
      name: "Shake",
      intensity: 4,
      onTick: \`
        entity.x += (Math.random() - 0.5) * this.intensity;
        entity.y += (Math.random() - 0.5) * this.intensity;
      \`
    }
  ]
});
console.log(' Shaking emoji added with UUID:', shakyEmoji.uuid);
\`\`\`

Example 6: Create a color-changing polygon
\`\`\`js
console.log(' Creating a color-changing polygon');
const polygon = addEntity({
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "SimplifyMesh", sides: 6 },
    { type: "ChangeColor", color: "hsl(0, 100%, 50%)" },
    {
      type: "CustomBehavior",
      name: "ColorCycle",
      cycleSpeed: 0.1,
      onTick: \`
        const hue = (totalTimeSeconds * this.cycleSpeed) % 360;
        const colorBehavior = entity.getBehavior("ChangeColor");
        if (colorBehavior) {
          colorBehavior.color = \`hsl(\${hue}, 100%, 50%)\`;
        }
      \`
    }
  ]
});
console.log(' Color-changing polygon created with UUID:', polygon.uuid);
\`\`\`

Example 7: Make all entities rotate
\`\`\`js
console.log(' Making all entities rotate');
const entities = getEntities(() => true);
entities.forEach(entity => {
  entity.addBehavior({
    type: "CustomBehavior",
    name: "Rotate",
    rotationSpeed: 0.01,
    onTick: \`
      entity.rotation += this.rotationSpeed;
    \`
  });
});
console.log(\` Rotation behavior added to \${entities.length} entities\`);
\`\`\`

Example 8: Clear the world and add random emojis
\`\`\`js
console.log(' Clearing the world and adding random emojis');
clearWorld();

const emojis = ["", "", "", "", ""];
const numEmojis = 5;

for (let i = 0; i < numEmojis; i++) {
  const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
  addEntity({
    x: Math.random() * 800 - 400,
    y: Math.random() * 600 - 300,
    rotation: 0,
    scale: 1,
    behaviors: [
      { type: "RenderEmoji", emoji: randomEmoji, fontSize: 40 }
    ]
  });
}
console.log(\` World cleared and \${numEmojis} random emojis added\`);
\`\`\`

Remember to use functional programming concepts and write clean and concise JavaScript code. Always include appropriate console logs with emojis to make debugging easier.
`}function Mc(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(n=>Mc(n));const t={};for(const[n,r]of Object.entries(e))typeof r=="number"?t[n]=Math.round(r):typeof r=="object"?t[n]=Mc(r):t[n]=r;return t}const rw=(e,t)=>{let n=[],r=0;const s=()=>{const l=localStorage.getItem(e);if(l)n=l.split(",");else{const a=prompt(t);if(!a)throw new Error("API keys are required");n=a.split(",").map(u=>u.trim()),localStorage.setItem(e,n.join(","))}r=Math.floor(Math.random()*n.length),console.log(` API keys initialized for ${e}`)};return{getNextApiKey:()=>{n.length===0&&s();const l=n[r];return r=(r+1)%n.length,l},resetApiKeys:()=>{localStorage.removeItem(e),n=[],r=0,console.log(` API keys reset for ${e}`)}}};let yu=null,Qi=null;const jk=rw("groq_api_keys","Please enter your GROQ API keys (comma-separated):"),Fk=rw("openai_api_keys","Please enter your OpenAI API keys (comma-separated):"),Uk=()=>{if(!yu){const e=Fk.getNextApiKey();yu=new oe({apiKey:e,dangerouslyAllowBrowser:!0}),console.log(" OpenAI instance created")}return yu},zk=()=>{const e=jk.getNextApiKey();return(!Qi||Qi.apiKey!==e)&&(Qi=new le({apiKey:e,dangerouslyAllowBrowser:!0}),console.log(" GROQ instance created with rotated API key")),Qi},sw={type:"object",properties:{snippet:{type:"string",description:"The JavaScript code snippet to be executed"}},required:["snippet"]};async function Kk(e){const t=Uk(),n=nw();console.log(" Sending request to OpenAI");const r=await t.chat.completions.create({model:"gpt-4-turbo-preview",messages:[{role:"system",content:n},{role:"user",content:e}],functions:[{name:"generate_snippet",description:"Generate a JavaScript code snippet based on the user's request/",parameters:sw}],function_call:{name:"generate_snippet"}});console.log(" Received response from OpenAI");const s=r.choices[0].message.function_call;if(s&&s.name==="generate_snippet")return JSON.parse(s.arguments||"{}").snippet||"";throw new Error("Unexpected response format from OpenAI")}async function Wk(e){var a,u;const t=zk(),n=`${nw()}

Please generate a JavaScript code snippet based on the user's request. Your response should be a JSON object that strictly adheres to the following schema:

${JSON.stringify(sw,null,2)}

Respond only with the JSON object, without any additional text.`,r=new URL(window.location.href).searchParams.get("model")||"mixtral-8x7b-32768";console.log(" Sending request to GROQ");const s=await t.chat.completions.create({model:r,messages:[{role:"system",content:n},{role:"user",content:e}],response_format:{type:"json_object"}});console.log(" Received response from GROQ");const i=(u=(a=s.choices[0])==null?void 0:a.message)==null?void 0:u.content;if(!i)throw new Error("Unexpected response format from GROQ");const o=JSON.parse(i),l=iw(o);return console.log(` Found snippet:
`,l),l||""}function iw(e){if(!(typeof e!="object"||e===null)){if("snippet"in e&&typeof e.snippet=="string")return hp(e.snippet);for(const t in e){const n=iw(e[t]);if(n!==void 0)return hp(n)}}}function hp(e){return e.replace(/^```[\w]*\n?|\n?```$/g,"").trim()}function Vk(e,t){return e.behaviors.find(n=>n.uuid===t)}function va(e,t){return e.behaviors.find(n=>n.type===t)}function qk(e,t){return e.behaviors.find(n=>n.name===t)}function ow(){const e=new Set,t=new Set;let n=0,r=0;window.addEventListener("keydown",o=>{e.add(o.key.toLowerCase()),console.debug(` Key pressed: ${o.key}`)}),window.addEventListener("keyup",o=>{e.delete(o.key.toLowerCase()),console.debug(` Key released: ${o.key}`)}),window.addEventListener("mousedown",o=>{const l=s(o.button);l&&t.add(l),console.debug(` Mouse button pressed: ${l}`)}),window.addEventListener("mouseup",o=>{const l=s(o.button);l&&t.delete(l),console.debug(` Mouse button released: ${l}`)}),window.addEventListener("mousemove",o=>{n=o.clientX,r=o.clientY,console.debug(` Mouse moved to: (${n}, ${r})`)});function s(o){switch(o){case 0:return"left";case 1:return"middle";case 2:return"right";default:return null}}function i(o){switch(o.toLowerCase()){case"horizontal":return(e.has("d")||e.has("arrowright")?1:0)-(e.has("a")||e.has("arrowleft")?1:0);case"vertical":return(e.has("w")||e.has("arrowup")?1:0)-(e.has("s")||e.has("arrowdown")?1:0);default:return console.warn(` Unknown axis: ${o}`),0}}return{isKeyPressed:o=>e.has(o.toLowerCase()),isMouseButtonPressed:o=>t.has(o),getMousePosition:()=>({x:n,y:r}),getAxis:i}}const Hk=ow();function lw(){const e={input:Hk,stage:Q.stage,entities:[],addEntity:r=>{const s=Se.addEntity(r);return n(),e.getEntity(s.uuid)},getEntity:r=>{if(typeof r=="string"){let s=e.entities.find(i=>i.uuid===r);return s||(s=e.entities.find(i=>i.name===r),s)?s:e.entities.find(i=>Object.values(i).some(o=>typeof o=="string"&&o.includes(r)))}else if(typeof r=="function")return e.entities.find(r)},getEntities:r=>{if(Array.isArray(r))return r.map(s=>e.getEntity(s)).filter(Boolean);if(typeof r=="function")return e.entities.filter(r);{const s=e.getEntity(r);return s?[s]:[]}},removeEntity:r=>{const s=e.getEntity(r);s&&(Se.removeEntity(s.uuid),e.entities=e.entities.filter(i=>i.uuid!==s.uuid))},getSelectedEntities:()=>{const r=we.selectedEntityIds;return e.getEntities(r)},selectEntities:r=>{const s=e.getEntities(r),i=s.map(o=>o.uuid);return console.log(" Selecting entities:",i),hn.setSelectedEntityIds(i),s},deselectEntities:r=>{const i=e.getEntities(r).map(o=>o.uuid);console.log(" Deselecting entities:",i),hn.removeSelectedEntityIds(i)},clearSelection:()=>{console.log(" Clearing entity selection"),hn.clearSelection()},clearWorld:()=>{console.log(" Clearing the world"),Se.clearWorld()}};function t(r){const s={...r,getBehavior:(i,o=!0)=>{if(typeof i=="string"){const l=Vk(r,i);if(l)return l;const a=va(r,i);return a||qk(r,i)}else if(typeof i=="function")return r.behaviors.find(i);return o?Se.addBehaviorToEntity(r.uuid,i):null},removeBehavior:i=>{const o=s.getBehavior(i,!1);o&&Se.removeBehaviorFromEntity(r.uuid,o.type)},addBehavior:i=>Se.addBehaviorToEntity(r.uuid,i),getBounds:()=>({x:r.x,y:r.y,width:0,height:0}),isInRange:(i,o,l)=>s.getDistance(i,o)<=l,getDistance:(i,o)=>{const l=i-r.x,a=o-r.y;return Math.sqrt(l*l+a*a)},destroy:()=>Se.removeEntity(r.uuid)};return new Proxy(s,{set(i,o,l){return o in r&&Se.updateEntity(r.uuid,{[o]:l}),Reflect.set(i,o,l)}})}const n=()=>{e.entities=Q.entities.map(t)};return n(),Dy(Q,()=>{console.log(" Updating EasyBreezy entities"),n()}),e}async function Qk(e){console.log(" Handling generated code snippet");try{const t=lw(),r=await new Function(...Object.keys(t),`
        return (async () => {
          ${e}
        })();
      `)(...Object.values(t));return console.log(" Snippet executed successfully"),console.log(" Result:",r),r}catch(t){throw console.error(" Error executing snippet:",t),t}}function Jk(e){return $.useCallback(async n=>{const r=e==="openai"?await Kk(n):await Wk(n);console.log(" Received code snippet:",r);try{return await Qk(r)}catch(s){console.error(" Error handling generated code snippet:",s)}},[])}/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aw=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=$.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},a)=>$.createElement("svg",{ref:a,...Yk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:aw("lucide",s),...l},[...o.map(([u,h])=>$.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=(e,t)=>{const n=$.forwardRef(({className:r,...s},i)=>$.createElement(Gk,{ref:i,iconNode:t,className:aw(`lucide-${Xk(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=uw("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=uw("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);function tE({onSubmit:e,disabled:t,error:n}){const[r,s]=$.useState(""),i=$.useRef(null),o=sE(r,s),l=nE(i,r);rE(i,t);const a=c=>{s(c.target.value),o.handleChange()},u=async c=>{c.preventDefault(),!(t||!r.trim())&&(await e(r),o.handleSubmit(r),s(""))},h=c=>{c.key==="Enter"&&!c.shiftKey&&!c.ctrlKey&&(c.preventDefault(),u(c)),o.handleKeyDown(c)};return C.jsx("form",{onSubmit:u,className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 select-none",children:C.jsxs("div",{className:`relative transition-all duration-300 ease-in-out ${l.isExpanded?"w-[32rem]":"w-96"}`,children:[n&&C.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-4 px-4 py-2 bg-red-100 text-red-800 rounded-md flex items-center space-x-2 text-sm shadow-md z-50 w-screen max-w-screen-md",children:C.jsx("pre",{className:"text-xs whitespace-pre-wrap w-full",children:n})}),C.jsx("textarea",{rows:1,ref:i,value:r,onChange:a,onKeyDown:h,placeholder:"Enter prompt...",disabled:t,className:`w-full px-4 py-2 rounded-3xl border border-gray-300 shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none transition-all duration-300 ease-in-out ${l.isExpanded?"h-auto min-h-[6rem] text-xs":"h-10 min-h-[1rem] overflow-hidden"} ${t?"bg-gray-100 cursor-not-allowed":""}`}),C.jsx("button",{type:"submit",className:"absolute right-3 top-3",disabled:t,children:t?C.jsx(Zk,{className:"h-5 w-5 text-gray-500 animate-spin"}):C.jsx(eE,{className:"h-5 w-5 text-gray-500"})})]})})}function nE(e,t){const[n,r]=$.useState(!1);return $.useEffect(()=>{const s=t.length>30||t.includes(`
`);if(r(s),e.current){e.current.style.height="auto";const i=s?`${Math.max(e.current.scrollHeight,96)}px`:"40px";e.current.style.height=i}},[t]),{isExpanded:n}}function rE(e,t){$.useEffect(()=>{!t&&e.current&&(e.current.focus(),console.log(" Textarea focused after submission"))},[t,e])}function sE(e,t){const[n,r]=$.useState([]),[s,i]=$.useState(-1),[o,l]=$.useState(""),a=f=>{if(n.length===0)return;let p=s;f==="up"&&s<n.length-1?p++:f==="down"&&s>-1&&p--,i(p),p===-1?t(o):(s===-1&&l(e),t(n[n.length-1-p]))};return{handleKeyDown:f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),a(f.key==="ArrowUp"?"up":"down"))},handleSubmit:f=>{f.trim()!==""&&(r(p=>[...p,f]),console.log(" Added to history:",f)),i(-1),l("")},handleChange:()=>{i(-1)}}}function iE(){const{aiBusy:e}=kt(we),[t,n]=$.useState(null),r=oE(),s=async i=>{console.log(" Prompt submitted:",i),n(null);try{hn.setAIBusy(!0),await r(i)}catch(o){console.error(" Error processing AI snippet:",o),n(String(o))}finally{hn.setAIBusy(!1)}};return C.jsx(tE,{onSubmit:s,disabled:e,error:t})}function oE(){const t=new URL(window.location.href).searchParams.get("ai");return Jk(t)}const pp={RenderCircle:{render(){return C.jsx("circle",{r:this.radius??10})}},ChangeColor:{render(e,t){const n=this.color||"white";return C.jsx("g",{fill:n,children:t})}},SimplifyMesh:{render(e){var i,o,l;const t=((i=e.behaviors.find(a=>a.type==="SimplifyMesh"))==null?void 0:i.sides)||6,n=((o=e.behaviors.find(a=>a.type==="RenderCircle"))==null?void 0:o.radius)||10,r=((l=e.behaviors.find(a=>a.type==="ChangeColor"))==null?void 0:l.color)||void 0,s=lE(n,t);return C.jsx("polygon",{points:s,fill:r})}},CustomBehavior:{onTick(e,t,n){if(typeof this.onTick=="function")return this.onTick.call(this,e,t,n);typeof this.onTick=="string"&&new Function("entity","deltaTimeSeconds","totalTimeSeconds",this.onTick).call(this,e,t,n)},render(e,t){if(typeof this.render=="function")return this.render.call(this,e,t);if(typeof this.render=="string"){const n=`return (${this.render})`;return new Function("entity","content",n).call(this,e,t)}return t}},RenderEmoji:{render(e,t){const n=this.emoji??"",r=~~(this.fontSize||40);return C.jsxs(C.Fragment,{children:[t,C.jsx("text",{fontSize:r,textAnchor:"middle",dominantBaseline:"central",style:{userSelect:"none"},y:"-2",children:n})]})}}};function lE(e,t){let n="";for(let r=0;r<t;r++){const s=r/t*2*Math.PI,i=e*Math.cos(s),o=e*Math.sin(s);n+=`${i},${o} `}return n.trim()}function mp(e){const t=e.type,n=pp[t];return n||(typeof e.onTick=="string"||typeof e.render=="string"?pp.CustomBehavior:null)}const cw={onTick:(e,t,n)=>{var r;for(const s of e.behaviors??[])try{const i=mp(s);(r=i==null?void 0:i.onTick)==null||r.apply(s,[e,t,n])}catch(i){console.error(`Error in entityResolver.onTick: ${i}`,e)}},render:e=>{var n;let t=null;for(const r of e.behaviors??[])try{const s=mp(r);t=(n=s==null?void 0:s.render)==null?void 0:n.apply(r,[e,t])}catch(s){console.error(`Error in entityResolver.render: ${s}`,e)}return t}},aE=({entity:e,onClick:t})=>{const n=i=>{t(e,i)},r={...ed,...e},s=`
  translate(${r.x}, ${r.y}) 
  rotate(${r.rotation}) 
  scale(${r.scale})
  `;return C.jsx("g",{onClick:n,transform:s,children:cw.render(e)})},uE=({entity:e})=>{const t=va(e,"RenderCircle"),r=((t==null?void 0:t.radius)??30)*2*e.scale+8,s=6,i=2,o=e.name;return C.jsxs(C.Fragment,{children:[C.jsx("rect",{x:e.x-r/2,y:e.y-r/2,width:r,height:r,fill:"none",stroke:"DodgerBlue",strokeWidth:i,strokeDasharray:`${s},${s}`,opacity:"1",children:C.jsx("animate",{attributeName:"stroke-dashoffset",from:"0",to:`${s*2}`,dur:"0.4s",repeatCount:"indefinite"})}),C.jsx("text",{x:e.x,y:e.y+r/2+20,textAnchor:"middle",fill:"DodgerBlue",fontSize:"17",fontFamily:"Calibri, Arial, sans-serif",fontWeight:"bolder",stroke:"slategray",strokeWidth:"7",children:o}),C.jsx("text",{x:e.x,y:e.y+r/2+20,textAnchor:"middle",fill:"DodgerBlue",fontSize:"17",fontFamily:"Calibri, Arial, sans-serif",fontWeight:"bolder",stroke:"white",strokeWidth:"4",children:o}),C.jsx("text",{x:e.x,y:e.y+r/2+20,textAnchor:"middle",fill:"DodgerBlue",fontSize:"17",fontFamily:"Calibri, Arial, sans-serif",fontWeight:"bolder",children:o})]})},cE=()=>C.jsxs(C.Fragment,{children:[C.jsx(fE,{}),C.jsx(dE,{gap:20})]}),fE=()=>{const{stage:e}=kt(Q);return C.jsx("rect",{x:-e.width/2,y:-e.height/2,width:e.width,height:e.height,fill:"none",stroke:"gray",strokeWidth:"1",strokeDasharray:"18,4,18,0"})},dE=({gap:e})=>{const{stage:t}=kt(Q);return C.jsx("rect",{x:-t.width/2-e,y:-t.height/2-e,width:t.width+e*2,height:t.height+e*2,fill:"none",stroke:"gray",strokeWidth:"1",strokeDasharray:"8",opacity:.2})};function hE({cellSize:e=40}){return C.jsxs(C.Fragment,{children:[C.jsx("defs",{children:C.jsxs("pattern",{id:"plusPattern",x:"0",y:"0",width:e,height:e,patternUnits:"userSpaceOnUse",children:[C.jsx("rect",{width:e,height:e,fill:"#f8f8f8"}),C.jsx("path",{d:`M${e/2} ${e*.375} V${e*.625} M${e*.375} ${e/2} H${e*.625}`,stroke:"#d8d8d8",strokeWidth:"1"})]})}),C.jsx("rect",{x:"-100%",y:"-100%",width:"200%",height:"200%",fill:"url(#plusPattern)"})]})}const pE=e=>{const t=$.useRef(),n=$.useRef(),r=$.useRef(),{global:s}=kt(Q),i=$.useCallback(o=>{if(r.current||(r.current=o),n.current!==void 0){const l=(o-n.current)/1e3*s.timeScale,a=(o-r.current)/1e3*s.timeScale;e(l,a)}n.current=o,t.current=requestAnimationFrame(i)},[e,s.timeScale]);$.useEffect(()=>(console.log(" Starting animation frame loop with timeScale:",s.timeScale),t.current=requestAnimationFrame(i),()=>{console.log(" Stopping animation frame loop"),t.current&&cancelAnimationFrame(t.current)}),[i])},fw=Gl({values:{}}),mE=()=>{const[e]=Tg("-"),{values:t}=kt(fw);return e?C.jsx("div",{className:"absolute top-4 left-4 max-h-[calc(100vh-32px)] overflow-y-auto bg-white rounded-lg border border-gray-300 shadow-md animate-slide-in",children:C.jsxs("div",{className:"p-4 overflow-x-auto",children:[C.jsx("h2",{className:"text-lg font-bold mb-4",children:"Debug Data"}),Object.entries(t).map(([n,r])=>C.jsxs("div",{className:"mb-4",children:[C.jsx("h3",{className:"text-xs font-bold mb-1",children:n}),C.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:typeof r=="string"||typeof r=="number"?r:Jo.stringify(r)})]},n))]})}):null},yE=({entity:e})=>{const t=va(e,"RenderCircle"),r=((t==null?void 0:t.radius)??30)*2*e.scale+8,s=6;return C.jsx("rect",{x:e.x-r/2,y:e.y-r/2,width:r,height:r,fill:"none",stroke:"DodgerBlue",strokeWidth:2,strokeDasharray:`${s},${s}`,opacity:"0.3",children:C.jsx("animate",{attributeName:"stroke-dashoffset",from:"0",to:`${s*2}`,dur:"0.4s",repeatCount:"indefinite"})})};function gE(){return pE((e,t)=>{for(const n of Q.entities)cw.onTick(n,e,t)}),C.jsxs("div",{className:"w-full h-screen relative overflow-hidden",children:[C.jsx(wE,{}),C.jsx(_E,{})]})}const wE=()=>{const{stage:e}=kt(Q),[t,n]=$.useState("0 0 1000 1000"),r=[.5,.38196601125],s=$.useCallback(()=>{hn.clearSelection()},[]);return $.useEffect(()=>{const i=()=>{const{innerWidth:o,innerHeight:l}=window,a=Math.min(o/e.width,l/e.height)*.8,u=o/a,h=l/a,c=-u*r[0]+e.width*(r[0]-.5),f=-h*r[1]+e.height*(r[1]-.5);n(`${c} ${f} ${u} ${h}`),console.log(" Updated viewBox:",`${c} ${f} ${u} ${h}`)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[e.width,e.height,r]),C.jsxs("svg",{className:"w-full h-full",viewBox:t,onClick:s,children:[C.jsx(hE,{}),C.jsx(cE,{}),C.jsx(vE,{}),C.jsx(SE,{})]})},vE=()=>{const{entities:e}=kt(Q),[t,n]=$.useState(null),r=$.useCallback((o,l)=>{l.stopPropagation(),hn.toggleEntitySelection(o.uuid,l.ctrlKey)},[]),s=$.useCallback(o=>{n(o)},[]),i=$.useCallback(()=>{n(null)},[]);return C.jsx("g",{fill:"#ddd",stroke:"black",strokeWidth:1,children:e.map(o=>C.jsxs("g",{className:"with-shadow",onMouseEnter:()=>s(o.uuid),onMouseLeave:i,children:[C.jsx(aE,{entity:o,onClick:r}),t===o.uuid&&C.jsx(yE,{entity:o})]},o.uuid))})},SE=()=>{const e=Ig();return C.jsx(C.Fragment,{children:e.map(t=>C.jsx(uE,{entity:t},t.uuid))})},_E=()=>{const e=Ig();return C.jsxs(C.Fragment,{children:[C.jsx(m_,{}),C.jsx(mE,{}),C.jsx("div",{className:"absolute top-4 right-4 max-w-md max-h-[calc(100vh-2rem)] overflow-y-auto",children:e.map(t=>C.jsx(rS,{entity:t},`selection-${t.uuid}`))}),C.jsx(iE,{})]})},yp=["","","","","","","","","",""],gp=["dodgerblue","hotpink","gold","lime","purple","teal","tomato"];function*kE(e){for(let t=0;t<e;t++)yield t}function EE(){Se.clearWorld();const{width:e,height:t}=Q.stage,n=10;function r(){const s=Se.addEntity({x:(Math.random()-.5)*e,y:(Math.random()-.5)*t,rotation:Math.random()*360,scale:1,behaviors:[]});return Se.addBehaviorToEntity(s.uuid,{type:"RenderCircle",radius:10+Math.random()*40}),s}for(const s of kE(n)){const i=r();if(i.name="circle",s%3===0&&(Se.addBehaviorToEntity(i.uuid,{type:"SimplifyMesh",sides:6}),i.name="simplified "+i.name),s%2===0){const o=va(i,"RenderCircle"),a=1.33*((o==null?void 0:o.radius)??20),u=yp[Math.floor(Math.random()*yp.length)];Se.addBehaviorToEntity(i.uuid,{type:"RenderEmoji",emoji:u,fontSize:a}),i.name=i.name+" with "+u}else{const o=gp[Math.floor(Math.random()*gp.length)];Se.addBehaviorToEntity(i.uuid,{type:"ChangeColor",color:o}),i.name=o+" "+i.name}}console.log(" Sample world populated with entities and emojis")}const Ve={addBehaviorToSelectedEntity:e=>{const t=we.selectedEntityIds[0];t!==null?(Se.addBehaviorToEntity(t,e),console.log(` Added behavior ${e.type} to entity ${t}`)):console.warn(" No entity selected. Please select an entity first.")},makePulse:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Pulse",onTick:`
        entity.scale = 1 + Math.sin(Date.now() * 0.005) * 0.5;
      `}),console.log(" Added pulse animation to selected entity")},makeSpin:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Spin",onTick:`
        entity.rotation += 4 * deltaTime;
      `}),console.log(" Added spin animation to selected entity")},makeOrbit:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Orbit",onTick:`
        const radius = 100;
        const speed = 0.001;
        entity.x = Math.cos(Date.now() * speed) * radius;
        entity.y = Math.sin(Date.now() * speed) * radius;
      `}),console.log(" Added orbit animation to selected entity")},makeBounce:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Bounce",onTick:`
        entity.y = Math.abs(Math.sin(Date.now() * 0.005)) * 100;
      `}),console.log(" Added bounce animation to selected entity")},makeWiggle:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Wiggle",onTick:`
        entity.rotation = Math.sin(Date.now() * 0.01) * 15;
      `}),console.log(" Added wiggle animation to selected entity")},makeFade:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Fade",onTick:`
        entity.opacity = (Math.sin(Date.now() * 0.003) + 1) / 2;
      `}),console.log(" Added fade animation to selected entity")},makeZigZag:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"ZigZag",onTick:`
        entity.x += Math.sin(Date.now() * 0.01) * 2;
        entity.y += 0.5;
        if (entity.y > 300) entity.y = -300;
      `}),console.log(" Added zig-zag animation to selected entity")},makeGrow:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Grow",onTick:`
        entity.scale = Math.min(entity.scale * 1.01, 3);
      `}),console.log(" Added grow animation to selected entity")},makeShrink:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Shrink",onTick:`
        entity.scale = Math.max(entity.scale * 0.99, 0.1);
      `}),console.log(" Added shrink animation to selected entity")},makeShake:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Shake",onTick:`
        entity.x += (Math.random() - 0.5) * 4;
        entity.y += (Math.random() - 0.5) * 4;
      `}),console.log(" Added shake animation to selected entity")},makeColorCycle:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"ColorCycle",onTick:"\n        const hue = (Date.now() * 0.1) % 360;\n        entity.color = `hsl(${hue}, 100%, 50%)`;\n      "}),console.log(" Added color cycle animation to selected entity")},makePingPong:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"PingPong",onTick:`
        entity.x = Math.sin(Date.now() * 0.003) * 200;
      `}),console.log(" Added ping-pong animation to selected entity")}};Object.assign(globalThis,{God:Ve});function bE(){return $.useEffect(()=>(window.location.search.includes("sample")&&EE(),()=>{Se.clearWorld(),hn.clearSelection()}),[]),C.jsx(gE,{})}async function CE(){console.log(" Debug initialized");const e=lw();Object.assign(window,{worldDataState:Q,worldDataStateActions:Se,easyBreezyContext:e});const t=ow(),n=function(){fw.values.inputStats=`
      isPressed[Shift]: ${t.isKeyPressed("Shift")}
      isPressed[Control]: ${t.isKeyPressed("Control")}
      isPressed[Alt]: ${t.isKeyPressed("Alt")}
      isPressed[Meta]: ${t.isKeyPressed("Meta")}
      isPressed[Enter]: ${t.isKeyPressed("Enter")}
      isPressed[Space]: ${t.isKeyPressed(" ")}
      isPressed[Backspace]: ${t.isKeyPressed("Backspace")}
      isPressed[ArrowUp]: ${t.isKeyPressed("ArrowUp")}
      isPressed[ArrowDown]: ${t.isKeyPressed("ArrowDown")}
      isPressed[ArrowLeft]: ${t.isKeyPressed("ArrowLeft")}
      isPressed[ArrowRight]: ${t.isKeyPressed("ArrowRight")}
      isPressed[Mouse:left]: ${t.isMouseButtonPressed("left")}
      isPressed[Mouse:middle]: ${t.isMouseButtonPressed("middle")}
      isPressed[Mouse:right]: ${t.isMouseButtonPressed("right")}
      axis[Horizontal]: ${t.getAxis("Horizontal")}
      axis[Vertical]: ${t.getAxis("Vertical")}
      mousePosition: 
        ${t.getMousePosition().x} x ${t.getMousePosition().y}
    `,requestAnimationFrame(n)};n()}Oy(document.getElementById("root")).render(C.jsx($.StrictMode,{children:C.jsx(bE,{})}));requestAnimationFrame(CE);
