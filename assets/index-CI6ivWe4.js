(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var rm={exports:{}},Jl={},sm={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=Symbol.for("react.element"),d1=Symbol.for("react.portal"),h1=Symbol.for("react.fragment"),p1=Symbol.for("react.strict_mode"),m1=Symbol.for("react.profiler"),y1=Symbol.for("react.provider"),g1=Symbol.for("react.context"),w1=Symbol.for("react.forward_ref"),v1=Symbol.for("react.suspense"),S1=Symbol.for("react.memo"),k1=Symbol.for("react.lazy"),qd=Symbol.iterator;function E1(t){return t===null||typeof t!="object"?null:(t=qd&&t[qd]||t["@@iterator"],typeof t=="function"?t:null)}var im={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},om=Object.assign,lm={};function Yr(t,e,n){this.props=t,this.context=e,this.refs=lm,this.updater=n||im}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function am(){}am.prototype=Yr.prototype;function lf(t,e,n){this.props=t,this.context=e,this.refs=lm,this.updater=n||im}var af=lf.prototype=new am;af.constructor=lf;om(af,Yr.prototype);af.isPureReactComponent=!0;var Vd=Array.isArray,um=Object.prototype.hasOwnProperty,uf={current:null},cm={key:!0,ref:!0,__self:!0,__source:!0};function fm(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)um.call(e,r)&&!cm.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:pi,type:t,key:i,ref:o,props:s,_owner:uf.current}}function _1(t,e){return{$$typeof:pi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cf(t){return typeof t=="object"&&t!==null&&t.$$typeof===pi}function b1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hd=/\/+/g;function Da(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b1(""+t.key):e.toString(36)}function so(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pi:case d1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Da(o,0):r,Vd(s)?(n="",t!=null&&(n=t.replace(Hd,"$&/")+"/"),so(s,e,n,"",function(u){return u})):s!=null&&(cf(s)&&(s=_1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Hd,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Vd(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Da(i,l);o+=so(i,e,n,a,s)}else if(a=E1(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Da(i,l++),o+=so(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pi(t,e,n){if(t==null)return t;var r=[],s=0;return so(t,r,"","",function(i){return e.call(n,i,s++)}),r}function C1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},io={transition:null},x1={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:io,ReactCurrentOwner:uf};function dm(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Pi,forEach:function(t,e,n){Pi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pi(t,function(){e++}),e},toArray:function(t){return Pi(t,function(e){return e})||[]},only:function(t){if(!cf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=Yr;B.Fragment=h1;B.Profiler=m1;B.PureComponent=lf;B.StrictMode=p1;B.Suspense=v1;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x1;B.act=dm;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=om({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=uf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)um.call(e,a)&&!cm.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:pi,type:t.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(t){return t={$$typeof:g1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:y1,_context:t},t.Consumer=t};B.createElement=fm;B.createFactory=function(t){var e=fm.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:w1,render:t}};B.isValidElement=cf;B.lazy=function(t){return{$$typeof:k1,_payload:{_status:-1,_result:t},_init:C1}};B.memo=function(t,e){return{$$typeof:S1,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=io.transition;io.transition={};try{t()}finally{io.transition=e}};B.unstable_act=dm;B.useCallback=function(t,e){return Te.current.useCallback(t,e)};B.useContext=function(t){return Te.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};B.useEffect=function(t,e){return Te.current.useEffect(t,e)};B.useId=function(){return Te.current.useId()};B.useImperativeHandle=function(t,e,n){return Te.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Te.current.useMemo(t,e)};B.useReducer=function(t,e,n){return Te.current.useReducer(t,e,n)};B.useRef=function(t){return Te.current.useRef(t)};B.useState=function(t){return Te.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return Te.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return Te.current.useTransition()};B.version="18.3.1";sm.exports=B;var T=sm.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1=T,P1=Symbol.for("react.element"),R1=Symbol.for("react.fragment"),N1=Object.prototype.hasOwnProperty,$1=A1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I1={key:!0,ref:!0,__self:!0,__source:!0};function hm(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)N1.call(e,r)&&!I1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:P1,type:t,key:i,ref:o,props:s,_owner:$1.current}}Jl.Fragment=R1;Jl.jsx=hm;Jl.jsxs=hm;rm.exports=Jl;var C=rm.exports,pm={exports:{}},Ze={},mm={exports:{}},ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var M=R.length;R.push(L);e:for(;0<M;){var se=M-1>>>1,pe=R[se];if(0<s(pe,L))R[se]=L,R[M]=pe,M=se;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],M=R.pop();if(M!==L){R[0]=M;e:for(var se=0,pe=R.length,xi=pe>>>1;se<xi;){var Cn=2*(se+1)-1,Ba=R[Cn],xn=Cn+1,Ai=R[xn];if(0>s(Ba,M))xn<pe&&0>s(Ai,Ba)?(R[se]=Ai,R[xn]=M,se=xn):(R[se]=Ba,R[Cn]=M,se=Cn);else if(xn<pe&&0>s(Ai,M))R[se]=Ai,R[xn]=M,se=xn;else break e}}return L}function s(R,L){var M=R.sortIndex-L.sortIndex;return M!==0?M:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,c=null,f=3,p=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=R)r(u),L.sortIndex=L.expirationTime,e(a,L);else break;L=n(u)}}function S(R){if(y=!1,g(R),!v)if(n(a)!==null)v=!0,La(E);else{var L=n(u);L!==null&&Ma(S,L.startTime-R)}}function E(R,L){v=!1,y&&(y=!1,m(_),_=-1),p=!0;var M=f;try{for(g(L),c=n(a);c!==null&&(!(c.expirationTime>L)||R&&!I());){var se=c.callback;if(typeof se=="function"){c.callback=null,f=c.priorityLevel;var pe=se(c.expirationTime<=L);L=t.unstable_now(),typeof pe=="function"?c.callback=pe:c===n(a)&&r(a),g(L)}else r(a);c=n(a)}if(c!==null)var xi=!0;else{var Cn=n(u);Cn!==null&&Ma(S,Cn.startTime-L),xi=!1}return xi}finally{c=null,f=M,p=!1}}var k=!1,b=null,_=-1,N=5,A=-1;function I(){return!(t.unstable_now()-A<N)}function F(){if(b!==null){var R=t.unstable_now();A=R;var L=!0;try{L=b(!0,R)}finally{L?nt():(k=!1,b=null)}}else k=!1}var nt;if(typeof d=="function")nt=function(){d(F)};else if(typeof MessageChannel<"u"){var bi=new MessageChannel,Ci=bi.port2;bi.port1.onmessage=F,nt=function(){Ci.postMessage(null)}}else nt=function(){w(F,0)};function La(R){b=R,k||(k=!0,nt())}function Ma(R,L){_=w(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,La(E))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var M=f;f=L;try{return R()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=f;f=R;try{return L()}finally{f=M}},t.unstable_scheduleCallback=function(R,L,M){var se=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?se+M:se):M=se,R){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=M+pe,R={id:h++,callback:L,priorityLevel:R,startTime:M,expirationTime:pe,sortIndex:-1},M>se?(R.sortIndex=M,e(u,R),n(a)===null&&R===n(u)&&(y?(m(_),_=-1):y=!0,Ma(S,M-se))):(R.sortIndex=pe,e(a,R),v||p||(v=!0,La(E))),R},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(R){var L=f;return function(){var M=f;f=L;try{return R.apply(this,arguments)}finally{f=M}}}})(ym);mm.exports=ym;var O1=mm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1=T,Ge=O1;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gm=new Set,qs={};function Xn(t,e){Ur(t,e),Ur(t+"Capture",e)}function Ur(t,e){for(qs[t]=e,t=0;t<e.length;t++)gm.add(e[t])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=Object.prototype.hasOwnProperty,L1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xd={},Jd={};function M1(t){return Tu.call(Jd,t)?!0:Tu.call(Xd,t)?!1:L1.test(t)?Jd[t]=!0:(Xd[t]=!0,!1)}function B1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function D1(t,e,n,r){if(e===null||typeof e>"u"||B1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Le(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_e[t]=new Le(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_e[e]=new Le(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_e[t]=new Le(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_e[t]=new Le(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_e[t]=new Le(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_e[t]=new Le(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_e[t]=new Le(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_e[t]=new Le(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_e[t]=new Le(t,5,!1,t.toLowerCase(),null,!1,!1)});var ff=/[\-:]([a-z])/g;function df(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ff,df);_e[e]=new Le(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ff,df);_e[e]=new Le(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ff,df);_e[e]=new Le(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_e[t]=new Le(t,1,!1,t.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_e[t]=new Le(t,1,!1,t.toLowerCase(),null,!0,!0)});function hf(t,e,n,r){var s=_e.hasOwnProperty(e)?_e[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(D1(e,n,s,r)&&(n=null),r||s===null?M1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yt=T1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ri=Symbol.for("react.element"),lr=Symbol.for("react.portal"),ar=Symbol.for("react.fragment"),pf=Symbol.for("react.strict_mode"),Lu=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),vm=Symbol.for("react.context"),mf=Symbol.for("react.forward_ref"),Mu=Symbol.for("react.suspense"),Bu=Symbol.for("react.suspense_list"),yf=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),Sm=Symbol.for("react.offscreen"),Qd=Symbol.iterator;function os(t){return t===null||typeof t!="object"?null:(t=Qd&&t[Qd]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Object.assign,ja;function ms(t){if(ja===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ja=e&&e[1]||""}return`
`+ja+t}var Fa=!1;function Ua(t,e){if(!t||Fa)return"";Fa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Fa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ms(t):""}function j1(t){switch(t.tag){case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return t=Ua(t.type,!1),t;case 11:return t=Ua(t.type.render,!1),t;case 1:return t=Ua(t.type,!0),t;default:return""}}function Du(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ar:return"Fragment";case lr:return"Portal";case Lu:return"Profiler";case pf:return"StrictMode";case Mu:return"Suspense";case Bu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vm:return(t.displayName||"Context")+".Consumer";case wm:return(t._context.displayName||"Context")+".Provider";case mf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yf:return e=t.displayName||null,e!==null?e:Du(t.type)||"Memo";case en:e=t._payload,t=t._init;try{return Du(t(e))}catch{}}return null}function F1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Du(e);case 8:return e===pf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function km(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U1(t){var e=km(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ni(t){t._valueTracker||(t._valueTracker=U1(t))}function Em(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=km(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ao(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ju(t,e){var n=e.checked;return ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _m(t,e){e=e.checked,e!=null&&hf(t,"checked",e,!1)}function Fu(t,e){_m(t,e);var n=gn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uu(t,e.type,gn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uu(t,e,n){(e!=="number"||Ao(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ys=Array.isArray;function Cr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(ys(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gn(n)}}function bm(t,e){var n=gn(e.value),r=gn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function eh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ku(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $i,xm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($i=$i||document.createElement("div"),$i.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$i.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z1=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(t){z1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ns[e]=Ns[t]})});function Am(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ns.hasOwnProperty(t)&&Ns[t]?(""+e).trim():e+"px"}function Pm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Am(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var K1=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wu(t,e){if(e){if(K1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function qu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=null;function gf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hu=null,xr=null,Ar=null;function th(t){if(t=gi(t)){if(typeof Hu!="function")throw Error(x(280));var e=t.stateNode;e&&(e=ea(e),Hu(t.stateNode,t.type,e))}}function Rm(t){xr?Ar?Ar.push(t):Ar=[t]:xr=t}function Nm(){if(xr){var t=xr,e=Ar;if(Ar=xr=null,th(t),e)for(t=0;t<e.length;t++)th(e[t])}}function $m(t,e){return t(e)}function Im(){}var za=!1;function Om(t,e,n){if(za)return t(e,n);za=!0;try{return $m(t,e,n)}finally{za=!1,(xr!==null||Ar!==null)&&(Im(),Nm())}}function Hs(t,e){var n=t.stateNode;if(n===null)return null;var r=ea(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Xu=!1;if(Ht)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Xu=!1}function W1(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var $s=!1,Po=null,Ro=!1,Ju=null,q1={onError:function(t){$s=!0,Po=t}};function V1(t,e,n,r,s,i,o,l,a){$s=!1,Po=null,W1.apply(q1,arguments)}function H1(t,e,n,r,s,i,o,l,a){if(V1.apply(this,arguments),$s){if($s){var u=Po;$s=!1,Po=null}else throw Error(x(198));Ro||(Ro=!0,Ju=u)}}function Jn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nh(t){if(Jn(t)!==t)throw Error(x(188))}function X1(t){var e=t.alternate;if(!e){if(e=Jn(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nh(s),t;if(i===r)return nh(s),e;i=i.sibling}throw Error(x(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function Lm(t){return t=X1(t),t!==null?Mm(t):null}function Mm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mm(t);if(e!==null)return e;t=t.sibling}return null}var Bm=Ge.unstable_scheduleCallback,rh=Ge.unstable_cancelCallback,J1=Ge.unstable_shouldYield,Q1=Ge.unstable_requestPaint,ie=Ge.unstable_now,Y1=Ge.unstable_getCurrentPriorityLevel,wf=Ge.unstable_ImmediatePriority,Dm=Ge.unstable_UserBlockingPriority,No=Ge.unstable_NormalPriority,G1=Ge.unstable_LowPriority,jm=Ge.unstable_IdlePriority,Ql=null,Ot=null;function Z1(t){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ql,t,void 0,(t.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:nv,ev=Math.log,tv=Math.LN2;function nv(t){return t>>>=0,t===0?32:31-(ev(t)/tv|0)|0}var Ii=64,Oi=4194304;function gs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $o(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=gs(l):(i&=o,i!==0&&(r=gs(i)))}else o=n&~s,o!==0?r=gs(o):i!==0&&(r=gs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-St(e),s=1<<n,r|=t[n],e&=~s;return r}function rv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-St(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=rv(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Qu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fm(){var t=Ii;return Ii<<=1,!(Ii&4194240)&&(Ii=64),t}function Ka(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-St(e),t[e]=n}function iv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-St(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function vf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-St(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var U=0;function Um(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zm,Sf,Km,Wm,qm,Yu=!1,Ti=[],ln=null,an=null,un=null,Xs=new Map,Js=new Map,nn=[],ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sh(t,e){switch(t){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Xs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(e.pointerId)}}function as(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=gi(e),e!==null&&Sf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function lv(t,e,n,r,s){switch(e){case"focusin":return ln=as(ln,t,e,n,r,s),!0;case"dragenter":return an=as(an,t,e,n,r,s),!0;case"mouseover":return un=as(un,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Xs.set(i,as(Xs.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Js.set(i,as(Js.get(i)||null,t,e,n,r,s)),!0}return!1}function Vm(t){var e=$n(t.target);if(e!==null){var n=Jn(e);if(n!==null){if(e=n.tag,e===13){if(e=Tm(n),e!==null){t.blockedOn=e,qm(t.priority,function(){Km(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vu=r,n.target.dispatchEvent(r),Vu=null}else return e=gi(n),e!==null&&Sf(e),t.blockedOn=n,!1;e.shift()}return!0}function ih(t,e,n){oo(t)&&n.delete(e)}function av(){Yu=!1,ln!==null&&oo(ln)&&(ln=null),an!==null&&oo(an)&&(an=null),un!==null&&oo(un)&&(un=null),Xs.forEach(ih),Js.forEach(ih)}function us(t,e){t.blockedOn===e&&(t.blockedOn=null,Yu||(Yu=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,av)))}function Qs(t){function e(s){return us(s,t)}if(0<Ti.length){us(Ti[0],t);for(var n=1;n<Ti.length;n++){var r=Ti[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ln!==null&&us(ln,t),an!==null&&us(an,t),un!==null&&us(un,t),Xs.forEach(e),Js.forEach(e),n=0;n<nn.length;n++)r=nn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<nn.length&&(n=nn[0],n.blockedOn===null);)Vm(n),n.blockedOn===null&&nn.shift()}var Pr=Yt.ReactCurrentBatchConfig,Io=!0;function uv(t,e,n,r){var s=U,i=Pr.transition;Pr.transition=null;try{U=1,kf(t,e,n,r)}finally{U=s,Pr.transition=i}}function cv(t,e,n,r){var s=U,i=Pr.transition;Pr.transition=null;try{U=4,kf(t,e,n,r)}finally{U=s,Pr.transition=i}}function kf(t,e,n,r){if(Io){var s=Gu(t,e,n,r);if(s===null)Za(t,e,r,Oo,n),sh(t,r);else if(lv(s,t,e,n,r))r.stopPropagation();else if(sh(t,r),e&4&&-1<ov.indexOf(t)){for(;s!==null;){var i=gi(s);if(i!==null&&zm(i),i=Gu(t,e,n,r),i===null&&Za(t,e,r,Oo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Za(t,e,r,null,n)}}var Oo=null;function Gu(t,e,n,r){if(Oo=null,t=gf(r),t=$n(t),t!==null)if(e=Jn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oo=t,null}function Hm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y1()){case wf:return 1;case Dm:return 4;case No:case G1:return 16;case jm:return 536870912;default:return 16}default:return 16}}var sn=null,Ef=null,lo=null;function Xm(){if(lo)return lo;var t,e=Ef,n=e.length,r,s="value"in sn?sn.value:sn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return lo=s.slice(t,1<r?1-r:void 0)}function ao(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function oh(){return!1}function et(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Li:oh,this.isPropagationStopped=oh,this}return ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),e}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_f=et(Gr),yi=ne({},Gr,{view:0,detail:0}),fv=et(yi),Wa,qa,cs,Yl=ne({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cs&&(cs&&t.type==="mousemove"?(Wa=t.screenX-cs.screenX,qa=t.screenY-cs.screenY):qa=Wa=0,cs=t),Wa)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),lh=et(Yl),dv=ne({},Yl,{dataTransfer:0}),hv=et(dv),pv=ne({},yi,{relatedTarget:0}),Va=et(pv),mv=ne({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),yv=et(mv),gv=ne({},Gr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wv=et(gv),vv=ne({},Gr,{data:0}),ah=et(vv),Sv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _v(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ev[t])?!!e[t]:!1}function bf(){return _v}var bv=ne({},yi,{key:function(t){if(t.key){var e=Sv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ao(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bf,charCode:function(t){return t.type==="keypress"?ao(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ao(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cv=et(bv),xv=ne({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uh=et(xv),Av=ne({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bf}),Pv=et(Av),Rv=ne({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nv=et(Rv),$v=ne({},Yl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Iv=et($v),Ov=[9,13,27,32],Cf=Ht&&"CompositionEvent"in window,Is=null;Ht&&"documentMode"in document&&(Is=document.documentMode);var Tv=Ht&&"TextEvent"in window&&!Is,Jm=Ht&&(!Cf||Is&&8<Is&&11>=Is),ch=" ",fh=!1;function Qm(t,e){switch(t){case"keyup":return Ov.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function Lv(t,e){switch(t){case"compositionend":return Ym(e);case"keypress":return e.which!==32?null:(fh=!0,ch);case"textInput":return t=e.data,t===ch&&fh?null:t;default:return null}}function Mv(t,e){if(ur)return t==="compositionend"||!Cf&&Qm(t,e)?(t=Xm(),lo=Ef=sn=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jm&&e.locale!=="ko"?null:e.data;default:return null}}var Bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bv[t.type]:e==="textarea"}function Gm(t,e,n,r){Rm(r),e=To(e,"onChange"),0<e.length&&(n=new _f("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Os=null,Ys=null;function Dv(t){uy(t,0)}function Gl(t){var e=dr(t);if(Em(e))return t}function jv(t,e){if(t==="change")return e}var Zm=!1;if(Ht){var Ha;if(Ht){var Xa="oninput"in document;if(!Xa){var hh=document.createElement("div");hh.setAttribute("oninput","return;"),Xa=typeof hh.oninput=="function"}Ha=Xa}else Ha=!1;Zm=Ha&&(!document.documentMode||9<document.documentMode)}function ph(){Os&&(Os.detachEvent("onpropertychange",ey),Ys=Os=null)}function ey(t){if(t.propertyName==="value"&&Gl(Ys)){var e=[];Gm(e,Ys,t,gf(t)),Om(Dv,e)}}function Fv(t,e,n){t==="focusin"?(ph(),Os=e,Ys=n,Os.attachEvent("onpropertychange",ey)):t==="focusout"&&ph()}function Uv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gl(Ys)}function zv(t,e){if(t==="click")return Gl(e)}function Kv(t,e){if(t==="input"||t==="change")return Gl(e)}function Wv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _t=typeof Object.is=="function"?Object.is:Wv;function Gs(t,e){if(_t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Tu.call(e,s)||!_t(t[s],e[s]))return!1}return!0}function mh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yh(t,e){var n=mh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mh(n)}}function ty(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ty(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ny(){for(var t=window,e=Ao();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ao(t.document)}return e}function xf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qv(t){var e=ny(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ty(n.ownerDocument.documentElement,n)){if(r!==null&&xf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=yh(n,i);var o=yh(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Vv=Ht&&"documentMode"in document&&11>=document.documentMode,cr=null,Zu=null,Ts=null,ec=!1;function gh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ec||cr==null||cr!==Ao(r)||(r=cr,"selectionStart"in r&&xf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ts&&Gs(Ts,r)||(Ts=r,r=To(Zu,"onSelect"),0<r.length&&(e=new _f("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cr)))}function Mi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fr={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionend:Mi("Transition","TransitionEnd")},Ja={},ry={};Ht&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Zl(t){if(Ja[t])return Ja[t];if(!fr[t])return t;var e=fr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ry)return Ja[t]=e[n];return t}var sy=Zl("animationend"),iy=Zl("animationiteration"),oy=Zl("animationstart"),ly=Zl("transitionend"),ay=new Map,wh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(t,e){ay.set(t,e),Xn(e,[t])}for(var Qa=0;Qa<wh.length;Qa++){var Ya=wh[Qa],Hv=Ya.toLowerCase(),Xv=Ya[0].toUpperCase()+Ya.slice(1);kn(Hv,"on"+Xv)}kn(sy,"onAnimationEnd");kn(iy,"onAnimationIteration");kn(oy,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(ly,"onTransitionEnd");Ur("onMouseEnter",["mouseout","mouseover"]);Ur("onMouseLeave",["mouseout","mouseover"]);Ur("onPointerEnter",["pointerout","pointerover"]);Ur("onPointerLeave",["pointerout","pointerover"]);Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ws));function vh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,H1(r,e,void 0,t),t.currentTarget=null}function uy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;vh(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;vh(s,l,u),i=a}}}if(Ro)throw t=Ju,Ro=!1,Ju=null,t}function V(t,e){var n=e[ic];n===void 0&&(n=e[ic]=new Set);var r=t+"__bubble";n.has(r)||(cy(e,t,2,!1),n.add(r))}function Ga(t,e,n){var r=0;e&&(r|=4),cy(n,t,r,e)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function Zs(t){if(!t[Bi]){t[Bi]=!0,gm.forEach(function(n){n!=="selectionchange"&&(Jv.has(n)||Ga(n,!1,t),Ga(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bi]||(e[Bi]=!0,Ga("selectionchange",!1,e))}}function cy(t,e,n,r){switch(Hm(e)){case 1:var s=uv;break;case 4:s=cv;break;default:s=kf}n=s.bind(null,e,n,t),s=void 0,!Xu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Za(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=$n(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Om(function(){var u=i,h=gf(n),c=[];e:{var f=ay.get(t);if(f!==void 0){var p=_f,v=t;switch(t){case"keypress":if(ao(n)===0)break e;case"keydown":case"keyup":p=Cv;break;case"focusin":v="focus",p=Va;break;case"focusout":v="blur",p=Va;break;case"beforeblur":case"afterblur":p=Va;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Pv;break;case sy:case iy:case oy:p=yv;break;case ly:p=Nv;break;case"scroll":p=fv;break;case"wheel":p=Iv;break;case"copy":case"cut":case"paste":p=wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=uh}var y=(e&4)!==0,w=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var d=u,g;d!==null;){g=d;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,m!==null&&(S=Hs(d,m),S!=null&&y.push(ei(d,S,g)))),w)break;d=d.return}0<y.length&&(f=new p(f,v,null,n,h),c.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Vu&&(v=n.relatedTarget||n.fromElement)&&($n(v)||v[Xt]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?$n(v):null,v!==null&&(w=Jn(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=lh,S="onMouseLeave",m="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(y=uh,S="onPointerLeave",m="onPointerEnter",d="pointer"),w=p==null?f:dr(p),g=v==null?f:dr(v),f=new y(S,d+"leave",p,n,h),f.target=w,f.relatedTarget=g,S=null,$n(h)===u&&(y=new y(m,d+"enter",v,n,h),y.target=g,y.relatedTarget=w,S=y),w=S,p&&v)t:{for(y=p,m=v,d=0,g=y;g;g=Gn(g))d++;for(g=0,S=m;S;S=Gn(S))g++;for(;0<d-g;)y=Gn(y),d--;for(;0<g-d;)m=Gn(m),g--;for(;d--;){if(y===m||m!==null&&y===m.alternate)break t;y=Gn(y),m=Gn(m)}y=null}else y=null;p!==null&&Sh(c,f,p,y,!1),v!==null&&w!==null&&Sh(c,w,v,y,!0)}}e:{if(f=u?dr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=jv;else if(dh(f))if(Zm)E=Kv;else{E=Uv;var k=Fv}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=zv);if(E&&(E=E(t,u))){Gm(c,E,n,h);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Uu(f,"number",f.value)}switch(k=u?dr(u):window,t){case"focusin":(dh(k)||k.contentEditable==="true")&&(cr=k,Zu=u,Ts=null);break;case"focusout":Ts=Zu=cr=null;break;case"mousedown":ec=!0;break;case"contextmenu":case"mouseup":case"dragend":ec=!1,gh(c,n,h);break;case"selectionchange":if(Vv)break;case"keydown":case"keyup":gh(c,n,h)}var b;if(Cf)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ur?Qm(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Jm&&n.locale!=="ko"&&(ur||_!=="onCompositionStart"?_==="onCompositionEnd"&&ur&&(b=Xm()):(sn=h,Ef="value"in sn?sn.value:sn.textContent,ur=!0)),k=To(u,_),0<k.length&&(_=new ah(_,t,null,n,h),c.push({event:_,listeners:k}),b?_.data=b:(b=Ym(n),b!==null&&(_.data=b)))),(b=Tv?Lv(t,n):Mv(t,n))&&(u=To(u,"onBeforeInput"),0<u.length&&(h=new ah("onBeforeInput","beforeinput",null,n,h),c.push({event:h,listeners:u}),h.data=b))}uy(c,e)})}function ei(t,e,n){return{instance:t,listener:e,currentTarget:n}}function To(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hs(t,n),i!=null&&r.unshift(ei(t,i,s)),i=Hs(t,e),i!=null&&r.push(ei(t,i,s))),t=t.return}return r}function Gn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sh(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Hs(n,i),a!=null&&o.unshift(ei(n,a,l))):s||(a=Hs(n,i),a!=null&&o.push(ei(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Qv=/\r\n?/g,Yv=/\u0000|\uFFFD/g;function kh(t){return(typeof t=="string"?t:""+t).replace(Qv,`
`).replace(Yv,"")}function Di(t,e,n){if(e=kh(e),kh(t)!==e&&n)throw Error(x(425))}function Lo(){}var tc=null,nc=null;function rc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sc=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,Eh=typeof Promise=="function"?Promise:void 0,Zv=typeof queueMicrotask=="function"?queueMicrotask:typeof Eh<"u"?function(t){return Eh.resolve(null).then(t).catch(eS)}:sc;function eS(t){setTimeout(function(){throw t})}function eu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Qs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Qs(e)}function cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _h(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),It="__reactFiber$"+Zr,ti="__reactProps$"+Zr,Xt="__reactContainer$"+Zr,ic="__reactEvents$"+Zr,tS="__reactListeners$"+Zr,nS="__reactHandles$"+Zr;function $n(t){var e=t[It];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xt]||n[It]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_h(t);t!==null;){if(n=t[It])return n;t=_h(t)}return e}t=n,n=t.parentNode}return null}function gi(t){return t=t[It]||t[Xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function ea(t){return t[ti]||null}var oc=[],hr=-1;function En(t){return{current:t}}function H(t){0>hr||(t.current=oc[hr],oc[hr]=null,hr--)}function q(t,e){hr++,oc[hr]=t.current,t.current=e}var wn={},Ne=En(wn),Fe=En(!1),Fn=wn;function zr(t,e){var n=t.type.contextTypes;if(!n)return wn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(t){return t=t.childContextTypes,t!=null}function Mo(){H(Fe),H(Ne)}function bh(t,e,n){if(Ne.current!==wn)throw Error(x(168));q(Ne,e),q(Fe,n)}function fy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(x(108,F1(t)||"Unknown",s));return ne({},n,r)}function Bo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,Fn=Ne.current,q(Ne,t),q(Fe,Fe.current),!0}function Ch(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=fy(t,e,Fn),r.__reactInternalMemoizedMergedChildContext=t,H(Fe),H(Ne),q(Ne,t)):H(Fe),q(Fe,n)}var Ut=null,ta=!1,tu=!1;function dy(t){Ut===null?Ut=[t]:Ut.push(t)}function rS(t){ta=!0,dy(t)}function _n(){if(!tu&&Ut!==null){tu=!0;var t=0,e=U;try{var n=Ut;for(U=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ut=null,ta=!1}catch(s){throw Ut!==null&&(Ut=Ut.slice(t+1)),Bm(wf,_n),s}finally{U=e,tu=!1}}return null}var pr=[],mr=0,Do=null,jo=0,rt=[],st=0,Un=null,zt=1,Kt="";function An(t,e){pr[mr++]=jo,pr[mr++]=Do,Do=t,jo=e}function hy(t,e,n){rt[st++]=zt,rt[st++]=Kt,rt[st++]=Un,Un=t;var r=zt;t=Kt;var s=32-St(r)-1;r&=~(1<<s),n+=1;var i=32-St(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,zt=1<<32-St(e)+s|n<<s|r,Kt=i+t}else zt=1<<i|n<<s|r,Kt=t}function Af(t){t.return!==null&&(An(t,1),hy(t,1,0))}function Pf(t){for(;t===Do;)Do=pr[--mr],pr[mr]=null,jo=pr[--mr],pr[mr]=null;for(;t===Un;)Un=rt[--st],rt[st]=null,Kt=rt[--st],rt[st]=null,zt=rt[--st],rt[st]=null}var Ye=null,Qe=null,J=!1,gt=null;function py(t,e){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ye=t,Qe=cn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ye=t,Qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Un!==null?{id:zt,overflow:Kt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ye=t,Qe=null,!0):!1;default:return!1}}function lc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ac(t){if(J){var e=Qe;if(e){var n=e;if(!xh(t,e)){if(lc(t))throw Error(x(418));e=cn(n.nextSibling);var r=Ye;e&&xh(t,e)?py(r,n):(t.flags=t.flags&-4097|2,J=!1,Ye=t)}}else{if(lc(t))throw Error(x(418));t.flags=t.flags&-4097|2,J=!1,Ye=t}}}function Ah(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ye=t}function ji(t){if(t!==Ye)return!1;if(!J)return Ah(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rc(t.type,t.memoizedProps)),e&&(e=Qe)){if(lc(t))throw my(),Error(x(418));for(;e;)py(t,e),e=cn(e.nextSibling)}if(Ah(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qe=cn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qe=null}}else Qe=Ye?cn(t.stateNode.nextSibling):null;return!0}function my(){for(var t=Qe;t;)t=cn(t.nextSibling)}function Kr(){Qe=Ye=null,J=!1}function Rf(t){gt===null?gt=[t]:gt.push(t)}var sS=Yt.ReactCurrentBatchConfig;function fs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function Fi(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ph(t){var e=t._init;return e(t._payload)}function yy(t){function e(m,d){if(t){var g=m.deletions;g===null?(m.deletions=[d],m.flags|=16):g.push(d)}}function n(m,d){if(!t)return null;for(;d!==null;)e(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function s(m,d){return m=pn(m,d),m.index=0,m.sibling=null,m}function i(m,d,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<d?(m.flags|=2,d):g):(m.flags|=2,d)):(m.flags|=1048576,d)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,d,g,S){return d===null||d.tag!==6?(d=au(g,m.mode,S),d.return=m,d):(d=s(d,g),d.return=m,d)}function a(m,d,g,S){var E=g.type;return E===ar?h(m,d,g.props.children,S,g.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===en&&Ph(E)===d.type)?(S=s(d,g.props),S.ref=fs(m,d,g),S.return=m,S):(S=yo(g.type,g.key,g.props,null,m.mode,S),S.ref=fs(m,d,g),S.return=m,S)}function u(m,d,g,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=uu(g,m.mode,S),d.return=m,d):(d=s(d,g.children||[]),d.return=m,d)}function h(m,d,g,S,E){return d===null||d.tag!==7?(d=jn(g,m.mode,S,E),d.return=m,d):(d=s(d,g),d.return=m,d)}function c(m,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=au(""+d,m.mode,g),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ri:return g=yo(d.type,d.key,d.props,null,m.mode,g),g.ref=fs(m,null,d),g.return=m,g;case lr:return d=uu(d,m.mode,g),d.return=m,d;case en:var S=d._init;return c(m,S(d._payload),g)}if(ys(d)||os(d))return d=jn(d,m.mode,g,null),d.return=m,d;Fi(m,d)}return null}function f(m,d,g,S){var E=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:l(m,d,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ri:return g.key===E?a(m,d,g,S):null;case lr:return g.key===E?u(m,d,g,S):null;case en:return E=g._init,f(m,d,E(g._payload),S)}if(ys(g)||os(g))return E!==null?null:h(m,d,g,S,null);Fi(m,g)}return null}function p(m,d,g,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(g)||null,l(d,m,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ri:return m=m.get(S.key===null?g:S.key)||null,a(d,m,S,E);case lr:return m=m.get(S.key===null?g:S.key)||null,u(d,m,S,E);case en:var k=S._init;return p(m,d,g,k(S._payload),E)}if(ys(S)||os(S))return m=m.get(g)||null,h(d,m,S,E,null);Fi(d,S)}return null}function v(m,d,g,S){for(var E=null,k=null,b=d,_=d=0,N=null;b!==null&&_<g.length;_++){b.index>_?(N=b,b=null):N=b.sibling;var A=f(m,b,g[_],S);if(A===null){b===null&&(b=N);break}t&&b&&A.alternate===null&&e(m,b),d=i(A,d,_),k===null?E=A:k.sibling=A,k=A,b=N}if(_===g.length)return n(m,b),J&&An(m,_),E;if(b===null){for(;_<g.length;_++)b=c(m,g[_],S),b!==null&&(d=i(b,d,_),k===null?E=b:k.sibling=b,k=b);return J&&An(m,_),E}for(b=r(m,b);_<g.length;_++)N=p(b,m,_,g[_],S),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?_:N.key),d=i(N,d,_),k===null?E=N:k.sibling=N,k=N);return t&&b.forEach(function(I){return e(m,I)}),J&&An(m,_),E}function y(m,d,g,S){var E=os(g);if(typeof E!="function")throw Error(x(150));if(g=E.call(g),g==null)throw Error(x(151));for(var k=E=null,b=d,_=d=0,N=null,A=g.next();b!==null&&!A.done;_++,A=g.next()){b.index>_?(N=b,b=null):N=b.sibling;var I=f(m,b,A.value,S);if(I===null){b===null&&(b=N);break}t&&b&&I.alternate===null&&e(m,b),d=i(I,d,_),k===null?E=I:k.sibling=I,k=I,b=N}if(A.done)return n(m,b),J&&An(m,_),E;if(b===null){for(;!A.done;_++,A=g.next())A=c(m,A.value,S),A!==null&&(d=i(A,d,_),k===null?E=A:k.sibling=A,k=A);return J&&An(m,_),E}for(b=r(m,b);!A.done;_++,A=g.next())A=p(b,m,_,A.value,S),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?_:A.key),d=i(A,d,_),k===null?E=A:k.sibling=A,k=A);return t&&b.forEach(function(F){return e(m,F)}),J&&An(m,_),E}function w(m,d,g,S){if(typeof g=="object"&&g!==null&&g.type===ar&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ri:e:{for(var E=g.key,k=d;k!==null;){if(k.key===E){if(E=g.type,E===ar){if(k.tag===7){n(m,k.sibling),d=s(k,g.props.children),d.return=m,m=d;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===en&&Ph(E)===k.type){n(m,k.sibling),d=s(k,g.props),d.ref=fs(m,k,g),d.return=m,m=d;break e}n(m,k);break}else e(m,k);k=k.sibling}g.type===ar?(d=jn(g.props.children,m.mode,S,g.key),d.return=m,m=d):(S=yo(g.type,g.key,g.props,null,m.mode,S),S.ref=fs(m,d,g),S.return=m,m=S)}return o(m);case lr:e:{for(k=g.key;d!==null;){if(d.key===k)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(m,d.sibling),d=s(d,g.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else e(m,d);d=d.sibling}d=uu(g,m.mode,S),d.return=m,m=d}return o(m);case en:return k=g._init,w(m,d,k(g._payload),S)}if(ys(g))return v(m,d,g,S);if(os(g))return y(m,d,g,S);Fi(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(m,d.sibling),d=s(d,g),d.return=m,m=d):(n(m,d),d=au(g,m.mode,S),d.return=m,m=d),o(m)):n(m,d)}return w}var Wr=yy(!0),gy=yy(!1),Fo=En(null),Uo=null,yr=null,Nf=null;function $f(){Nf=yr=Uo=null}function If(t){var e=Fo.current;H(Fo),t._currentValue=e}function uc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rr(t,e){Uo=t,Nf=yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function at(t){var e=t._currentValue;if(Nf!==t)if(t={context:t,memoizedValue:e,next:null},yr===null){if(Uo===null)throw Error(x(308));yr=t,Uo.dependencies={lanes:0,firstContext:t}}else yr=yr.next=t;return e}var In=null;function Of(t){In===null?In=[t]:In.push(t)}function wy(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Of(e)):(n.next=s.next,s.next=n),e.interleaved=n,Jt(t,r)}function Jt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tn=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,j&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Jt(t,n)}return s=r.interleaved,s===null?(e.next=e,Of(r)):(e.next=s.next,s.next=e),r.interleaved=e,Jt(t,n)}function uo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vf(t,n)}}function Rh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zo(t,e,n,r){var s=t.updateQueue;tn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(i!==null){var c=s.baseState;o=0,h=u=a=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(f=e,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){c=v.call(p,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,c,f):v,f==null)break e;c=ne({},c,f);break e;case 2:tn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,a=c):h=h.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Kn|=o,t.lanes=o,t.memoizedState=c}}function Nh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(x(191,s));s.call(r)}}}var wi={},Tt=En(wi),ni=En(wi),ri=En(wi);function On(t){if(t===wi)throw Error(x(174));return t}function Lf(t,e){switch(q(ri,e),q(ni,t),q(Tt,wi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ku(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ku(e,t)}H(Tt),q(Tt,e)}function qr(){H(Tt),H(ni),H(ri)}function Sy(t){On(ri.current);var e=On(Tt.current),n=Ku(e,t.type);e!==n&&(q(ni,t),q(Tt,n))}function Mf(t){ni.current===t&&(H(Tt),H(ni))}var G=En(0);function Ko(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nu=[];function Bf(){for(var t=0;t<nu.length;t++)nu[t]._workInProgressVersionPrimary=null;nu.length=0}var co=Yt.ReactCurrentDispatcher,ru=Yt.ReactCurrentBatchConfig,zn=0,ee=null,de=null,ye=null,Wo=!1,Ls=!1,si=0,iS=0;function Ce(){throw Error(x(321))}function Df(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_t(t[n],e[n]))return!1;return!0}function jf(t,e,n,r,s,i){if(zn=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,co.current=t===null||t.memoizedState===null?uS:cS,t=n(r,s),Ls){i=0;do{if(Ls=!1,si=0,25<=i)throw Error(x(301));i+=1,ye=de=null,e.updateQueue=null,co.current=fS,t=n(r,s)}while(Ls)}if(co.current=qo,e=de!==null&&de.next!==null,zn=0,ye=de=ee=null,Wo=!1,e)throw Error(x(300));return t}function Ff(){var t=si!==0;return si=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?ee.memoizedState=ye=t:ye=ye.next=t,ye}function ut(){if(de===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=ye===null?ee.memoizedState:ye.next;if(e!==null)ye=e,de=t;else{if(t===null)throw Error(x(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ye===null?ee.memoizedState=ye=t:ye=ye.next=t}return ye}function ii(t,e){return typeof e=="function"?e(t):e}function su(t){var e=ut(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var h=u.lane;if((zn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,ee.lanes|=h,Kn|=h}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,_t(r,e.memoizedState)||(je=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ee.lanes|=i,Kn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function iu(t){var e=ut(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);_t(i,e.memoizedState)||(je=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ky(){}function Ey(t,e){var n=ee,r=ut(),s=e(),i=!_t(r.memoizedState,s);if(i&&(r.memoizedState=s,je=!0),r=r.queue,Uf(Cy.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,oi(9,by.bind(null,n,r,s,e),void 0,null),ge===null)throw Error(x(349));zn&30||_y(n,e,s)}return s}function _y(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function by(t,e,n,r){e.value=n,e.getSnapshot=r,xy(e)&&Ay(t)}function Cy(t,e,n){return n(function(){xy(e)&&Ay(t)})}function xy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_t(t,n)}catch{return!0}}function Ay(t){var e=Jt(t,1);e!==null&&kt(e,t,1,-1)}function $h(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:t},e.queue=t,t=t.dispatch=aS.bind(null,ee,t),[e.memoizedState,t]}function oi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Py(){return ut().memoizedState}function fo(t,e,n,r){var s=Rt();ee.flags|=t,s.memoizedState=oi(1|e,n,void 0,r===void 0?null:r)}function na(t,e,n,r){var s=ut();r=r===void 0?null:r;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,r!==null&&Df(r,o.deps)){s.memoizedState=oi(e,n,i,r);return}}ee.flags|=t,s.memoizedState=oi(1|e,n,i,r)}function Ih(t,e){return fo(8390656,8,t,e)}function Uf(t,e){return na(2048,8,t,e)}function Ry(t,e){return na(4,2,t,e)}function Ny(t,e){return na(4,4,t,e)}function $y(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Iy(t,e,n){return n=n!=null?n.concat([t]):null,na(4,4,$y.bind(null,e,t),n)}function zf(){}function Oy(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Df(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ty(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Df(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ly(t,e,n){return zn&21?(_t(n,e)||(n=Fm(),ee.lanes|=n,Kn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=n)}function oS(t,e){var n=U;U=n!==0&&4>n?n:4,t(!0);var r=ru.transition;ru.transition={};try{t(!1),e()}finally{U=n,ru.transition=r}}function My(){return ut().memoizedState}function lS(t,e,n){var r=hn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},By(t))Dy(e,n);else if(n=wy(t,e,n,r),n!==null){var s=Oe();kt(n,t,r,s),jy(n,e,r)}}function aS(t,e,n){var r=hn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(By(t))Dy(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,_t(l,o)){var a=e.interleaved;a===null?(s.next=s,Of(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=wy(t,e,s,r),n!==null&&(s=Oe(),kt(n,t,r,s),jy(n,e,r))}}function By(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function Dy(t,e){Ls=Wo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vf(t,n)}}var qo={readContext:at,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},uS={readContext:at,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:at,useEffect:Ih,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fo(4194308,4,$y.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fo(4194308,4,t,e)},useInsertionEffect:function(t,e){return fo(4,2,t,e)},useMemo:function(t,e){var n=Rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lS.bind(null,ee,t),[r.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:$h,useDebugValue:zf,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=$h(!1),e=t[0];return t=oS.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ee,s=Rt();if(J){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),ge===null)throw Error(x(349));zn&30||_y(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ih(Cy.bind(null,r,i,t),[t]),r.flags|=2048,oi(9,by.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Rt(),e=ge.identifierPrefix;if(J){var n=Kt,r=zt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=si++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cS={readContext:at,useCallback:Oy,useContext:at,useEffect:Uf,useImperativeHandle:Iy,useInsertionEffect:Ry,useLayoutEffect:Ny,useMemo:Ty,useReducer:su,useRef:Py,useState:function(){return su(ii)},useDebugValue:zf,useDeferredValue:function(t){var e=ut();return Ly(e,de.memoizedState,t)},useTransition:function(){var t=su(ii)[0],e=ut().memoizedState;return[t,e]},useMutableSource:ky,useSyncExternalStore:Ey,useId:My,unstable_isNewReconciler:!1},fS={readContext:at,useCallback:Oy,useContext:at,useEffect:Uf,useImperativeHandle:Iy,useInsertionEffect:Ry,useLayoutEffect:Ny,useMemo:Ty,useReducer:iu,useRef:Py,useState:function(){return iu(ii)},useDebugValue:zf,useDeferredValue:function(t){var e=ut();return de===null?e.memoizedState=t:Ly(e,de.memoizedState,t)},useTransition:function(){var t=iu(ii)[0],e=ut().memoizedState;return[t,e]},useMutableSource:ky,useSyncExternalStore:Ey,useId:My,unstable_isNewReconciler:!1};function pt(t,e){if(t&&t.defaultProps){e=ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ra={isMounted:function(t){return(t=t._reactInternals)?Jn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Oe(),s=hn(t),i=qt(r,s);i.payload=e,n!=null&&(i.callback=n),e=fn(t,i,s),e!==null&&(kt(e,t,s,r),uo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Oe(),s=hn(t),i=qt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=fn(t,i,s),e!==null&&(kt(e,t,s,r),uo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Oe(),r=hn(t),s=qt(n,r);s.tag=2,e!=null&&(s.callback=e),e=fn(t,s,r),e!==null&&(kt(e,t,r,n),uo(e,t,r))}};function Oh(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Gs(n,r)||!Gs(s,i):!0}function Fy(t,e,n){var r=!1,s=wn,i=e.contextType;return typeof i=="object"&&i!==null?i=at(i):(s=Ue(e)?Fn:Ne.current,r=e.contextTypes,i=(r=r!=null)?zr(t,s):wn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ra,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Th(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ra.enqueueReplaceState(e,e.state,null)}function fc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Tf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=at(i):(i=Ue(e)?Fn:Ne.current,s.context=zr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(cc(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ra.enqueueReplaceState(s,s.state,null),zo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vr(t,e){try{var n="",r=e;do n+=j1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ou(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dS=typeof WeakMap=="function"?WeakMap:Map;function Uy(t,e,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ho||(Ho=!0,Ec=r),dc(t,e)},n}function zy(t,e,n){n=qt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){dc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){dc(t,e),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Lh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dS;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=xS.bind(null,t,e,n),e.then(t,t))}function Mh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bh(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qt(-1,1),e.tag=2,fn(n,e,1))),n.lanes|=1),t)}var hS=Yt.ReactCurrentOwner,je=!1;function $e(t,e,n,r){e.child=t===null?gy(e,null,n,r):Wr(e,t.child,n,r)}function Dh(t,e,n,r,s){n=n.render;var i=e.ref;return Rr(e,s),r=jf(t,e,n,r,i,s),n=Ff(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qt(t,e,s)):(J&&n&&Af(e),e.flags|=1,$e(t,e,r,s),e.child)}function jh(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Qf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ky(t,e,i,r,s)):(t=yo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gs,n(o,r)&&t.ref===e.ref)return Qt(t,e,s)}return e.flags|=1,t=pn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ky(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Gs(i,r)&&t.ref===e.ref)if(je=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,Qt(t,e,s)}return hc(t,e,n,r,s)}function Wy(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(wr,Xe),Xe|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(wr,Xe),Xe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,q(wr,Xe),Xe|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,q(wr,Xe),Xe|=r;return $e(t,e,s,n),e.child}function qy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hc(t,e,n,r,s){var i=Ue(n)?Fn:Ne.current;return i=zr(e,i),Rr(e,s),n=jf(t,e,n,r,i,s),r=Ff(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qt(t,e,s)):(J&&r&&Af(e),e.flags|=1,$e(t,e,n,s),e.child)}function Fh(t,e,n,r,s){if(Ue(n)){var i=!0;Bo(e)}else i=!1;if(Rr(e,s),e.stateNode===null)ho(t,e),Fy(e,n,r),fc(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Ue(n)?Fn:Ne.current,u=zr(e,u));var h=n.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Th(e,o,r,u),tn=!1;var f=e.memoizedState;o.state=f,zo(e,r,o,s),a=e.memoizedState,l!==r||f!==a||Fe.current||tn?(typeof h=="function"&&(cc(e,n,h,r),a=e.memoizedState),(l=tn||Oh(e,n,l,r,f,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,vy(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:pt(e.type,l),o.props=u,c=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=at(a):(a=Ue(n)?Fn:Ne.current,a=zr(e,a));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==a)&&Th(e,o,r,a),tn=!1,f=e.memoizedState,o.state=f,zo(e,r,o,s);var v=e.memoizedState;l!==c||f!==v||Fe.current||tn?(typeof p=="function"&&(cc(e,n,p,r),v=e.memoizedState),(u=tn||Oh(e,n,u,r,f,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return pc(t,e,n,r,i,s)}function pc(t,e,n,r,s,i){qy(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ch(e,n,!1),Qt(t,e,i);r=e.stateNode,hS.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wr(e,t.child,null,i),e.child=Wr(e,null,l,i)):$e(t,e,l,i),e.memoizedState=r.state,s&&Ch(e,n,!0),e.child}function Vy(t){var e=t.stateNode;e.pendingContext?bh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bh(t,e.context,!1),Lf(t,e.containerInfo)}function Uh(t,e,n,r,s){return Kr(),Rf(s),e.flags|=256,$e(t,e,n,r),e.child}var mc={dehydrated:null,treeContext:null,retryLane:0};function yc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hy(t,e,n){var r=e.pendingProps,s=G.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(G,s&1),t===null)return ac(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=oa(o,r,0,null),t=jn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=yc(n),e.memoizedState=mc,t):Kf(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pS(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=pn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=pn(l,i):(i=jn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?yc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=mc,r}return i=t.child,t=i.sibling,r=pn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kf(t,e){return e=oa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ui(t,e,n,r){return r!==null&&Rf(r),Wr(e,t.child,null,n),t=Kf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pS(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ou(Error(x(422))),Ui(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=oa({mode:"visible",children:r.children},s,0,null),i=jn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Wr(e,t.child,null,o),e.child.memoizedState=yc(o),e.memoizedState=mc,i);if(!(e.mode&1))return Ui(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(x(419)),r=ou(i,r,void 0),Ui(t,e,o,r)}if(l=(o&t.childLanes)!==0,je||l){if(r=ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jt(t,s),kt(r,t,s,-1))}return Jf(),r=ou(Error(x(421))),Ui(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=AS.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qe=cn(s.nextSibling),Ye=e,J=!0,gt=null,t!==null&&(rt[st++]=zt,rt[st++]=Kt,rt[st++]=Un,zt=t.id,Kt=t.overflow,Un=e),e=Kf(e,r.children),e.flags|=4096,e)}function zh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uc(t.return,e,n)}function lu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Xy(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($e(t,e,r.children,n),r=G.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zh(t,n,e);else if(t.tag===19)zh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(q(G,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ko(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ko(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lu(e,!0,n,null,i);break;case"together":lu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ho(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=pn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mS(t,e,n){switch(e.tag){case 3:Vy(e),Kr();break;case 5:Sy(e);break;case 1:Ue(e.type)&&Bo(e);break;case 4:Lf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;q(Fo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(q(G,G.current&1),e.flags|=128,null):n&e.child.childLanes?Hy(t,e,n):(q(G,G.current&1),t=Qt(t,e,n),t!==null?t.sibling:null);q(G,G.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Xy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(G,G.current),r)break;return null;case 22:case 23:return e.lanes=0,Wy(t,e,n)}return Qt(t,e,n)}var Jy,gc,Qy,Yy;Jy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gc=function(){};Qy=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,On(Tt.current);var i=null;switch(n){case"input":s=ju(t,s),r=ju(t,r),i=[];break;case"select":s=ne({},s,{value:void 0}),r=ne({},r,{value:void 0}),i=[];break;case"textarea":s=zu(t,s),r=zu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lo)}Wu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&V("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Yy=function(t,e,n,r){n!==r&&(e.flags|=4)};function ds(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yS(t,e,n){var r=e.pendingProps;switch(Pf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return Ue(e.type)&&Mo(),xe(e),null;case 3:return r=e.stateNode,qr(),H(Fe),H(Ne),Bf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ji(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gt!==null&&(Cc(gt),gt=null))),gc(t,e),xe(e),null;case 5:Mf(e);var s=On(ri.current);if(n=e.type,t!==null&&e.stateNode!=null)Qy(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return xe(e),null}if(t=On(Tt.current),ji(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[It]=e,r[ti]=i,t=(e.mode&1)!==0,n){case"dialog":V("cancel",r),V("close",r);break;case"iframe":case"object":case"embed":V("load",r);break;case"video":case"audio":for(s=0;s<ws.length;s++)V(ws[s],r);break;case"source":V("error",r);break;case"img":case"image":case"link":V("error",r),V("load",r);break;case"details":V("toggle",r);break;case"input":Yd(r,i),V("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},V("invalid",r);break;case"textarea":Zd(r,i),V("invalid",r)}Wu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Di(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Di(r.textContent,l,t),s=["children",""+l]):qs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&V("scroll",r)}switch(n){case"input":Ni(r),Gd(r,i,!0);break;case"textarea":Ni(r),eh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Lo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[It]=e,t[ti]=r,Jy(t,e,!1,!1),e.stateNode=t;e:{switch(o=qu(n,r),n){case"dialog":V("cancel",t),V("close",t),s=r;break;case"iframe":case"object":case"embed":V("load",t),s=r;break;case"video":case"audio":for(s=0;s<ws.length;s++)V(ws[s],t);s=r;break;case"source":V("error",t),s=r;break;case"img":case"image":case"link":V("error",t),V("load",t),s=r;break;case"details":V("toggle",t),s=r;break;case"input":Yd(t,r),s=ju(t,r),V("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ne({},r,{value:void 0}),V("invalid",t);break;case"textarea":Zd(t,r),s=zu(t,r),V("invalid",t);break;default:s=r}Wu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Pm(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&xm(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Vs(t,a):typeof a=="number"&&Vs(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&V("scroll",t):a!=null&&hf(t,i,a,o))}switch(n){case"input":Ni(t),Gd(t,r,!1);break;case"textarea":Ni(t),eh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Cr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Cr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Lo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)Yy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=On(ri.current),On(Tt.current),ji(e)){if(r=e.stateNode,n=e.memoizedProps,r[It]=e,(i=r.nodeValue!==n)&&(t=Ye,t!==null))switch(t.tag){case 3:Di(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Di(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=e,e.stateNode=r}return xe(e),null;case 13:if(H(G),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Qe!==null&&e.mode&1&&!(e.flags&128))my(),Kr(),e.flags|=98560,i=!1;else if(i=ji(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(x(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(x(317));i[It]=e}else Kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),i=!1}else gt!==null&&(Cc(gt),gt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?he===0&&(he=3):Jf())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return qr(),gc(t,e),t===null&&Zs(e.stateNode.containerInfo),xe(e),null;case 10:return If(e.type._context),xe(e),null;case 17:return Ue(e.type)&&Mo(),xe(e),null;case 19:if(H(G),i=e.memoizedState,i===null)return xe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ds(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ko(t),o!==null){for(e.flags|=128,ds(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return q(G,G.current&1|2),e.child}t=t.sibling}i.tail!==null&&ie()>Hr&&(e.flags|=128,r=!0,ds(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ko(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return xe(e),null}else 2*ie()-i.renderingStartTime>Hr&&n!==1073741824&&(e.flags|=128,r=!0,ds(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ie(),e.sibling=null,n=G.current,q(G,r?n&1|2:n&1),e):(xe(e),null);case 22:case 23:return Xf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xe&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function gS(t,e){switch(Pf(e),e.tag){case 1:return Ue(e.type)&&Mo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qr(),H(Fe),H(Ne),Bf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mf(e),null;case 13:if(H(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(G),null;case 4:return qr(),null;case 10:return If(e.type._context),null;case 22:case 23:return Xf(),null;case 24:return null;default:return null}}var zi=!1,Pe=!1,wS=typeof WeakSet=="function"?WeakSet:Set,P=null;function gr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(t,e,r)}else n.current=null}function wc(t,e,n){try{n()}catch(r){re(t,e,r)}}var Kh=!1;function vS(t,e){if(tc=Io,t=ny(),xf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,h=0,c=t,f=null;t:for(;;){for(var p;c!==n||s!==0&&c.nodeType!==3||(l=o+s),c!==i||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)f=c,c=p;for(;;){if(c===t)break t;if(f===n&&++u===s&&(l=o),f===i&&++h===r&&(a=o),(p=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(nc={focusedElem:t,selectionRange:n},Io=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,m=e.stateNode,d=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:pt(e.type,y),w);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(S){re(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return v=Kh,Kh=!1,v}function Ms(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&wc(e,n,i)}s=s.next}while(s!==r)}}function sa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Gy(t){var e=t.alternate;e!==null&&(t.alternate=null,Gy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[It],delete e[ti],delete e[ic],delete e[tS],delete e[nS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zy(t){return t.tag===5||t.tag===3||t.tag===4}function Wh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lo));else if(r!==4&&(t=t.child,t!==null))for(Sc(t,e,n),t=t.sibling;t!==null;)Sc(t,e,n),t=t.sibling}function kc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kc(t,e,n),t=t.sibling;t!==null;)kc(t,e,n),t=t.sibling}var we=null,yt=!1;function Gt(t,e,n){for(n=n.child;n!==null;)eg(t,e,n),n=n.sibling}function eg(t,e,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ql,n)}catch{}switch(n.tag){case 5:Pe||gr(n,e);case 6:var r=we,s=yt;we=null,Gt(t,e,n),we=r,yt=s,we!==null&&(yt?(t=we,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(yt?(t=we,n=n.stateNode,t.nodeType===8?eu(t.parentNode,n):t.nodeType===1&&eu(t,n),Qs(t)):eu(we,n.stateNode));break;case 4:r=we,s=yt,we=n.stateNode.containerInfo,yt=!0,Gt(t,e,n),we=r,yt=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wc(n,e,o),s=s.next}while(s!==r)}Gt(t,e,n);break;case 1:if(!Pe&&(gr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){re(n,e,l)}Gt(t,e,n);break;case 21:Gt(t,e,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,Gt(t,e,n),Pe=r):Gt(t,e,n);break;default:Gt(t,e,n)}}function qh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wS),e.forEach(function(r){var s=PS.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,yt=!1;break e;case 3:we=l.stateNode.containerInfo,yt=!0;break e;case 4:we=l.stateNode.containerInfo,yt=!0;break e}l=l.return}if(we===null)throw Error(x(160));eg(i,o,s),we=null,yt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){re(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tg(e,t),e=e.sibling}function tg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ft(e,t),At(t),r&4){try{Ms(3,t,t.return),sa(3,t)}catch(y){re(t,t.return,y)}try{Ms(5,t,t.return)}catch(y){re(t,t.return,y)}}break;case 1:ft(e,t),At(t),r&512&&n!==null&&gr(n,n.return);break;case 5:if(ft(e,t),At(t),r&512&&n!==null&&gr(n,n.return),t.flags&32){var s=t.stateNode;try{Vs(s,"")}catch(y){re(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&_m(s,i),qu(l,o);var u=qu(l,i);for(o=0;o<a.length;o+=2){var h=a[o],c=a[o+1];h==="style"?Pm(s,c):h==="dangerouslySetInnerHTML"?xm(s,c):h==="children"?Vs(s,c):hf(s,h,c,u)}switch(l){case"input":Fu(s,i);break;case"textarea":bm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Cr(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Cr(s,!!i.multiple,i.defaultValue,!0):Cr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ti]=i}catch(y){re(t,t.return,y)}}break;case 6:if(ft(e,t),At(t),r&4){if(t.stateNode===null)throw Error(x(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){re(t,t.return,y)}}break;case 3:if(ft(e,t),At(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qs(e.containerInfo)}catch(y){re(t,t.return,y)}break;case 4:ft(e,t),At(t);break;case 13:ft(e,t),At(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vf=ie())),r&4&&qh(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Pe=(u=Pe)||h,ft(e,t),Pe=u):ft(e,t),At(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(P=t,h=t.child;h!==null;){for(c=P=h;P!==null;){switch(f=P,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ms(4,f,f.return);break;case 1:gr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){re(r,n,y)}}break;case 5:gr(f,f.return);break;case 22:if(f.memoizedState!==null){Hh(c);continue}}p!==null?(p.return=f,P=p):Hh(c)}h=h.sibling}e:for(h=null,c=t;;){if(c.tag===5){if(h===null){h=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Am("display",o))}catch(y){re(t,t.return,y)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){re(t,t.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ft(e,t),At(t),r&4&&qh(t);break;case 21:break;default:ft(e,t),At(t)}}function At(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zy(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vs(s,""),r.flags&=-33);var i=Wh(t);kc(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Wh(t);Sc(t,l,o);break;default:throw Error(x(161))}}catch(a){re(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SS(t,e,n){P=t,ng(t)}function ng(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||zi;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Pe;l=zi;var u=Pe;if(zi=o,(Pe=a)&&!u)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?Xh(s):a!==null?(a.return=o,P=a):Xh(s);for(;i!==null;)P=i,ng(i),i=i.sibling;P=s,zi=l,Pe=u}Vh(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Vh(t)}}function Vh(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pe||sa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:pt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Nh(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nh(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&Qs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}Pe||e.flags&512&&vc(e)}catch(f){re(e,e.return,f)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function Hh(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function Xh(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sa(4,e)}catch(a){re(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){re(e,s,a)}}var i=e.return;try{vc(e)}catch(a){re(e,i,a)}break;case 5:var o=e.return;try{vc(e)}catch(a){re(e,o,a)}}}catch(a){re(e,e.return,a)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var kS=Math.ceil,Vo=Yt.ReactCurrentDispatcher,Wf=Yt.ReactCurrentOwner,ot=Yt.ReactCurrentBatchConfig,j=0,ge=null,ue=null,Ee=0,Xe=0,wr=En(0),he=0,li=null,Kn=0,ia=0,qf=0,Bs=null,Be=null,Vf=0,Hr=1/0,Ft=null,Ho=!1,Ec=null,dn=null,Ki=!1,on=null,Xo=0,Ds=0,_c=null,po=-1,mo=0;function Oe(){return j&6?ie():po!==-1?po:po=ie()}function hn(t){return t.mode&1?j&2&&Ee!==0?Ee&-Ee:sS.transition!==null?(mo===0&&(mo=Fm()),mo):(t=U,t!==0||(t=window.event,t=t===void 0?16:Hm(t.type)),t):1}function kt(t,e,n,r){if(50<Ds)throw Ds=0,_c=null,Error(x(185));mi(t,n,r),(!(j&2)||t!==ge)&&(t===ge&&(!(j&2)&&(ia|=n),he===4&&rn(t,Ee)),ze(t,r),n===1&&j===0&&!(e.mode&1)&&(Hr=ie()+500,ta&&_n()))}function ze(t,e){var n=t.callbackNode;sv(t,e);var r=$o(t,t===ge?Ee:0);if(r===0)n!==null&&rh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rh(n),e===1)t.tag===0?rS(Jh.bind(null,t)):dy(Jh.bind(null,t)),Zv(function(){!(j&6)&&_n()}),n=null;else{switch(Um(r)){case 1:n=wf;break;case 4:n=Dm;break;case 16:n=No;break;case 536870912:n=jm;break;default:n=No}n=cg(n,rg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rg(t,e){if(po=-1,mo=0,j&6)throw Error(x(327));var n=t.callbackNode;if(Nr()&&t.callbackNode!==n)return null;var r=$o(t,t===ge?Ee:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jo(t,r);else{e=r;var s=j;j|=2;var i=ig();(ge!==t||Ee!==e)&&(Ft=null,Hr=ie()+500,Dn(t,e));do try{bS();break}catch(l){sg(t,l)}while(!0);$f(),Vo.current=i,j=s,ue!==null?e=0:(ge=null,Ee=0,e=he)}if(e!==0){if(e===2&&(s=Qu(t),s!==0&&(r=s,e=bc(t,s))),e===1)throw n=li,Dn(t,0),rn(t,r),ze(t,ie()),n;if(e===6)rn(t,r);else{if(s=t.current.alternate,!(r&30)&&!ES(s)&&(e=Jo(t,r),e===2&&(i=Qu(t),i!==0&&(r=i,e=bc(t,i))),e===1))throw n=li,Dn(t,0),rn(t,r),ze(t,ie()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:Pn(t,Be,Ft);break;case 3:if(rn(t,r),(r&130023424)===r&&(e=Vf+500-ie(),10<e)){if($o(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Oe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sc(Pn.bind(null,t,Be,Ft),e);break}Pn(t,Be,Ft);break;case 4:if(rn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-St(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kS(r/1960))-r,10<r){t.timeoutHandle=sc(Pn.bind(null,t,Be,Ft),r);break}Pn(t,Be,Ft);break;case 5:Pn(t,Be,Ft);break;default:throw Error(x(329))}}}return ze(t,ie()),t.callbackNode===n?rg.bind(null,t):null}function bc(t,e){var n=Bs;return t.current.memoizedState.isDehydrated&&(Dn(t,e).flags|=256),t=Jo(t,e),t!==2&&(e=Be,Be=n,e!==null&&Cc(e)),t}function Cc(t){Be===null?Be=t:Be.push.apply(Be,t)}function ES(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rn(t,e){for(e&=~qf,e&=~ia,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-St(e),r=1<<n;t[n]=-1,e&=~r}}function Jh(t){if(j&6)throw Error(x(327));Nr();var e=$o(t,0);if(!(e&1))return ze(t,ie()),null;var n=Jo(t,e);if(t.tag!==0&&n===2){var r=Qu(t);r!==0&&(e=r,n=bc(t,r))}if(n===1)throw n=li,Dn(t,0),rn(t,e),ze(t,ie()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pn(t,Be,Ft),ze(t,ie()),null}function Hf(t,e){var n=j;j|=1;try{return t(e)}finally{j=n,j===0&&(Hr=ie()+500,ta&&_n())}}function Wn(t){on!==null&&on.tag===0&&!(j&6)&&Nr();var e=j;j|=1;var n=ot.transition,r=U;try{if(ot.transition=null,U=1,t)return t()}finally{U=r,ot.transition=n,j=e,!(j&6)&&_n()}}function Xf(){Xe=wr.current,H(wr)}function Dn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gv(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(Pf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mo();break;case 3:qr(),H(Fe),H(Ne),Bf();break;case 5:Mf(r);break;case 4:qr();break;case 13:H(G);break;case 19:H(G);break;case 10:If(r.type._context);break;case 22:case 23:Xf()}n=n.return}if(ge=t,ue=t=pn(t.current,null),Ee=Xe=e,he=0,li=null,qf=ia=Kn=0,Be=Bs=null,In!==null){for(e=0;e<In.length;e++)if(n=In[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}In=null}return t}function sg(t,e){do{var n=ue;try{if($f(),co.current=qo,Wo){for(var r=ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wo=!1}if(zn=0,ye=de=ee=null,Ls=!1,si=0,Wf.current=null,n===null||n.return===null){he=1,li=e,ue=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=Ee,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Mh(o);if(p!==null){p.flags&=-257,Bh(p,o,l,i,e),p.mode&1&&Lh(i,u,e),e=p,a=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(a),e.updateQueue=y}else v.add(a);break e}else{if(!(e&1)){Lh(i,u,e),Jf();break e}a=Error(x(426))}}else if(J&&l.mode&1){var w=Mh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Bh(w,o,l,i,e),Rf(Vr(a,l));break e}}i=a=Vr(a,l),he!==4&&(he=2),Bs===null?Bs=[i]:Bs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Uy(i,a,e);Rh(i,m);break e;case 1:l=a;var d=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dn===null||!dn.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=zy(i,l,e);Rh(i,S);break e}}i=i.return}while(i!==null)}lg(n)}catch(E){e=E,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function ig(){var t=Vo.current;return Vo.current=qo,t===null?qo:t}function Jf(){(he===0||he===3||he===2)&&(he=4),ge===null||!(Kn&268435455)&&!(ia&268435455)||rn(ge,Ee)}function Jo(t,e){var n=j;j|=2;var r=ig();(ge!==t||Ee!==e)&&(Ft=null,Dn(t,e));do try{_S();break}catch(s){sg(t,s)}while(!0);if($f(),j=n,Vo.current=r,ue!==null)throw Error(x(261));return ge=null,Ee=0,he}function _S(){for(;ue!==null;)og(ue)}function bS(){for(;ue!==null&&!J1();)og(ue)}function og(t){var e=ug(t.alternate,t,Xe);t.memoizedProps=t.pendingProps,e===null?lg(t):ue=e,Wf.current=null}function lg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gS(n,e),n!==null){n.flags&=32767,ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,ue=null;return}}else if(n=yS(n,e,Xe),n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);he===0&&(he=5)}function Pn(t,e,n){var r=U,s=ot.transition;try{ot.transition=null,U=1,CS(t,e,n,r)}finally{ot.transition=s,U=r}return null}function CS(t,e,n,r){do Nr();while(on!==null);if(j&6)throw Error(x(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(iv(t,i),t===ge&&(ue=ge=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ki||(Ki=!0,cg(No,function(){return Nr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ot.transition,ot.transition=null;var o=U;U=1;var l=j;j|=4,Wf.current=null,vS(t,n),tg(n,t),qv(nc),Io=!!tc,nc=tc=null,t.current=n,SS(n),Q1(),j=l,U=o,ot.transition=i}else t.current=n;if(Ki&&(Ki=!1,on=t,Xo=s),i=t.pendingLanes,i===0&&(dn=null),Z1(n.stateNode),ze(t,ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ho)throw Ho=!1,t=Ec,Ec=null,t;return Xo&1&&t.tag!==0&&Nr(),i=t.pendingLanes,i&1?t===_c?Ds++:(Ds=0,_c=t):Ds=0,_n(),null}function Nr(){if(on!==null){var t=Um(Xo),e=ot.transition,n=U;try{if(ot.transition=null,U=16>t?16:t,on===null)var r=!1;else{if(t=on,on=null,Xo=0,j&6)throw Error(x(331));var s=j;for(j|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(P=u;P!==null;){var h=P;switch(h.tag){case 0:case 11:case 15:Ms(8,h,i)}var c=h.child;if(c!==null)c.return=h,P=c;else for(;P!==null;){h=P;var f=h.sibling,p=h.return;if(Gy(h),h===u){P=null;break}if(f!==null){f.return=p,P=f;break}P=p}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ms(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,P=m;break e}P=i.return}}var d=t.current;for(P=d;P!==null;){o=P;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,P=g;else e:for(o=d;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sa(9,l)}}catch(E){re(l,l.return,E)}if(l===o){P=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,P=S;break e}P=l.return}}if(j=s,_n(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ql,t)}catch{}r=!0}return r}finally{U=n,ot.transition=e}}return!1}function Qh(t,e,n){e=Vr(n,e),e=Uy(t,e,1),t=fn(t,e,1),e=Oe(),t!==null&&(mi(t,1,e),ze(t,e))}function re(t,e,n){if(t.tag===3)Qh(t,t,n);else for(;e!==null;){if(e.tag===3){Qh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){t=Vr(n,t),t=zy(e,t,1),e=fn(e,t,1),t=Oe(),e!==null&&(mi(e,1,t),ze(e,t));break}}e=e.return}}function xS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&n,ge===t&&(Ee&n)===n&&(he===4||he===3&&(Ee&130023424)===Ee&&500>ie()-Vf?Dn(t,0):qf|=n),ze(t,e)}function ag(t,e){e===0&&(t.mode&1?(e=Oi,Oi<<=1,!(Oi&130023424)&&(Oi=4194304)):e=1);var n=Oe();t=Jt(t,e),t!==null&&(mi(t,e,n),ze(t,n))}function AS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ag(t,n)}function PS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),ag(t,n)}var ug;ug=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fe.current)je=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return je=!1,mS(t,e,n);je=!!(t.flags&131072)}else je=!1,J&&e.flags&1048576&&hy(e,jo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ho(t,e),t=e.pendingProps;var s=zr(e,Ne.current);Rr(e,n),s=jf(null,e,r,t,s,n);var i=Ff();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ue(r)?(i=!0,Bo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tf(e),s.updater=ra,e.stateNode=s,s._reactInternals=e,fc(e,r,t,n),e=pc(null,e,r,!0,i,n)):(e.tag=0,J&&i&&Af(e),$e(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ho(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=NS(r),t=pt(r,t),s){case 0:e=hc(null,e,r,t,n);break e;case 1:e=Fh(null,e,r,t,n);break e;case 11:e=Dh(null,e,r,t,n);break e;case 14:e=jh(null,e,r,pt(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pt(r,s),hc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pt(r,s),Fh(t,e,r,s,n);case 3:e:{if(Vy(e),t===null)throw Error(x(387));r=e.pendingProps,i=e.memoizedState,s=i.element,vy(t,e),zo(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vr(Error(x(423)),e),e=Uh(t,e,r,n,s);break e}else if(r!==s){s=Vr(Error(x(424)),e),e=Uh(t,e,r,n,s);break e}else for(Qe=cn(e.stateNode.containerInfo.firstChild),Ye=e,J=!0,gt=null,n=gy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kr(),r===s){e=Qt(t,e,n);break e}$e(t,e,r,n)}e=e.child}return e;case 5:return Sy(e),t===null&&ac(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,rc(r,s)?o=null:i!==null&&rc(r,i)&&(e.flags|=32),qy(t,e),$e(t,e,o,n),e.child;case 6:return t===null&&ac(e),null;case 13:return Hy(t,e,n);case 4:return Lf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wr(e,null,r,n):$e(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pt(r,s),Dh(t,e,r,s,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q(Fo,r._currentValue),r._currentValue=o,i!==null)if(_t(i.value,o)){if(i.children===s.children&&!Fe.current){e=Qt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=qt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),uc(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(x(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),uc(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$e(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Rr(e,n),s=at(s),r=r(s),e.flags|=1,$e(t,e,r,n),e.child;case 14:return r=e.type,s=pt(r,e.pendingProps),s=pt(r.type,s),jh(t,e,r,s,n);case 15:return Ky(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pt(r,s),ho(t,e),e.tag=1,Ue(r)?(t=!0,Bo(e)):t=!1,Rr(e,n),Fy(e,r,s),fc(e,r,s,n),pc(null,e,r,!0,t,n);case 19:return Xy(t,e,n);case 22:return Wy(t,e,n)}throw Error(x(156,e.tag))};function cg(t,e){return Bm(t,e)}function RS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,n,r){return new RS(t,e,n,r)}function Qf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NS(t){if(typeof t=="function")return Qf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mf)return 11;if(t===yf)return 14}return 2}function pn(t,e){var n=t.alternate;return n===null?(n=it(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yo(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Qf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ar:return jn(n.children,s,i,e);case pf:o=8,s|=8;break;case Lu:return t=it(12,n,e,s|2),t.elementType=Lu,t.lanes=i,t;case Mu:return t=it(13,n,e,s),t.elementType=Mu,t.lanes=i,t;case Bu:return t=it(19,n,e,s),t.elementType=Bu,t.lanes=i,t;case Sm:return oa(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wm:o=10;break e;case vm:o=9;break e;case mf:o=11;break e;case yf:o=14;break e;case en:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=it(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function jn(t,e,n,r){return t=it(7,t,r,e),t.lanes=n,t}function oa(t,e,n,r){return t=it(22,t,r,e),t.elementType=Sm,t.lanes=n,t.stateNode={isHidden:!1},t}function au(t,e,n){return t=it(6,t,null,e),t.lanes=n,t}function uu(t,e,n){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $S(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yf(t,e,n,r,s,i,o,l,a){return t=new $S(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=it(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tf(i),t}function IS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fg(t){if(!t)return wn;t=t._reactInternals;e:{if(Jn(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ue(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(Ue(n))return fy(t,n,e)}return e}function dg(t,e,n,r,s,i,o,l,a){return t=Yf(n,r,!0,t,s,i,o,l,a),t.context=fg(null),n=t.current,r=Oe(),s=hn(n),i=qt(r,s),i.callback=e??null,fn(n,i,s),t.current.lanes=s,mi(t,s,r),ze(t,r),t}function la(t,e,n,r){var s=e.current,i=Oe(),o=hn(s);return n=fg(n),e.context===null?e.context=n:e.pendingContext=n,e=qt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fn(s,e,o),t!==null&&(kt(t,s,o,i),uo(t,s,o)),o}function Qo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gf(t,e){Yh(t,e),(t=t.alternate)&&Yh(t,e)}function OS(){return null}var hg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zf(t){this._internalRoot=t}aa.prototype.render=Zf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));la(t,e,null,null)};aa.prototype.unmount=Zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wn(function(){la(null,t,null,null)}),e[Xt]=null}};function aa(t){this._internalRoot=t}aa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<nn.length&&e!==0&&e<nn[n].priority;n++);nn.splice(n,0,t),n===0&&Vm(t)}};function ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ua(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gh(){}function TS(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Qo(o);i.call(u)}}var o=dg(e,r,t,0,null,!1,!1,"",Gh);return t._reactRootContainer=o,t[Xt]=o.current,Zs(t.nodeType===8?t.parentNode:t),Wn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Qo(a);l.call(u)}}var a=Yf(t,0,!1,null,null,!1,!1,"",Gh);return t._reactRootContainer=a,t[Xt]=a.current,Zs(t.nodeType===8?t.parentNode:t),Wn(function(){la(e,a,n,r)}),a}function ca(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Qo(o);l.call(a)}}la(e,o,t,s)}else o=TS(n,e,t,s,r);return Qo(o)}zm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gs(e.pendingLanes);n!==0&&(vf(e,n|1),ze(e,ie()),!(j&6)&&(Hr=ie()+500,_n()))}break;case 13:Wn(function(){var r=Jt(t,1);if(r!==null){var s=Oe();kt(r,t,1,s)}}),Gf(t,1)}};Sf=function(t){if(t.tag===13){var e=Jt(t,134217728);if(e!==null){var n=Oe();kt(e,t,134217728,n)}Gf(t,134217728)}};Km=function(t){if(t.tag===13){var e=hn(t),n=Jt(t,e);if(n!==null){var r=Oe();kt(n,t,e,r)}Gf(t,e)}};Wm=function(){return U};qm=function(t,e){var n=U;try{return U=t,e()}finally{U=n}};Hu=function(t,e,n){switch(e){case"input":if(Fu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ea(r);if(!s)throw Error(x(90));Em(r),Fu(r,s)}}}break;case"textarea":bm(t,n);break;case"select":e=n.value,e!=null&&Cr(t,!!n.multiple,e,!1)}};$m=Hf;Im=Wn;var LS={usingClientEntryPoint:!1,Events:[gi,dr,ea,Rm,Nm,Hf]},hs={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MS={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lm(t),t===null?null:t.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||OS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{Ql=Wi.inject(MS),Ot=Wi}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LS;Ze.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ed(e))throw Error(x(200));return IS(t,e,null,n)};Ze.createRoot=function(t,e){if(!ed(t))throw Error(x(299));var n=!1,r="",s=hg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yf(t,1,!1,null,null,n,!1,r,s),t[Xt]=e.current,Zs(t.nodeType===8?t.parentNode:t),new Zf(e)};Ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=Lm(e),t=t===null?null:t.stateNode,t};Ze.flushSync=function(t){return Wn(t)};Ze.hydrate=function(t,e,n){if(!ua(e))throw Error(x(200));return ca(null,t,e,!0,n)};Ze.hydrateRoot=function(t,e,n){if(!ed(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=hg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dg(e,null,t,1,n??null,s,!1,i,o),t[Xt]=e.current,Zs(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new aa(e)};Ze.render=function(t,e,n){if(!ua(e))throw Error(x(200));return ca(null,t,e,!1,n)};Ze.unmountComponentAtNode=function(t){if(!ua(t))throw Error(x(40));return t._reactRootContainer?(Wn(function(){ca(null,null,t,!1,function(){t._reactRootContainer=null,t[Xt]=null})}),!0):!1};Ze.unstable_batchedUpdates=Hf;Ze.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ua(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return ca(t,e,n,!1,r)};Ze.version="18.3.1-next-f1338f8080-20240426";function pg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pg)}catch(t){console.error(t)}}pg(),pm.exports=Ze;var BS=pm.exports,mg,Zh=BS;mg=Zh.createRoot,Zh.hydrateRoot;const DS=Symbol(),td=Symbol(),vs="a",yg="f",ep="p",gg="c",wg="t",cu="n",fu="g",nd="h",js="w",rd="o",sd="k";let jS=(t,e)=>new Proxy(t,e);const xc=Object.getPrototypeOf,Ac=new WeakMap,vg=t=>t&&(Ac.has(t)?Ac.get(t):xc(t)===Object.prototype||xc(t)===Array.prototype),Yo=t=>typeof t=="object"&&t!==null,FS=t=>Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable),US=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(xc(t),e)},zS=(t,e)=>{const n={[yg]:e};let r=!1;const s=(l,a)=>{if(!r){let u=n[vs].get(t);if(u||(u={},n[vs].set(t,u)),l===js)u[js]=!0;else{let h=u[l];h||(h=new Set,u[l]=h),h.add(a)}}},i=()=>{r=!0,n[vs].delete(t)},o={get(l,a){return a===td?t:(s(sd,a),Sg(Reflect.get(l,a),n[vs],n[gg],n[wg]))},has(l,a){return a===DS?(i(),!0):(s(nd,a),Reflect.has(l,a))},getOwnPropertyDescriptor(l,a){return s(rd,a),Reflect.getOwnPropertyDescriptor(l,a)},ownKeys(l){return s(js),Reflect.ownKeys(l)}};return e&&(o.set=o.deleteProperty=()=>!1),[o,n]},id=t=>t[td]||t,Sg=(t,e,n,r)=>{if(!vg(t))return t;let s=r&&r.get(t);if(!s){const a=id(t);FS(a)?s=[a,US(a)]:s=[a],r==null||r.set(t,s)}const[i,o]=s;let l=n&&n.get(i);return(!l||l[1][yg]!==!!o)&&(l=zS(i,!!o),l[1][ep]=jS(o||i,l[0]),n&&n.set(i,l)),l[1][vs]=e,l[1][gg]=n,l[1][wg]=r,l[1][ep]},KS=(t,e)=>{const n=Reflect.ownKeys(t),r=Reflect.ownKeys(e);return n.length!==r.length||n.some((s,i)=>s!==r[i])},kg=(t,e,n,r,s=Object.is)=>{if(s(t,e))return!1;if(!Yo(t)||!Yo(e))return!0;const i=n.get(id(t));if(!i)return!0;if(r){const l=r.get(t);if(l&&l[cu]===e)return l[fu];r.set(t,{[cu]:e,[fu]:!1})}let o=null;try{for(const l of i[nd]||[])if(o=Reflect.has(t,l)!==Reflect.has(e,l),o)return o;if(i[js]===!0){if(o=KS(t,e),o)return o}else for(const l of i[rd]||[]){const a=!!Reflect.getOwnPropertyDescriptor(t,l),u=!!Reflect.getOwnPropertyDescriptor(e,l);if(o=a!==u,o)return o}for(const l of i[sd]||[])if(o=kg(t[l],e[l],n,r,s),o)return o;return o===null&&(o=!0),o}finally{r&&r.set(t,{[cu]:e,[fu]:o})}},WS=t=>vg(t)&&t[td]||null,tp=(t,e=!0)=>{Ac.set(t,e)},qS=(t,e,n)=>{const r=[],s=new WeakSet,i=(o,l)=>{var a,u,h;if(s.has(o))return;Yo(o)&&s.add(o);const c=Yo(o)&&e.get(id(o));if(c){if((a=c[nd])===null||a===void 0||a.forEach(f=>{const p=`:has(${String(f)})`;r.push(l?[...l,p]:[p])}),c[js]===!0){const f=":ownKeys";r.push(l?[...l,f]:[f])}else(u=c[rd])===null||u===void 0||u.forEach(f=>{const p=`:hasOwn(${String(f)})`;r.push(l?[...l,p]:[p])});(h=c[sd])===null||h===void 0||h.forEach(f=>{"value"in(Object.getOwnPropertyDescriptor(o,f)||{})&&i(o[f],l?[...l,f]:[f])})}else l&&r.push(l)};return i(t),r},Go={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},od=t=>typeof t=="object"&&t!==null,VS=t=>od(t)&&!ld.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),Eg=(t,e)=>{const n=np.get(t);if((n==null?void 0:n[0])===e)return n[1];const r=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return tp(r,!0),np.set(t,[e,r]),Reflect.ownKeys(t).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(t,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,s),l={value:i,enumerable:o,configurable:!0};if(ld.has(i))tp(i,!1);else if(qn.has(i)){const[a]=qn.get(i);l.value=Eg(a,e)}Object.defineProperty(r,s,l)}),Object.preventExtensions(r)},HS=(t,e,n,r)=>({deleteProperty(s,i){const o=Reflect.get(s,i);n(i);const l=Reflect.deleteProperty(s,i);return l&&r(["delete",[i],o]),l},set(s,i,o,l){const a=!t()&&Reflect.has(s,i),u=Reflect.get(s,i,l);if(a&&(rp(u,o)||Zo.has(o)&&rp(u,Zo.get(o))))return!0;n(i),od(o)&&(o=WS(o)||o);const h=!qn.has(o)&&JS(o)?fa(o):o;return e(i,h),Reflect.set(s,i,h,l),r(["set",[i],o,u]),!0}}),qn=new WeakMap,ld=new WeakSet,np=new WeakMap,qi=[1,1],Zo=new WeakMap;let rp=Object.is,XS=(t,e)=>new Proxy(t,e),JS=VS,QS=Eg,YS=HS;function fa(t={}){if(!od(t))throw new Error("object required");const e=Zo.get(t);if(e)return e;let n=qi[0];const r=new Set,s=(w,m=++qi[0])=>{n!==m&&(n=m,r.forEach(d=>d(w,m)))};let i=qi[1];const o=(w=++qi[1])=>(i!==w&&!r.size&&(i=w,a.forEach(([m])=>{const d=m[1](w);d>n&&(n=d)})),n),l=w=>(m,d)=>{const g=[...m];g[1]=[w,...g[1]],s(g,d)},a=new Map,u=(w,m)=>{const d=!ld.has(m)&&qn.get(m);if(d){if((Go?"production":void 0)!=="production"&&a.has(w))throw new Error("prop listener already exists");if(r.size){const g=d[2](l(w));a.set(w,[d,g])}else a.set(w,[d])}},h=w=>{var m;const d=a.get(w);d&&(a.delete(w),(m=d[1])==null||m.call(d))},c=w=>(r.add(w),r.size===1&&a.forEach(([d,g],S)=>{if((Go?"production":void 0)!=="production"&&g)throw new Error("remove already exists");const E=d[2](l(S));a.set(S,[d,E])}),()=>{r.delete(w),r.size===0&&a.forEach(([d,g],S)=>{g&&(g(),a.set(S,[d]))})});let f=!0;const p=YS(()=>f,u,h,s),v=XS(t,p);Zo.set(t,v);const y=[t,o,c];return qn.set(v,y),Reflect.ownKeys(t).forEach(w=>{const m=Object.getOwnPropertyDescriptor(t,w);"value"in m&&m.writable&&(v[w]=t[w])}),f=!1,v}function _g(t,e,n){const r=qn.get(t);(Go?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[2];let l=!1;const u=o(h=>{i.push(h),s||(s=Promise.resolve().then(()=>{s=void 0,l&&e(i.splice(0))}))});return l=!0,()=>{l=!1,u()}}function sp(t){const e=qn.get(t);(Go?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,r]=e;return QS(n,r())}const GS={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ZS=(t,e)=>{const n=T.useRef();T.useEffect(()=>{n.current=qS(t,e)}),T.useDebugValue(n.current)},ek=ZS,tk=new WeakMap;function bt(t,e){const r=T.useMemo(()=>t&&new WeakMap,[t]),s=T.useRef();let i=!0;const o=T.useSyncExternalStore(T.useCallback(a=>{const u=_g(t,a);return a(),u},[t,void 0]),()=>{const a=sp(t);try{if(!i&&s.current&&!kg(s.current,a,r,new WeakMap))return s.current}catch{}return a},()=>sp(t));i=!1,T.useLayoutEffect(()=>{s.current=o}),(GS?"production":void 0)!=="production"&&ek(o,r);const l=T.useMemo(()=>new WeakMap,[]);return Sg(o,r,l,tk)}const Ss=({label:t,value:e})=>C.jsxs("div",{className:"flex justify-between items-center py-1",children:[C.jsx("span",{className:"text-gray-600 text-xs",children:t}),C.jsx("span",{className:"font-mono text-xs",children:e})]}),nk=({behavior:t})=>C.jsxs("div",{className:"mt-2 border-t border-gray-200 pt-2",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("span",{className:"font-semibold text-xs",children:t.type}),t.name&&C.jsx("span",{className:"text-xs text-gray-500",children:t.name})]}),Object.entries(t).map(([e,n])=>e!=="type"&&e!=="name"&&e!=="uuid"?C.jsx(Ss,{label:e,value:JSON.stringify(n)},e):null)]});function rk({entity:t}){return console.log(" Rendering EntityInspector",{entity:t}),C.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 shadow-md mb-2 max-w-xs",children:[t.name&&C.jsx("h2",{className:"text-lg font-bold mb-2 truncate",title:t.name,children:t.name}),C.jsxs("div",{className:"mb-2",children:[C.jsx(Ss,{label:"x",value:t.x.toFixed(2)}),C.jsx(Ss,{label:"y",value:t.y.toFixed(2)}),C.jsx(Ss,{label:"rotation",value:t.rotation.toFixed(2)}),C.jsx(Ss,{label:"scale",value:t.scale.toFixed(2)})]}),C.jsx("div",{className:"mt-3",children:t.behaviors.map((e,n)=>C.jsx(nk,{behavior:e},e.uuid||n))})]})}const ad=Symbol.for("yaml.alias"),Pc=Symbol.for("yaml.document"),mn=Symbol.for("yaml.map"),bg=Symbol.for("yaml.pair"),Bt=Symbol.for("yaml.scalar"),es=Symbol.for("yaml.seq"),ct=Symbol.for("yaml.node.type"),Qn=t=>!!t&&typeof t=="object"&&t[ct]===ad,Yn=t=>!!t&&typeof t=="object"&&t[ct]===Pc,ts=t=>!!t&&typeof t=="object"&&t[ct]===mn,Q=t=>!!t&&typeof t=="object"&&t[ct]===bg,W=t=>!!t&&typeof t=="object"&&t[ct]===Bt,ns=t=>!!t&&typeof t=="object"&&t[ct]===es;function Z(t){if(t&&typeof t=="object")switch(t[ct]){case mn:case es:return!0}return!1}function te(t){if(t&&typeof t=="object")switch(t[ct]){case ad:case mn:case Bt:case es:return!0}return!1}const sk=t=>(W(t)||Z(t))&&!!t.anchor,De=Symbol("break visit"),Cg=Symbol("skip children"),Lt=Symbol("remove node");function vn(t,e){const n=xg(e);Yn(t)?vr(null,t.contents,n,Object.freeze([t]))===Lt&&(t.contents=null):vr(null,t,n,Object.freeze([]))}vn.BREAK=De;vn.SKIP=Cg;vn.REMOVE=Lt;function vr(t,e,n,r){const s=Ag(t,e,n,r);if(te(s)||Q(s))return Pg(t,r,s),vr(t,s,n,r);if(typeof s!="symbol"){if(Z(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const o=vr(i,e.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===De)return De;o===Lt&&(e.items.splice(i,1),i-=1)}}}else if(Q(e)){r=Object.freeze(r.concat(e));const i=vr("key",e.key,n,r);if(i===De)return De;i===Lt&&(e.key=null);const o=vr("value",e.value,n,r);if(o===De)return De;o===Lt&&(e.value=null)}}return s}async function da(t,e){const n=xg(e);Yn(t)?await Sr(null,t.contents,n,Object.freeze([t]))===Lt&&(t.contents=null):await Sr(null,t,n,Object.freeze([]))}da.BREAK=De;da.SKIP=Cg;da.REMOVE=Lt;async function Sr(t,e,n,r){const s=await Ag(t,e,n,r);if(te(s)||Q(s))return Pg(t,r,s),Sr(t,s,n,r);if(typeof s!="symbol"){if(Z(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const o=await Sr(i,e.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===De)return De;o===Lt&&(e.items.splice(i,1),i-=1)}}}else if(Q(e)){r=Object.freeze(r.concat(e));const i=await Sr("key",e.key,n,r);if(i===De)return De;i===Lt&&(e.key=null);const o=await Sr("value",e.value,n,r);if(o===De)return De;o===Lt&&(e.value=null)}}return s}function xg(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Ag(t,e,n,r){var s,i,o,l,a;if(typeof n=="function")return n(t,e,r);if(ts(e))return(s=n.Map)==null?void 0:s.call(n,t,e,r);if(ns(e))return(i=n.Seq)==null?void 0:i.call(n,t,e,r);if(Q(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,r);if(W(e))return(l=n.Scalar)==null?void 0:l.call(n,t,e,r);if(Qn(e))return(a=n.Alias)==null?void 0:a.call(n,t,e,r)}function Pg(t,e,n){const r=e[e.length-1];if(Z(r))r.items[t]=n;else if(Q(r))t==="key"?r.key=n:r.value=n;else if(Yn(r))r.contents=n;else{const s=Qn(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const ik={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},ok=t=>t.replace(/[!,[\]{}]/g,e=>ik[e]);class Ie{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Ie.defaultYaml,e),this.tags=Object.assign({},Ie.defaultTags,n)}clone(){const e=new Ie(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Ie(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Ie.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Ie.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:Ie.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Ie.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=e.match(/^(.*!)([^!]*)$/s);s||n(`The ${e} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+ok(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(e&&r.length>0&&te(e.contents)){const i={};vn(e.contents,(o,l)=>{te(l)&&l.tag&&(i[l.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||s.some(l=>l.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}Ie.defaultYaml={explicit:!1,version:"1.2"};Ie.defaultTags={"!!":"tag:yaml.org,2002:"};function Rg(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function Ng(t){const e=new Set;return vn(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function $g(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function lk(t,e){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s||(s=Ng(t));const o=$g(e,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(W(o.node)||Z(o.node)))o.node.anchor=o.anchor;else{const l=new Error("Failed to resolve repeated object (this should not happen)");throw l.source=i,l}}},sourceObjects:r}}function kr(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],l=kr(t,r,String(s),o);l===void 0?delete r[s]:l!==o&&(r[s]=l)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=kr(t,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=kr(t,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=kr(t,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return t.call(e,n,r)}function lt(t,e,n){if(Array.isArray(t))return t.map((r,s)=>lt(r,String(s),n));if(t&&typeof t.toJSON=="function"){if(!n||!sk(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=t.toJSON(e,n);return n.onCreate&&n.onCreate(s),s}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class ud{constructor(e){Object.defineProperty(this,ct,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Yn(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=lt(this,"",o);if(typeof s=="function")for(const{count:a,res:u}of o.anchors.values())s(u,a);return typeof i=="function"?kr(i,{"":l},"",l):l}}class ha extends ud{constructor(e){super(ad),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return vn(e,{Node:(r,s)=>{if(s===this)return vn.BREAK;s.anchor===this.source&&(n=s)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s);if(!o){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(a)}let l=r.get(o);if(l||(lt(o,null,n),l=r.get(o)),!l||l.res===void 0){const a="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(a)}if(i>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=go(s,o,r)),l.count*l.aliasCount>i)){const a="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(a)}return l.res}toString(e,n,r){const s=`*${this.source}`;if(e){if(Rg(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${s} `}return s}}function go(t,e,n){if(Qn(e)){const r=e.resolve(t),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(Z(e)){let r=0;for(const s of e.items){const i=go(t,s,n);i>r&&(r=i)}return r}else if(Q(e)){const r=go(t,e.key,n),s=go(t,e.value,n);return Math.max(r,s)}return 1}const Ig=t=>!t||typeof t!="function"&&typeof t!="object";class O extends ud{constructor(e){super(Bt),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:lt(this.value,e,n)}toString(){return String(this.value)}}O.BLOCK_FOLDED="BLOCK_FOLDED";O.BLOCK_LITERAL="BLOCK_LITERAL";O.PLAIN="PLAIN";O.QUOTE_DOUBLE="QUOTE_DOUBLE";O.QUOTE_SINGLE="QUOTE_SINGLE";const ak="tag:yaml.org,2002:";function uk(t,e,n){if(e){const r=n.filter(i=>i.tag===e),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return n.find(r=>{var s;return((s=r.identify)==null?void 0:s.call(r,t))&&!r.format})}function ai(t,e,n){var c,f,p;if(Yn(t)&&(t=t.contents),te(t))return t;if(Q(t)){const v=(f=(c=n.schema[mn]).createNode)==null?void 0:f.call(c,n.schema,null,n);return v.items.push(t),v}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:l}=n;let a;if(r&&t&&typeof t=="object"){if(a=l.get(t),a)return a.anchor||(a.anchor=s(t)),new ha(a.anchor);a={anchor:null,node:null},l.set(t,a)}e!=null&&e.startsWith("!!")&&(e=ak+e.slice(2));let u=uk(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const v=new O(t);return a&&(a.node=v),v}u=t instanceof Map?o[mn]:Symbol.iterator in Object(t)?o[es]:o[mn]}i&&(i(u),delete n.onTagObj);const h=u!=null&&u.createNode?u.createNode(n.schema,t,n):typeof((p=u==null?void 0:u.nodeClass)==null?void 0:p.from)=="function"?u.nodeClass.from(n.schema,t,n):new O(t);return e?h.tag=e:u.default||(h.tag=u.tag),a&&(a.node=h),h}function el(t,e,n){let r=n;for(let s=e.length-1;s>=0;--s){const i=e[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return ai(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const ks=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Og extends ud{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>te(r)||Q(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(ks(e))this.add(n);else{const[r,...s]=e,i=this.get(r,!0);if(Z(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,el(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(Z(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...s]=e,i=this.get(r,!0);return s.length===0?!n&&W(i)?i.value:i:Z(i)?i.getIn(s,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Q(n))return!1;const r=n.value;return r==null||e&&W(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const s=this.get(n,!0);return Z(s)?s.hasIn(r):!1}setIn(e,n){const[r,...s]=e;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(Z(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,el(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const ck=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Wt(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Tn=(t,e,n)=>t.endsWith(`
`)?Wt(n,e):n.includes(`
`)?`
`+Wt(n,e):(t.endsWith(" ")?"":" ")+n,Tg="flow",Rc="block",wo="quoted";function pa(t,e,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:l}={}){if(!s||s<0)return t;s<i&&(i=0);const a=Math.max(1+i,1+s-e.length);if(t.length<=a)return t;const u=[],h={};let c=s-e.length;typeof r=="number"&&(r>s-Math.max(2,i)?u.push(0):c=s-r);let f,p,v=!1,y=-1,w=-1,m=-1;n===Rc&&(y=ip(t,y,e.length),y!==-1&&(c=y+a));for(let g;g=t[y+=1];){if(n===wo&&g==="\\"){switch(w=y,t[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}m=y}if(g===`
`)n===Rc&&(y=ip(t,y,e.length)),c=y+e.length+a,f=void 0;else{if(g===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){const S=t[y+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(f=y)}if(y>=c)if(f)u.push(f),c=f+a,f=void 0;else if(n===wo){for(;p===" "||p==="	";)p=g,g=t[y+=1],v=!0;const S=y>m+1?y-2:w-1;if(h[S])return t;u.push(S),h[S]=!0,c=S+a,f=void 0}else v=!0}p=g}if(v&&l&&l(),u.length===0)return t;o&&o();let d=t.slice(0,u[0]);for(let g=0;g<u.length;++g){const S=u[g],E=u[g+1]||t.length;S===0?d=`
${e}${t.slice(0,E)}`:(n===wo&&h[S]&&(d+=`${t[S]}\\`),d+=`
${e}${t.slice(S+1,E)}`)}return d}function ip(t,e,n){let r=e,s=e+1,i=t[s];for(;i===" "||i==="	";)if(e<s+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);r=e,s=e+1,i=t[s]}return r}const ma=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ya=t=>/^(%|---|\.\.\.)/m.test(t);function fk(t,e,n){if(!e||e<0)return!1;const r=e-n,s=t.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(t[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function Fs(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,s=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(ya(t)?"  ":"");let o="",l=0;for(let a=0,u=n[a];u;u=n[++a])if(u===" "&&n[a+1]==="\\"&&n[a+2]==="n"&&(o+=n.slice(l,a)+"\\ ",a+=1,l=a,u="\\"),u==="\\")switch(n[a+1]){case"u":{o+=n.slice(l,a);const h=n.substr(a+2,4);switch(h){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:h.substr(0,2)==="00"?o+="\\x"+h.substr(2):o+=n.substr(a,6)}a+=5,l=a+1}break;case"n":if(r||n[a+2]==='"'||n.length<s)a+=1;else{for(o+=n.slice(l,a)+`

`;n[a+2]==="\\"&&n[a+3]==="n"&&n[a+4]!=='"';)o+=`
`,a+=2;o+=i,n[a+2]===" "&&(o+="\\"),a+=1,l=a+1}break;default:a+=1}return o=l?o+n.slice(l):n,r?o:pa(o,i,wo,ma(e,!1))}function Nc(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Fs(t,e);const n=e.indent||(ya(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:pa(r,n,Tg,ma(e,!1))}function Er(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=Fs;else{const s=t.includes('"'),i=t.includes("'");s&&!i?r=Nc:i&&!s?r=Fs:r=n?Nc:Fs}return r(t,e)}let $c;try{$c=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{$c=/\n+(?!\n|$)/g}function vo({comment:t,type:e,value:n},r,s,i){const{blockQuote:o,commentString:l,lineWidth:a}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Er(n,r);const u=r.indent||(r.forceBlockIndent||ya(n)?"  ":""),h=o==="literal"?!0:o==="folded"||e===O.BLOCK_FOLDED?!1:e===O.BLOCK_LITERAL?!0:!fk(n,a,u.length);if(!n)return h?`|
`:`>
`;let c,f;for(f=n.length;f>0;--f){const k=n[f-1];if(k!==`
`&&k!=="	"&&k!==" ")break}let p=n.substring(f);const v=p.indexOf(`
`);v===-1?c="-":n===p||v!==p.length-1?(c="+",i&&i()):c="",p&&(n=n.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace($c,`$&${u}`));let y=!1,w,m=-1;for(w=0;w<n.length;++w){const k=n[w];if(k===" ")y=!0;else if(k===`
`)m=w;else break}let d=n.substring(0,m<w?m+1:w);d&&(n=n.substring(d.length),d=d.replace(/\n+/g,`$&${u}`));let S=(h?"|":">")+(y?u?"2":"1":"")+c;if(t&&(S+=" "+l(t.replace(/ ?[\r\n]+/g," ")),s&&s()),h)return n=n.replace(/\n+/g,`$&${u}`),`${S}
${u}${d}${n}${p}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);const E=pa(`${d}${n}${p}`,u,Rc,ma(r,!0));return`${S}
${u}${E}`}function dk(t,e,n,r){const{type:s,value:i}=t,{actualString:o,implicitKey:l,indent:a,indentStep:u,inFlow:h}=e;if(l&&i.includes(`
`)||h&&/[[\]{},]/.test(i))return Er(i,e);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return l||h||!i.includes(`
`)?Er(i,e):vo(t,e,n,r);if(!l&&!h&&s!==O.PLAIN&&i.includes(`
`))return vo(t,e,n,r);if(ya(i)){if(a==="")return e.forceBlockIndent=!0,vo(t,e,n,r);if(l&&a===u)return Er(i,e)}const c=i.replace(/\n+/g,`$&
${a}`);if(o){const f=y=>{var w;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((w=y.test)==null?void 0:w.test(c))},{compat:p,tags:v}=e.doc.schema;if(v.some(f)||p!=null&&p.some(f))return Er(i,e)}return l?c:pa(c,a,Tg,ma(e,!1))}function vi(t,e,n,r){const{implicitKey:s,inFlow:i}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:l}=t;l!==O.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(l=O.QUOTE_DOUBLE);const a=h=>{switch(h){case O.BLOCK_FOLDED:case O.BLOCK_LITERAL:return s||i?Er(o.value,e):vo(o,e,n,r);case O.QUOTE_DOUBLE:return Fs(o.value,e);case O.QUOTE_SINGLE:return Nc(o.value,e);case O.PLAIN:return dk(o,e,n,r);default:return null}};let u=a(l);if(u===null){const{defaultKeyType:h,defaultStringType:c}=e.options,f=s&&h||c;if(u=a(f),u===null)throw new Error(`Unsupported default string type ${f}`)}return u}function Lg(t,e){const n=Object.assign({blockQuote:!0,commentString:ck,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function hk(t,e){var s;if(e.tag){const i=t.filter(o=>o.tag===e.tag);if(i.length>0)return i.find(o=>o.format===e.format)??i[0]}let n,r;if(W(e)){r=e.value;let i=t.filter(o=>{var l;return(l=o.identify)==null?void 0:l.call(o,r)});if(i.length>1){const o=i.filter(l=>l.test);o.length>0&&(i=o)}n=i.find(o=>o.format===e.format)??i.find(o=>!o.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=((s=r==null?void 0:r.constructor)==null?void 0:s.name)??typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function pk(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(W(t)||Z(t))&&t.anchor;i&&Rg(i)&&(n.add(i),s.push(`&${i}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&s.push(r.directives.tagString(o)),s.join(" ")}function Xr(t,e,n,r){var a;if(Q(t))return t.toString(e,n,r);if(Qn(t)){if(e.doc.directives)return t.toString(e);if((a=e.resolvedAliases)!=null&&a.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let s;const i=te(t)?t:e.doc.createNode(t,{onTagObj:u=>s=u});s||(s=hk(e.doc.schema.tags,i));const o=pk(i,s,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const l=typeof s.stringify=="function"?s.stringify(i,e,n,r):W(i)?vi(i,e,n,r):i.toString(e,n,r);return o?W(i)||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${e.indent}${l}`:l}function mk({key:t,value:e},n,r,s){const{allNullValues:i,doc:o,indent:l,indentStep:a,options:{commentString:u,indentSeq:h,simpleKeys:c}}=n;let f=te(t)&&t.comment||null;if(c){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Z(t)||!te(t)&&typeof t=="object"){const b="With simple keys, collection cannot be used as a key value";throw new Error(b)}}let p=!c&&(!t||f&&e==null&&!n.inFlow||Z(t)||(W(t)?t.type===O.BLOCK_FOLDED||t.type===O.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(c||!i),indent:l+a});let v=!1,y=!1,w=Xr(t,n,()=>v=!0,()=>y=!0);if(!p&&!n.inFlow&&w.length>1024){if(c)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||e==null)return v&&r&&r(),w===""?"?":p?`? ${w}`:w}else if(i&&!c||e==null&&p)return w=`? ${w}`,f&&!v?w+=Tn(w,n.indent,u(f)):y&&s&&s(),w;v&&(f=null),p?(f&&(w+=Tn(w,n.indent,u(f))),w=`? ${w}
${l}:`):(w=`${w}:`,f&&(w+=Tn(w,n.indent,u(f))));let m,d,g;te(e)?(m=!!e.spaceBefore,d=e.commentBefore,g=e.comment):(m=!1,d=null,g=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!p&&!f&&W(e)&&(n.indentAtStart=w.length+1),y=!1,!h&&a.length>=2&&!n.inFlow&&!p&&ns(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let S=!1;const E=Xr(e,n,()=>S=!0,()=>y=!0);let k=" ";if(f||m||d){if(k=m?`
`:"",d){const b=u(d);k+=`
${Wt(b,n.indent)}`}E===""&&!n.inFlow?k===`
`&&(k=`

`):k+=`
${n.indent}`}else if(!p&&Z(e)){const b=E[0],_=E.indexOf(`
`),N=_!==-1,A=n.inFlow??e.flow??e.items.length===0;if(N||!A){let I=!1;if(N&&(b==="&"||b==="!")){let F=E.indexOf(" ");b==="&"&&F!==-1&&F<_&&E[F+1]==="!"&&(F=E.indexOf(" ",F+1)),(F===-1||_<F)&&(I=!0)}I||(k=`
${n.indent}`)}}else(E===""||E[0]===`
`)&&(k="");return w+=k+E,n.inFlow?S&&r&&r():g&&!S?w+=Tn(w,n.indent,u(g)):y&&s&&s(),w}function Mg(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const Vi="<<",Vt={identify:t=>t===Vi||typeof t=="symbol"&&t.description===Vi,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new O(Symbol(Vi)),{addToJSMap:Bg}),stringify:()=>Vi},yk=(t,e)=>(Vt.identify(e)||W(e)&&(!e.type||e.type===O.PLAIN)&&Vt.identify(e.value))&&(t==null?void 0:t.doc.schema.tags.some(n=>n.tag===Vt.tag&&n.default));function Bg(t,e,n){if(n=t&&Qn(n)?n.resolve(t.doc):n,ns(n))for(const r of n.items)du(t,e,r);else if(Array.isArray(n))for(const r of n)du(t,e,r);else du(t,e,n)}function du(t,e,n){const r=t&&Qn(n)?n.resolve(t.doc):n;if(!ts(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,t,Map);for(const[i,o]of s)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Dg(t,e,{key:n,value:r}){if(te(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(yk(t,n))Bg(t,e,r);else{const s=lt(n,"",t);if(e instanceof Map)e.set(s,lt(r,s,t));else if(e instanceof Set)e.add(s);else{const i=gk(n,s,t),o=lt(r,i,t);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}function gk(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(te(t)&&(n!=null&&n.doc)){const r=Lg(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=t.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),Mg(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(e)}function cd(t,e,n){const r=ai(t,void 0,n),s=ai(e,void 0,n);return new Re(r,s)}class Re{constructor(e,n=null){Object.defineProperty(this,ct,{value:bg}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return te(n)&&(n=n.clone(e)),te(r)&&(r=r.clone(e)),new Re(n,r)}toJSON(e,n){const r=n!=null&&n.mapAsMap?new Map:{};return Dg(n,r,this)}toString(e,n,r){return e!=null&&e.doc?mk(this,e,n,r):JSON.stringify(this)}}function jg(t,e,n){return(e.inFlow??t.flow?vk:wk)(t,e,n)}function wk({comment:t,items:e},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:l}){const{indent:a,options:{commentString:u}}=n,h=Object.assign({},n,{indent:i,type:null});let c=!1;const f=[];for(let v=0;v<e.length;++v){const y=e[v];let w=null;if(te(y))!c&&y.spaceBefore&&f.push(""),tl(n,f,y.commentBefore,c),y.comment&&(w=y.comment);else if(Q(y)){const d=te(y.key)?y.key:null;d&&(!c&&d.spaceBefore&&f.push(""),tl(n,f,d.commentBefore,c))}c=!1;let m=Xr(y,h,()=>w=null,()=>c=!0);w&&(m+=Tn(m,i,u(w))),c&&w&&(c=!1),f.push(r+m)}let p;if(f.length===0)p=s.start+s.end;else{p=f[0];for(let v=1;v<f.length;++v){const y=f[v];p+=y?`
${a}${y}`:`
`}}return t?(p+=`
`+Wt(u(t),a),l&&l()):c&&o&&o(),p}function vk({items:t},e,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:l}}=e;r+=i;const a=Object.assign({},e,{indent:r,inFlow:!0,type:null});let u=!1,h=0;const c=[];for(let v=0;v<t.length;++v){const y=t[v];let w=null;if(te(y))y.spaceBefore&&c.push(""),tl(e,c,y.commentBefore,!1),y.comment&&(w=y.comment);else if(Q(y)){const d=te(y.key)?y.key:null;d&&(d.spaceBefore&&c.push(""),tl(e,c,d.commentBefore,!1),d.comment&&(u=!0));const g=te(y.value)?y.value:null;g?(g.comment&&(w=g.comment),g.commentBefore&&(u=!0)):y.value==null&&(d!=null&&d.comment)&&(w=d.comment)}w&&(u=!0);let m=Xr(y,a,()=>w=null);v<t.length-1&&(m+=","),w&&(m+=Tn(m,r,l(w))),!u&&(c.length>h||m.includes(`
`))&&(u=!0),c.push(m),h=c.length}const{start:f,end:p}=n;if(c.length===0)return f+p;if(!u){const v=c.reduce((y,w)=>y+w.length+2,2);u=e.options.lineWidth>0&&v>e.options.lineWidth}if(u){let v=f;for(const y of c)v+=y?`
${i}${s}${y}`:`
`;return`${v}
${s}${p}`}else return`${f}${o}${c.join(" ")}${o}${p}`}function tl({indent:t,options:{commentString:e}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=Wt(e(r),t);n.push(i.trimStart())}}function Ln(t,e){const n=W(e)?e.value:e;for(const r of t)if(Q(r)&&(r.key===e||r.key===n||W(r.key)&&r.key.value===n))return r}class Je extends Og{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(mn,e),this.items=[]}static from(e,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(e),l=(a,u)=>{if(typeof i=="function")u=i.call(n,a,u);else if(Array.isArray(i)&&!i.includes(a))return;(u!==void 0||s)&&o.items.push(cd(a,u,r))};if(n instanceof Map)for(const[a,u]of n)l(a,u);else if(n&&typeof n=="object")for(const a of Object.keys(n))l(a,n[a]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){var o;let r;Q(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new Re(e,e==null?void 0:e.value):r=new Re(e.key,e.value);const s=Ln(this.items,r.key),i=(o=this.schema)==null?void 0:o.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);W(s.value)&&Ig(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const l=this.items.findIndex(a=>i(r,a)<0);l===-1?this.items.push(r):this.items.splice(l,0,r)}else this.items.push(r)}delete(e){const n=Ln(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=Ln(this.items,e),s=r==null?void 0:r.value;return(!n&&W(s)?s.value:s)??void 0}has(e){return!!Ln(this.items,e)}set(e,n){this.add(new Re(e,n),!0)}toJSON(e,n,r){const s=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items)Dg(n,s,i);return s}toString(e,n,r){if(!e)return JSON.stringify(this);for(const s of this.items)if(!Q(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),jg(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const rs={collection:"map",default:!0,nodeClass:Je,tag:"tag:yaml.org,2002:map",resolve(t,e){return ts(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>Je.from(t,e,n)};class Sn extends Og{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(es,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=Hi(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=Hi(e);if(typeof r!="number")return;const s=this.items[r];return!n&&W(s)?s.value:s}has(e){const n=Hi(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=Hi(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[r];W(s)&&Ig(n)?s.value=n:this.items[r]=n}toJSON(e,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(lt(i,String(s++),n));return r}toString(e,n,r){return e?jg(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let l of n){if(typeof s=="function"){const a=n instanceof Set?l:String(o++);l=s.call(n,a,l)}i.items.push(ai(l,void 0,r))}}return i}}function Hi(t){let e=W(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const ss={collection:"seq",default:!0,nodeClass:Sn,tag:"tag:yaml.org,2002:seq",resolve(t,e){return ns(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>Sn.from(t,e,n)},ga={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),vi(t,e,n,r)}},wa={identify:t=>t==null,createNode:()=>new O(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new O(null),stringify:({source:t},e)=>typeof t=="string"&&wa.test.test(t)?t:e.options.nullStr},fd={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new O(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&fd.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function Ct({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let l=e-(i.length-o-1);for(;l-- >0;)i+="0"}return i}const Fg={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ct},Ug={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ct(t)}},zg={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new O(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Ct},va=t=>typeof t=="bigint"||Number.isInteger(t),dd=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function Kg(t,e,n){const{value:r}=t;return va(r)&&r>=0?n+r.toString(e):Ct(t)}const Wg={identify:t=>va(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>dd(t,2,8,n),stringify:t=>Kg(t,8,"0o")},qg={identify:va,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>dd(t,0,10,n),stringify:Ct},Vg={identify:t=>va(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>dd(t,2,16,n),stringify:t=>Kg(t,16,"0x")},Sk=[rs,ss,ga,wa,fd,Wg,qg,Vg,Fg,Ug,zg];function op(t){return typeof t=="bigint"||Number.isInteger(t)}const Xi=({value:t})=>JSON.stringify(t),kk=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Xi},{identify:t=>t==null,createNode:()=>new O(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Xi},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Xi},{identify:op,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>op(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Xi}],Ek={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},_k=[rs,ss].concat(kk,Ek),hd={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,s,i){const o=n;let l;if(typeof Buffer=="function")l=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);l=btoa(a)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=O.BLOCK_LITERAL),e!==O.QUOTE_DOUBLE){const a=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(l.length/a),h=new Array(u);for(let c=0,f=0;c<u;++c,f+=a)h[c]=l.substr(f,a);l=h.join(e===O.BLOCK_LITERAL?`
`:" ")}return vi({comment:t,type:e,value:l},r,s,i)}};function Hg(t,e){if(ns(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!Q(r)){if(ts(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const s=r.items[0]||new Re(new O(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}t.items[n]=Q(r)?r:new Re(r)}}else e("Expected a sequence for this tag");return t}function Xg(t,e,n){const{replacer:r}=n,s=new Sn(t);s.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(i++),o));let l,a;if(Array.isArray(o))if(o.length===2)l=o[0],a=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)l=u[0],a=o[l];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else l=o;s.items.push(cd(l,a,n))}return s}const pd={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Hg,createNode:Xg};class $r extends Sn{constructor(){super(),this.add=Je.prototype.add.bind(this),this.delete=Je.prototype.delete.bind(this),this.get=Je.prototype.get.bind(this),this.has=Je.prototype.has.bind(this),this.set=Je.prototype.set.bind(this),this.tag=$r.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(Q(s)?(i=lt(s.key,"",n),o=lt(s.value,i,n)):i=lt(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(e,n,r){const s=Xg(e,n,r),i=new this;return i.items=s.items,i}}$r.tag="tag:yaml.org,2002:omap";const md={collection:"seq",identify:t=>t instanceof Map,nodeClass:$r,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=Hg(t,e),r=[];for(const{key:s}of n.items)W(s)&&(r.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new $r,n)},createNode:(t,e,n)=>$r.from(t,e,n)};function Jg({value:t,source:e},n){return e&&(t?Qg:Yg).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Qg={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new O(!0),stringify:Jg},Yg={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new O(!1),stringify:Jg},bk={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ct},Ck={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ct(t)}},xk={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new O(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:Ct},Si=t=>typeof t=="bigint"||Number.isInteger(t);function Sa(t,e,n,{intAsBigInt:r}){const s=t[0];if((s==="-"||s==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return s==="-"?BigInt(-1)*o:o}const i=parseInt(t,n);return s==="-"?-1*i:i}function yd(t,e,n){const{value:r}=t;if(Si(r)){const s=r.toString(e);return r<0?"-"+n+s.substr(1):n+s}return Ct(t)}const Ak={identify:Si,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Sa(t,2,2,n),stringify:t=>yd(t,2,"0b")},Pk={identify:Si,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Sa(t,1,8,n),stringify:t=>yd(t,8,"0")},Rk={identify:Si,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Sa(t,0,10,n),stringify:Ct},Nk={identify:Si,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Sa(t,2,16,n),stringify:t=>yd(t,16,"0x")};class Ir extends Je{constructor(e){super(e),this.tag=Ir.tag}add(e){let n;Q(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Re(e.key,null):n=new Re(e,null),Ln(this.items,n.key)||this.items.push(n)}get(e,n){const r=Ln(this.items,e);return!n&&Q(r)?W(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Ln(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Re(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(cd(o,null,r));return i}}Ir.tag="tag:yaml.org,2002:set";const gd={collection:"map",identify:t=>t instanceof Set,nodeClass:Ir,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>Ir.from(t,e,n),resolve(t,e){if(ts(t)){if(t.hasAllNullValues(!0))return Object.assign(new Ir,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function wd(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,s=o=>e?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,l)=>o*s(60)+s(l),s(0));return n==="-"?s(-1)*i:i}function Gg(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Ct(t);let r="";e<0&&(r="-",e*=n(-1));const s=n(60),i=[e%s];return e<60?i.unshift(0):(e=(e-i[0])/s,i.unshift(e%s),e>=60&&(e=(e-i[0])/s,i.unshift(e))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Zg={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>wd(t,n),stringify:Gg},ew={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>wd(t,!1),stringify:Gg},ka={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(ka.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,l]=e.map(Number),a=e[7]?Number((e[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,s,i||0,o||0,l||0,a);const h=e[8];if(h&&h!=="Z"){let c=wd(h,!1);Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},lp=[rs,ss,ga,wa,Qg,Yg,Ak,Pk,Rk,Nk,bk,Ck,xk,hd,Vt,md,pd,gd,Zg,ew,ka],ap=new Map([["core",Sk],["failsafe",[rs,ss,ga]],["json",_k],["yaml11",lp],["yaml-1.1",lp]]),up={binary:hd,bool:fd,float:zg,floatExp:Ug,floatNaN:Fg,floatTime:ew,int:qg,intHex:Vg,intOct:Wg,intTime:Zg,map:rs,merge:Vt,null:wa,omap:md,pairs:pd,seq:ss,set:gd,timestamp:ka},$k={"tag:yaml.org,2002:binary":hd,"tag:yaml.org,2002:merge":Vt,"tag:yaml.org,2002:omap":md,"tag:yaml.org,2002:pairs":pd,"tag:yaml.org,2002:set":gd,"tag:yaml.org,2002:timestamp":ka};function hu(t,e,n){const r=ap.get(e);if(r&&!t)return n&&!r.includes(Vt)?r.concat(Vt):r.slice();let s=r;if(!s)if(Array.isArray(t))s=[];else{const i=Array.from(ap.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(const i of t)s=s.concat(i);else typeof t=="function"&&(s=t(s.slice()));return n&&(s=s.concat(Vt)),s.reduce((i,o)=>{const l=typeof o=="string"?up[o]:o;if(!l){const a=JSON.stringify(o),u=Object.keys(up).map(h=>JSON.stringify(h)).join(", ");throw new Error(`Unknown custom tag ${a}; use one of ${u}`)}return i.includes(l)||i.push(l),i},[])}const Ik=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class Ea{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:l}){this.compat=Array.isArray(e)?hu(e,"compat"):e?hu(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?$k:{},this.tags=hu(n,this.name,r),this.toStringOptions=l??null,Object.defineProperty(this,mn,{value:rs}),Object.defineProperty(this,Bt,{value:ga}),Object.defineProperty(this,es,{value:ss}),this.sortMapEntries=typeof o=="function"?o:o===!0?Ik:null}clone(){const e=Object.create(Ea.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Ok(t,e){var a;const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const u=t.directives.toString(t);u?(n.push(u),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const s=Lg(t,e),{commentString:i}=s.options;if(t.commentBefore){n.length!==1&&n.unshift("");const u=i(t.commentBefore);n.unshift(Wt(u,""))}let o=!1,l=null;if(t.contents){if(te(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const c=i(t.contents.commentBefore);n.push(Wt(c,""))}s.forceBlockIndent=!!t.comment,l=t.contents.comment}const u=l?void 0:()=>o=!0;let h=Xr(t.contents,s,()=>l=null,u);l&&(h+=Tn(h,"",i(l))),(h[0]==="|"||h[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${h}`:n.push(h)}else n.push(Xr(t.contents,s));if((a=t.directives)!=null&&a.docEnd)if(t.comment){const u=i(t.comment);u.includes(`
`)?(n.push("..."),n.push(Wt(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=t.comment;u&&o&&(u=u.replace(/^\n+/,"")),u&&((!o||l)&&n[n.length-1]!==""&&n.push(""),n.push(Wt(i(u),"")))}return n.join(`
`)+`
`}class is{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,ct,{value:Pc});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Ie({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,s,r)}clone(){const e=Object.create(is.prototype,{[ct]:{value:Pc}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=te(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Zn(this.contents)&&this.contents.add(e)}addIn(e,n){Zn(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=Ng(this);e.anchor=!n||r.has(n)?$g(n||"a",r):n}return new ha(e.anchor)}createNode(e,n,r){let s;if(typeof n=="function")e=n.call({"":e},"",e),s=n;else if(Array.isArray(n)){const w=d=>typeof d=="number"||d instanceof String||d instanceof Number,m=n.filter(w).map(String);m.length>0&&(n=n.concat(m)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:l,keepUndefined:a,onTagObj:u,tag:h}=r??{},{onAnchor:c,setAnchors:f,sourceObjects:p}=lk(this,o||"a"),v={aliasDuplicateObjects:i??!0,keepUndefined:a??!1,onAnchor:c,onTagObj:u,replacer:s,schema:this.schema,sourceObjects:p},y=ai(e,h,v);return l&&Z(y)&&(y.flow=!0),f(),y}createPair(e,n,r={}){const s=this.createNode(e,null,r),i=this.createNode(n,null,r);return new Re(s,i)}delete(e){return Zn(this.contents)?this.contents.delete(e):!1}deleteIn(e){return ks(e)?this.contents==null?!1:(this.contents=null,!0):Zn(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Z(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return ks(e)?!n&&W(this.contents)?this.contents.value:this.contents:Z(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Z(this.contents)?this.contents.has(e):!1}hasIn(e){return ks(e)?this.contents!==void 0:Z(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=el(this.schema,[e],n):Zn(this.contents)&&this.contents.set(e,n)}setIn(e,n){ks(e)?this.contents=n:this.contents==null?this.contents=el(this.schema,Array.from(e),n):Zn(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Ie({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Ie({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Ea(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const l={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=lt(this.contents,n??"",l);if(typeof i=="function")for(const{count:u,res:h}of l.anchors.values())i(h,u);return typeof o=="function"?kr(o,{"":a},"",a):a}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Ok(this,e)}}function Zn(t){if(Z(t))return!0;throw new Error("Expected a YAML collection as document contents")}class vd extends Error{constructor(e,n,r,s){super(),this.name=e,this.code=r,this.message=s,this.pos=n}}class Mn extends vd{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class tw extends vd{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const nl=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(l=>e.linePos(l));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const l=Math.min(i-39,o.length-79);o=""+o.substring(l),i-=l-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,i))){let l=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);l.length>80&&(l=l.substring(0,79)+`
`),o=l+o}if(/[^ ]/.test(o)){let l=1;const a=n.linePos[1];a&&a.line===r&&a.col>s&&(l=Math.max(1,Math.min(a.col-s,80-i)));const u=" ".repeat(i)+"^".repeat(l);n.message+=`:

${o}
${u}
`}};function Jr(t,{flow:e,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:l}){let a=!1,u=l,h=l,c="",f="",p=!1,v=!1,y=null,w=null,m=null,d=null,g=null,S=null,E=null;for(const _ of t)switch(v&&(_.type!=="space"&&_.type!=="newline"&&_.type!=="comma"&&i(_.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),v=!1),y&&(u&&_.type!=="comment"&&_.type!=="newline"&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),_.type){case"space":!e&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&_.source.includes("	")&&(y=_),h=!0;break;case"comment":{h||i(_,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const N=_.source.substring(1)||" ";c?c+=f+N:c=N,f="",u=!1;break}case"newline":u?c?c+=_.source:a=!0:f+=_.source,u=!0,p=!0,(w||m)&&(d=_),h=!0;break;case"anchor":w&&i(_,"MULTIPLE_ANCHORS","A node can have at most one anchor"),_.source.endsWith(":")&&i(_.offset+_.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=_,E===null&&(E=_.offset),u=!1,h=!1,v=!0;break;case"tag":{m&&i(_,"MULTIPLE_TAGS","A node can have at most one tag"),m=_,E===null&&(E=_.offset),u=!1,h=!1,v=!0;break}case n:(w||m)&&i(_,"BAD_PROP_ORDER",`Anchors and tags must be after the ${_.source} indicator`),S&&i(_,"UNEXPECTED_TOKEN",`Unexpected ${_.source} in ${e??"collection"}`),S=_,u=n==="seq-item-ind"||n==="explicit-key-ind",h=!1;break;case"comma":if(e){g&&i(_,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),g=_,u=!1,h=!1;break}default:i(_,"UNEXPECTED_TOKEN",`Unexpected ${_.type} token`),u=!1,h=!1}const k=t[t.length-1],b=k?k.offset+k.source.length:s;return v&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(u&&y.indent<=o||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:g,found:S,spaceBefore:a,comment:c,hasNewline:p,anchor:w,tag:m,newlineAfterProp:d,end:b,start:E??b}}function ui(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(ui(e.key)||ui(e.value))return!0}return!1;default:return!0}}function Ic(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&ui(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function nw(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||W(i)&&W(o)&&i.value===o.value;return e.some(i=>s(i.key,n))}const cp="All mapping items must start at the same column";function Tk({composeNode:t,composeEmptyNode:e},n,r,s,i){var h;const o=(i==null?void 0:i.nodeClass)??Je,l=new o(n.schema);n.atRoot&&(n.atRoot=!1);let a=r.offset,u=null;for(const c of r.items){const{start:f,key:p,sep:v,value:y}=c,w=Jr(f,{indicator:"explicit-key-ind",next:p??(v==null?void 0:v[0]),offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0}),m=!w.found;if(m){if(p&&(p.type==="block-seq"?s(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==r.indent&&s(a,"BAD_INDENT",cp)),!w.anchor&&!w.tag&&!v){u=w.end,w.comment&&(l.comment?l.comment+=`
`+w.comment:l.comment=w.comment);continue}(w.newlineAfterProp||ui(p))&&s(p??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((h=w.found)==null?void 0:h.indent)!==r.indent&&s(a,"BAD_INDENT",cp);n.atKey=!0;const d=w.end,g=p?t(n,p,w,s):e(n,d,f,null,w,s);n.schema.compat&&Ic(r.indent,p,s),n.atKey=!1,nw(n,l.items,g)&&s(d,"DUPLICATE_KEY","Map keys must be unique");const S=Jr(v??[],{indicator:"map-value-ind",next:y,offset:g.range[2],onError:s,parentIndent:r.indent,startOnNewline:!p||p.type==="block-scalar"});if(a=S.end,S.found){m&&((y==null?void 0:y.type)==="block-map"&&!S.hasNewline&&s(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&w.start<S.found.offset-1024&&s(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const E=y?t(n,y,S,s):e(n,a,v,null,S,s);n.schema.compat&&Ic(r.indent,y,s),a=E.range[2];const k=new Re(g,E);n.options.keepSourceTokens&&(k.srcToken=c),l.items.push(k)}else{m&&s(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),S.comment&&(g.comment?g.comment+=`
`+S.comment:g.comment=S.comment);const E=new Re(g);n.options.keepSourceTokens&&(E.srcToken=c),l.items.push(E)}}return u&&u<a&&s(u,"IMPOSSIBLE","Map comment with trailing content"),l.range=[r.offset,a,u??a],l}function Lk({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=(i==null?void 0:i.nodeClass)??Sn,l=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let a=r.offset,u=null;for(const{start:h,value:c}of r.items){const f=Jr(h,{indicator:"seq-item-ind",next:c,offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||c)c&&c.type==="block-seq"?s(f.end,"BAD_INDENT","All sequence items must start at the same column"):s(a,"MISSING_CHAR","Sequence item without - indicator");else{u=f.end,f.comment&&(l.comment=f.comment);continue}const p=c?t(n,c,f,s):e(n,f.end,h,null,f,s);n.schema.compat&&Ic(r.indent,c,s),a=p.range[2],l.items.push(p)}return l.range=[r.offset,a,u??a],l}function ki(t,e,n,r){let s="";if(t){let i=!1,o="";for(const l of t){const{source:a,type:u}=l;switch(u){case"space":i=!0;break;case"comment":{n&&!i&&r(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const h=a.substring(1)||" ";s?s+=o+h:s=h,o="";break}case"newline":s&&(o+=a),i=!0;break;default:r(l,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=a.length}}return{comment:s,offset:e}}const pu="Block collections are not allowed within flow collections",mu=t=>t&&(t.type==="block-map"||t.type==="block-seq");function Mk({composeNode:t,composeEmptyNode:e},n,r,s,i){const o=r.start.source==="{",l=o?"flow map":"flow sequence",a=(i==null?void 0:i.nodeClass)??(o?Je:Sn),u=new a(n.schema);u.flow=!0;const h=n.atRoot;h&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=r.offset+r.start.source.length;for(let w=0;w<r.items.length;++w){const m=r.items[w],{start:d,key:g,sep:S,value:E}=m,k=Jr(d,{flow:l,indicator:"explicit-key-ind",next:g??(S==null?void 0:S[0]),offset:c,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!k.found){if(!k.anchor&&!k.tag&&!S&&!E){w===0&&k.comma?s(k.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`):w<r.items.length-1&&s(k.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${l}`),k.comment&&(u.comment?u.comment+=`
`+k.comment:u.comment=k.comment),c=k.end;continue}!o&&n.options.strict&&ui(g)&&s(g,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(w===0)k.comma&&s(k.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`);else if(k.comma||s(k.start,"MISSING_CHAR",`Missing , between ${l} items`),k.comment){let b="";e:for(const _ of d)switch(_.type){case"comma":case"space":break;case"comment":b=_.source.substring(1);break e;default:break e}if(b){let _=u.items[u.items.length-1];Q(_)&&(_=_.value??_.key),_.comment?_.comment+=`
`+b:_.comment=b,k.comment=k.comment.substring(b.length+1)}}if(!o&&!S&&!k.found){const b=E?t(n,E,k,s):e(n,k.end,S,null,k,s);u.items.push(b),c=b.range[2],mu(E)&&s(b.range,"BLOCK_IN_FLOW",pu)}else{n.atKey=!0;const b=k.end,_=g?t(n,g,k,s):e(n,b,d,null,k,s);mu(g)&&s(_.range,"BLOCK_IN_FLOW",pu),n.atKey=!1;const N=Jr(S??[],{flow:l,indicator:"map-value-ind",next:E,offset:_.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(N.found){if(!o&&!k.found&&n.options.strict){if(S)for(const F of S){if(F===N.found)break;if(F.type==="newline"){s(F,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}k.start<N.found.offset-1024&&s(N.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else E&&("source"in E&&E.source&&E.source[0]===":"?s(E,"MISSING_CHAR",`Missing space after : in ${l}`):s(N.start,"MISSING_CHAR",`Missing , or : between ${l} items`));const A=E?t(n,E,N,s):N.found?e(n,N.end,S,null,N,s):null;A?mu(E)&&s(A.range,"BLOCK_IN_FLOW",pu):N.comment&&(_.comment?_.comment+=`
`+N.comment:_.comment=N.comment);const I=new Re(_,A);if(n.options.keepSourceTokens&&(I.srcToken=m),o){const F=u;nw(n,F.items,_)&&s(b,"DUPLICATE_KEY","Map keys must be unique"),F.items.push(I)}else{const F=new Je(n.schema);F.flow=!0,F.items.push(I);const nt=(A??_).range;F.range=[_.range[0],nt[1],nt[2]],u.items.push(F)}c=A?A.range[2]:N.end}}const f=o?"}":"]",[p,...v]=r.end;let y=c;if(p&&p.source===f)y=p.offset+p.source.length;else{const w=l[0].toUpperCase()+l.substring(1),m=h?`${w} must end with a ${f}`:`${w} in block collection must be sufficiently indented and end with a ${f}`;s(c,h?"MISSING_CHAR":"BAD_INDENT",m),p&&p.source.length!==1&&v.unshift(p)}if(v.length>0){const w=ki(v,y,n.options.strict,s);w.comment&&(u.comment?u.comment+=`
`+w.comment:u.comment=w.comment),u.range=[r.offset,y,w.offset]}else u.range=[r.offset,y,y];return u}function yu(t,e,n,r,s,i){const o=n.type==="block-map"?Tk(t,e,n,r,i):n.type==="block-seq"?Lk(t,e,n,r,i):Mk(t,e,n,r,i),l=o.constructor;return s==="!"||s===l.tagName?(o.tag=l.tagName,o):(s&&(o.tag=s),o)}function Bk(t,e,n,r,s){var f;const i=r.tag,o=i?e.directives.tagName(i.source,p=>s(i,"TAG_RESOLVE_FAILED",p)):null;if(n.type==="block-seq"){const{anchor:p,newlineAfterProp:v}=r,y=p&&i?p.offset>i.offset?p:i:p??i;y&&(!v||v.offset<y.offset)&&s(y,"MISSING_CHAR","Missing newline after block sequence props")}const l=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===Je.tagName&&l==="map"||o===Sn.tagName&&l==="seq")return yu(t,e,n,s,o);let a=e.schema.tags.find(p=>p.tag===o&&p.collection===l);if(!a){const p=e.schema.knownTags[o];if(p&&p.collection===l)e.schema.tags.push(Object.assign({},p,{default:!1})),a=p;else return p!=null&&p.collection?s(i,"BAD_COLLECTION_TYPE",`${p.tag} used for ${l} collection, but expects ${p.collection}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),yu(t,e,n,s,o)}const u=yu(t,e,n,s,o,a),h=((f=a.resolve)==null?void 0:f.call(a,u,p=>s(i,"TAG_RESOLVE_FAILED",p),e.options))??u,c=te(h)?h:new O(h);return c.range=u.range,c.tag=o,a!=null&&a.format&&(c.format=a.format),c}function rw(t,e,n){const r=e.offset,s=Dk(e,t.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?O.BLOCK_FOLDED:O.BLOCK_LITERAL,o=e.source?jk(e.source):[];let l=o.length;for(let y=o.length-1;y>=0;--y){const w=o[y][1];if(w===""||w==="\r")l=y;else break}if(l===0){const y=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let w=r+s.length;return e.source&&(w+=e.source.length),{value:y,type:i,comment:s.comment,range:[r,w,w]}}let a=e.indent+s.indent,u=e.offset+s.length,h=0;for(let y=0;y<l;++y){const[w,m]=o[y];if(m===""||m==="\r")s.indent===0&&w.length>a&&(a=w.length);else{w.length<a&&n(u+w.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(a=w.length),h=y,a===0&&!t.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=w.length+m.length+1}for(let y=o.length-1;y>=l;--y)o[y][0].length>a&&(l=y+1);let c="",f="",p=!1;for(let y=0;y<h;++y)c+=o[y][0].slice(a)+`
`;for(let y=h;y<l;++y){let[w,m]=o[y];u+=w.length+m.length+1;const d=m[m.length-1]==="\r";if(d&&(m=m.slice(0,-1)),m&&w.length<a){const S=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(u-m.length-(d?2:1),"BAD_INDENT",S),w=""}i===O.BLOCK_LITERAL?(c+=f+w.slice(a)+m,f=`
`):w.length>a||m[0]==="	"?(f===" "?f=`
`:!p&&f===`
`&&(f=`

`),c+=f+w.slice(a)+m,f=`
`,p=!0):m===""?f===`
`?c+=`
`:f=`
`:(c+=f+m,f=" ",p=!1)}switch(s.chomp){case"-":break;case"+":for(let y=l;y<o.length;++y)c+=`
`+o[y][0].slice(a);c[c.length-1]!==`
`&&(c+=`
`);break;default:c+=`
`}const v=r+s.length+e.source.length;return{value:c,type:i,comment:s.comment,range:[r,v,v]}}function Dk({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],i=s[0];let o=0,l="",a=-1;for(let f=1;f<s.length;++f){const p=s[f];if(!l&&(p==="-"||p==="+"))l=p;else{const v=Number(p);!o&&v?o=v:a===-1&&(a=t+f)}}a!==-1&&r(a,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let u=!1,h="",c=s.length;for(let f=1;f<e.length;++f){const p=e[f];switch(p.type){case"space":u=!0;case"newline":c+=p.source.length;break;case"comment":n&&!u&&r(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),c+=p.source.length,h=p.source.substring(1);break;case"error":r(p,"UNEXPECTED_TOKEN",p.message),c+=p.source.length;break;default:{const v=`Unexpected token in block scalar header: ${p.type}`;r(p,"UNEXPECTED_TOKEN",v);const y=p.source;y&&typeof y=="string"&&(c+=y.length)}}}return{mode:i,indent:o,chomp:l,comment:h,length:c}}function jk(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),i=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function sw(t,e,n){const{offset:r,type:s,source:i,end:o}=t;let l,a;const u=(f,p,v)=>n(r+f,p,v);switch(s){case"scalar":l=O.PLAIN,a=Fk(i,u);break;case"single-quoted-scalar":l=O.QUOTE_SINGLE,a=Uk(i,u);break;case"double-quoted-scalar":l=O.QUOTE_DOUBLE,a=zk(i,u);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const h=r+i.length,c=ki(o,h,e,n);return{value:a,type:l,comment:c.comment,range:[r,h,c.offset]}}function Fk(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),iw(t)}function Uk(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),iw(t.slice(1,-1)).replace(/''/g,"'")}function iw(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let s=r[1],i=" ",o=e.lastIndex;for(n.lastIndex=o;r=n.exec(t);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const l=/[ \t]*(.*)/sy;return l.lastIndex=o,r=l.exec(t),s+i+((r==null?void 0:r[1])??"")}function zk(t,e){let n="";for(let r=1;r<t.length-1;++r){const s=t[r];if(!(s==="\r"&&t[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=Kk(t,r);n+=i,r=o}else if(s==="\\"){let i=t[++r];const o=Wk[i];if(o)n+=o;else if(i===`
`)for(i=t[r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="\r"&&t[r+1]===`
`)for(i=t[++r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="x"||i==="u"||i==="U"){const l={x:2,u:4,U:8}[i];n+=qk(t,r+1,l,e),r+=l}else{const l=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),n+=l}}else if(s===" "||s==="	"){const i=r;let o=t[r+1];for(;o===" "||o==="	";)o=t[++r+1];o!==`
`&&!(o==="\r"&&t[r+2]===`
`)&&(n+=r>i?t.slice(i,r+1):s)}else n+=s}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function Kk(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const Wk={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function qk(t,e,n,r){const s=t.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const l=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),l}return String.fromCodePoint(o)}function ow(t,e,n,r){const{value:s,type:i,comment:o,range:l}=e.type==="block-scalar"?rw(t,e,r):sw(e,t.options.strict,r),a=n?t.directives.tagName(n.source,c=>r(n,"TAG_RESOLVE_FAILED",c)):null;let u;t.options.stringKeys&&t.atKey?u=t.schema[Bt]:a?u=Vk(t.schema,s,a,n,r):e.type==="scalar"?u=Hk(t,s,e,r):u=t.schema[Bt];let h;try{const c=u.resolve(s,f=>r(n??e,"TAG_RESOLVE_FAILED",f),t.options);h=W(c)?c:new O(c)}catch(c){const f=c instanceof Error?c.message:String(c);r(n??e,"TAG_RESOLVE_FAILED",f),h=new O(s)}return h.range=l,h.source=s,i&&(h.type=i),a&&(h.tag=a),u.format&&(h.format=u.format),o&&(h.comment=o),h}function Vk(t,e,n,r,s){var l;if(n==="!")return t[Bt];const i=[];for(const a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if((l=a.test)!=null&&l.test(e))return a;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Bt])}function Hk({atKey:t,directives:e,schema:n},r,s,i){const o=n.tags.find(l=>{var a;return(l.default===!0||t&&l.default==="key")&&((a=l.test)==null?void 0:a.test(r))})||n[Bt];if(n.compat){const l=n.compat.find(a=>{var u;return a.default&&((u=a.test)==null?void 0:u.test(r))})??n[Bt];if(o.tag!==l.tag){const a=e.tagString(o.tag),u=e.tagString(l.tag),h=`Value may be parsed as either ${a} or ${u}`;i(s,"TAG_RESOLVE_FAILED",h,!0)}}return o}function Xk(t,e,n){if(e){n===null&&(n=e.length);for(let r=n-1;r>=0;--r){let s=e[r];switch(s.type){case"space":case"comment":case"newline":t-=s.source.length;continue}for(s=e[++r];(s==null?void 0:s.type)==="space";)t+=s.source.length,s=e[++r];break}}return t}const Jk={composeNode:lw,composeEmptyNode:Sd};function lw(t,e,n,r){const s=t.atKey,{spaceBefore:i,comment:o,anchor:l,tag:a}=n;let u,h=!0;switch(e.type){case"alias":u=Qk(t,e,r),(l||a)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=ow(t,e,a,r),l&&(u.anchor=l.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=Bk(Jk,t,e,n,r),l&&(u.anchor=l.source.substring(1));break;default:{const c=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",c),u=Sd(t,e.offset,void 0,null,n,r),h=!1}}return l&&u.anchor===""&&r(l,"BAD_ALIAS","Anchor cannot be an empty string"),s&&t.options.stringKeys&&(!W(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(a??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(u.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?u.comment=o:u.commentBefore=o),t.options.keepSourceTokens&&h&&(u.srcToken=e),u}function Sd(t,e,n,r,{spaceBefore:s,comment:i,anchor:o,tag:l,end:a},u){const h={type:"scalar",offset:Xk(e,n,r),indent:-1,source:""},c=ow(t,h,l,u);return o&&(c.anchor=o.source.substring(1),c.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(c.spaceBefore=!0),i&&(c.comment=i,c.range[2]=a),c}function Qk({options:t},{offset:e,source:n,end:r},s){const i=new ha(n.substring(1));i.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,l=ki(r,o,t.strict,s);return i.range=[e,o,l.offset],l.comment&&(i.comment=l.comment),i}function Yk(t,e,{offset:n,start:r,value:s,end:i},o){const l=Object.assign({_directives:e},t),a=new is(void 0,l),u={atKey:!1,atRoot:!0,directives:a.directives,options:a.options,schema:a.schema},h=Jr(r,{indicator:"doc-start",next:s??(i==null?void 0:i[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});h.found&&(a.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!h.hasNewline&&o(h.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),a.contents=s?lw(u,s,h,o):Sd(u,h.end,r,null,h,o);const c=a.contents.range[2],f=ki(i,c,!1,o);return f.comment&&(a.comment=f.comment),a.range=[n,c,f.offset],a}function ps(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function fp(t){var s;let e="",n=!1,r=!1;for(let i=0;i<t.length;++i){const o=t[i];switch(o[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((s=t[i+1])==null?void 0:s[0])!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class kd{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=ps(n);i?this.warnings.push(new tw(o,r,s)):this.errors.push(new Mn(o,r,s))},this.directives=new Ie({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:s}=fp(this.prelude);if(r){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(s||e.directives.docStart||!i)e.commentBefore=r;else if(Z(i)&&!i.flow&&i.items.length>0){let o=i.items[0];Q(o)&&(o=o.key);const l=o.commentBefore;o.commentBefore=l?`${r}
${l}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:fp(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const s of e)yield*this.next(s);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,s)=>{const i=ps(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=Yk(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Mn(ps(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Mn(ps(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=ki(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Mn(ps(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),s=new is(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}function Gk(t,e=!0,n){if(t){const r=(s,i,o)=>{const l=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(n)n(l,i,o);else throw new Mn([l,l+1],i,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return sw(t,e,r);case"block-scalar":return rw({options:{strict:e}},t,r)}}return null}function Zk(t,e){const{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:i=-1,type:o="PLAIN"}=e,l=vi({type:o,value:t},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),a=e.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(l[0]){case"|":case">":{const u=l.indexOf(`
`),h=l.substring(0,u),c=l.substring(u+1)+`
`,f=[{type:"block-scalar-header",offset:i,indent:r,source:h}];return aw(f,a)||f.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:i,indent:r,props:f,source:c}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:l,end:a};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:l,end:a};default:return{type:"scalar",offset:i,indent:r,source:l,end:a}}}function eE(t,e,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:i=!1,type:o}=n,l="indent"in t?t.indent:null;if(r&&typeof l=="number"&&(l+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const u=t.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const a=vi({type:o,value:e},{implicitKey:s||l===null,indent:l!==null&&l>0?" ".repeat(l):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(a[0]){case"|":case">":tE(t,a);break;case'"':gu(t,a,"double-quoted-scalar");break;case"'":gu(t,a,"single-quoted-scalar");break;default:gu(t,a,"scalar")}}function tE(t,e){const n=e.indexOf(`
`),r=e.substring(0,n),s=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const i=t.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=r,t.source=s}else{const{offset:i}=t,o="indent"in t?t.indent:-1,l=[{type:"block-scalar-header",offset:i,indent:o,source:r}];aw(l,"end"in t?t.end:void 0)||l.push({type:"newline",offset:-1,indent:o,source:`
`});for(const a of Object.keys(t))a!=="type"&&a!=="offset"&&delete t[a];Object.assign(t,{type:"block-scalar",indent:o,props:l,source:s})}}function aw(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function gu(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const r=t.props.slice(1);let s=e.length;t.props[0].type==="block-scalar-header"&&(s-=t.props[0].source.length);for(const i of r)i.offset+=s;delete t.props,Object.assign(t,{type:n,source:e,end:r});break}case"block-map":case"block-seq":{const s={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[s]});break}default:{const r="indent"in t?t.indent:-1,s="end"in t&&Array.isArray(t.end)?t.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(t))i!=="type"&&i!=="offset"&&delete t[i];Object.assign(t,{type:n,indent:r,source:e,end:s})}}}const nE=t=>"type"in t?rl(t):So(t);function rl(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=rl(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=So(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=So(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=So(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function So({start:t,key:e,sep:n,value:r}){let s="";for(const i of t)s+=i.source;if(e&&(s+=rl(e)),n)for(const i of n)s+=i.source;return r&&(s+=rl(r)),s}const Oc=Symbol("break visit"),rE=Symbol("skip children"),uw=Symbol("remove item");function Vn(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),cw(Object.freeze([]),t,e)}Vn.BREAK=Oc;Vn.SKIP=rE;Vn.REMOVE=uw;Vn.itemAtPath=(t,e)=>{let n=t;for(const[r,s]of e){const i=n==null?void 0:n[r];if(i&&"items"in i)n=i.items[s];else return}return n};Vn.parentCollection=(t,e)=>{const n=Vn.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],s=n==null?void 0:n[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function cw(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(const s of["key","value"]){const i=e[s];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const l=cw(Object.freeze(t.concat([[s,o]])),i.items[o],n);if(typeof l=="number")o=l-1;else{if(l===Oc)return Oc;l===uw&&(i.items.splice(o,1),o-=1)}}typeof r=="function"&&s==="key"&&(r=r(e,t))}}return typeof r=="function"?r(e,t):r}const _a="\uFEFF",ba="",Ca="",ci="",sE=t=>!!t&&"items"in t,iE=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function oE(t){switch(t){case _a:return"<BOM>";case ba:return"<DOC>";case Ca:return"<FLOW_END>";case ci:return"<SCALAR>";default:return JSON.stringify(t)}}function fw(t){switch(t){case _a:return"byte-order-mark";case ba:return"doc-mode";case Ca:return"flow-error-end";case ci:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const lE=Object.freeze(Object.defineProperty({__proto__:null,BOM:_a,DOCUMENT:ba,FLOW_END:Ca,SCALAR:ci,createScalarToken:Zk,isCollection:sE,isScalar:iE,prettyToken:oE,resolveAsScalar:Gk,setScalarValue:eE,stringify:nE,tokenType:fw,visit:Vn},Symbol.toStringTag,{value:"Module"}));function dt(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const dp=new Set("0123456789ABCDEFabcdef"),aE=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Ji=new Set(",[]{}"),uE=new Set(` ,[]{}
\r	`),wu=t=>!t||uE.has(t);class dw{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const s=this.buffer[r+e+1];if(s===`
`||!s&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&dt(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===_a&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const i=e[r-1];if(i===" "||i==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield ba,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&dt(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!dt(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&dt(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(wu),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&dt(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield Ca,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(wu),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||dt(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>dt(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let s=e+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];e=s-1}else if(!this.blockScalarKeep)do{let i=e-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const l=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>l)e=i;else break}while(!0);return yield ci,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(dt(i)||e&&Ji.has(i))break;n=r}else if(dt(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||e&&Ji.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(e&&Ji.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield ci,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(wu))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(dt(n)||e&&Ji.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!dt(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(aE.has(n))n=this.buffer[++e];else if(n==="%"&&dp.has(this.buffer[e+1])&&dp.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class hw{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<e?n=i+1:r=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const s=this.lineStarts[n-1];return{line:n,col:e-s+1}}}}function Rn(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function hp(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function pw(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Qi(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function er(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function pp(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Rn(e.start,"explicit-key-ind")&&!Rn(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,pw(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Ed{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new dw,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=fw(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&pp(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&hp(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{hp(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Qi(this.peek(2)),r=er(n);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent,i=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(i&&n.sep&&!n.value){const l=[];for(let a=0;a<n.sep.length;++a){const u=n.sep[a];switch(u.type){case"newline":l.push(a);break;case"space":break;case"comment":u.indent>e.indent&&(l.length=0);break;default:l.length=0}}l.length>=2&&(o=n.sep.splice(l[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Rn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(pw(n.key)&&!Rn(n.sep,"newline")){const l=er(n.start),a=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:a,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(Rn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const l=er(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:o,key:null,sep:[this.sourceToken]}):Rn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const l=this.flowScalar(this.type);i||n.value?(e.items.push({start:o,key:l,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(l):(Object.assign(n,{key:l,sep:[]}),this.onKeyLine=!0);return}default:{const l=this.startBlockValue(e);if(l){s&&l.type!=="block-seq"&&e.items.push({start:o}),this.stack.push(l);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Rn(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=Qi(r),i=er(s);pp(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const l={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=l}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Qi(e),r=er(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Qi(e),r=er(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function mw(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new hw||null,prettyErrors:e}}function cE(t,e={}){const{lineCounter:n,prettyErrors:r}=mw(e),s=new Ed(n==null?void 0:n.addNewLine),i=new kd(e),o=Array.from(i.compose(s.parse(t)));if(r&&n)for(const l of o)l.errors.forEach(nl(t,n)),l.warnings.forEach(nl(t,n));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function yw(t,e={}){const{lineCounter:n,prettyErrors:r}=mw(e),s=new Ed(n==null?void 0:n.addNewLine),i=new kd(e);let o=null;for(const l of i.compose(s.parse(t),!0,t.length))if(!o)o=l;else if(o.options.logLevel!=="silent"){o.errors.push(new Mn(l.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(nl(t,n)),o.warnings.forEach(nl(t,n))),o}function fE(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);const s=yw(t,n);if(!s)return null;if(s.warnings.forEach(i=>Mg(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function dE(t,e,n){let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(t===void 0){const{keepUndefined:s}=n??e??{};if(!s)return}return Yn(t)&&!r?t.toString(n):new is(t,r,n).toString(n)}const sl=Object.freeze(Object.defineProperty({__proto__:null,Alias:ha,CST:lE,Composer:kd,Document:is,Lexer:dw,LineCounter:hw,Pair:Re,Parser:Ed,Scalar:O,Schema:Ea,YAMLError:vd,YAMLMap:Je,YAMLParseError:Mn,YAMLSeq:Sn,YAMLWarning:tw,isAlias:Qn,isCollection:Z,isDocument:Yn,isMap:ts,isNode:te,isPair:Q,isScalar:W,isSeq:ns,parse:fE,parseAllDocuments:cE,parseDocument:yw,stringify:dE,visit:vn,visitAsync:da},Symbol.toStringTag,{value:"Module"}));function mp(t){return JSON.parse(JSON.stringify(t))}const X=fa({entities:[],stage:{width:1e3,height:1e3},global:{timeScale:0}}),_d={name:"Nameless",x:0,y:0,rotation:0,scale:1,behaviors:[]},hE={name:"Nameless",type:"CustomBehavior"},ke={addEntity:t=>{const e=pE.fixEntityBlueprint(t),n=Tc.toEntityProps(e);return X.entities.push(n),n},removeEntity:t=>{X.entities=X.entities.filter(e=>e.uuid!==t)},updateEntity:(t,e)=>{const n=X.entities.find(r=>r.uuid===t);return n&&Object.assign(n,e),n},addBehaviorToEntity:(t,e)=>{const n=X.entities.find(s=>s.uuid===t);if(!n)throw new Error("Entity not found");const r=Tc.toBehaviorProps(e);return n.behaviors.push(r),r},removeBehaviorFromEntity:(t,e)=>{const n=X.entities.find(r=>r.uuid===t);n&&(n.behaviors=n.behaviors.filter(r=>r.type!==e))},clearWorld:()=>{X.entities=[]},getEntity:t=>X.entities.find(e=>e.uuid===t)},pE={fixEntityBlueprint(t){const e={...t};for(const n of["x","y","rotation","scale"])typeof e[n]=="string"&&(e[n]=parseFloat(e[n])),isNaN(e[n])&&(e[n]=_d[n]);for(const n of["name"])typeof e[n]!="string"&&(e[n]=String(e[n]));Array.isArray(e.behaviors)||(e.behaviors=[e.behaviors]);for(const n in e.behaviors??[]){const r=e.behaviors[n],s=this.fixBehaviorBlueprint(r),i=Tc.toBehaviorProps(s);e.behaviors[n]=i}return e},fixBehaviorBlueprint(t){return typeof t=="string"&&(t={type:t}),{...t}}},Tc={toEntityProps:t=>({..._d,...mp(t),uuid:crypto.randomUUID()}),toBehaviorProps:t=>({...hE,...mp(t),uuid:crypto.randomUUID()})},ve=fa({selectedEntityIds:[],aiBusy:!1}),yn={setSelectedEntityIds:t=>{ve.selectedEntityIds=t},addSelectedEntityIds:t=>{const e=t.filter(n=>!ve.selectedEntityIds.includes(n));ve.selectedEntityIds.push(...e)},removeSelectedEntityIds:t=>{ve.selectedEntityIds=ve.selectedEntityIds.filter(e=>!t.includes(e))},toggleEntitySelection:(t,e)=>{if(e){const n=ve.selectedEntityIds.indexOf(t);n===-1?ve.selectedEntityIds.push(t):ve.selectedEntityIds.splice(n,1)}else ve.selectedEntityIds=[t]},clearSelection:()=>{ve.selectedEntityIds=[]},setAIBusy:t=>{ve.aiBusy=t}},gw=()=>{const{selectedEntityIds:t}=bt(ve),{entities:e}=bt(X);return e.filter(n=>t.includes(n.uuid))},ww=(...t)=>{const[e,n]=T.useState(!1),r=T.useCallback(s=>{t.includes(s.key)&&(n(i=>!i),console.log(` Toggled state (keys: ${t.join(", ")})`))},[t]);return T.useEffect(()=>(window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)),[r]),[e,n]},mE=()=>{const[t]=ww("`"),e=bt(X),n=sl.stringify(e),r=bt(ve),s=sl.stringify(r);return t?C.jsx("div",{className:"absolute top-4 left-4 max-h-[calc(100vh-32px)] overflow-y-auto bg-white rounded-lg border border-gray-300 shadow-md animate-slide-in",children:C.jsxs("div",{className:"p-4 overflow-x-auto",children:[C.jsx("pre",{className:"text-xs font-bold mb-2",children:"IDE"}),C.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:s}),C.jsx("br",{}),C.jsx("hr",{}),C.jsx("br",{}),C.jsx("pre",{className:"text-xs font-bold mb-2",children:"World"}),C.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:n})]})}):null},rr="4.68.1";let yp=!1,Us,vw,Sw,Lc,kw,Ew,_w,bw,Cw;function yE(t,e={auto:!1}){if(yp)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Us)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Us}'\``);yp=e.auto,Us=t.kind,vw=t.fetch,Sw=t.FormData,Lc=t.File,kw=t.ReadableStream,Ew=t.getMultipartRequestOptions,_w=t.getDefaultAgent,bw=t.fileFromPath,Cw=t.isFsReadStream}let gE=class{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}};function wE({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new gE(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}Us||yE(wE(),{auto:!0});let xa=class Mc{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Mc.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(Mc.NEWLINE_REGEXP);return r&&s.pop(),s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new D(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new D(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new D("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}};xa.NEWLINE_CHARS=new Set([`
`,"\r"]);xa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;let fi=class Es{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of vE(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(l&&l.error)throw new We(void 0,l.error,void 0,void 0);yield l}else{let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event=="error")throw new We(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new Es(s,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const o=new xa,l=xw(e);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Es(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new Es(()=>s(e),this.controller),new Es(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new kw({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}};async function*vE(t,e){if(!t.body)throw e.abort(),new D("Attempted to iterate over a response with no body");const n=new EE,r=new xa,s=xw(t.body);for await(const i of SE(s))for(const o of r.decode(i)){const l=n.decode(o);l&&(yield l)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*SE(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=kE(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function kE(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}let EE=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=_E(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}};function _E(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function xw(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Aw=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Pw=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Aa(t),Aa=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",bE=t=>Pw(t)||Aw(t)||Cw(t);async function Rw(t,e,n){var s;if(t=await t,Pw(t))return t;if(Aw(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Aa(i)?[await i.arrayBuffer()]:[i];return new Lc(o,e,n)}const r=await CE(t);if(e||(e=AE(t)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Lc(r,e,n)}async function CE(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Aa(t))e.push(await t.arrayBuffer());else if(PE(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${xE(t)}`);return e}function xE(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function AE(t){var e;return vu(t.name)||vu(t.filename)||((e=vu(t.path))==null?void 0:e.split(/[\\/]/).pop())}const vu=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},PE=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",gp=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Qr=async t=>{const e=await RE(t.body);return Ew(e,t)},RE=async t=>{const e=new Sw;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Bc(e,n,r))),e},Bc=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(bE(n)){const r=await Rw(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Bc(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Bc(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Or={},NE=function(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},$E=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Yi;async function Nw(t){const{response:e}=t;if(t.options.stream)return Tr("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):fi.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return Tr("response",e.status,e.url,e.headers,i),$w(i,e)}const s=await e.text();return Tr("response",e.status,e.url,e.headers,s),s}function $w(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}let Iw=class Ow extends Promise{constructor(e,n=Nw){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Ow(this.responsePromise,async n=>$w(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}},IE=class{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=Su("maxRetries",n),this.timeout=Su("timeout",r),this.httpAgent=s,this.fetch=i??vw}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...DE(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${zE()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&Aa(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:i}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var y;const{method:r,path:s,query:i,headers:o={}}=e,l=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:gp(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,a=this.calculateContentLength(l),u=this.buildURL(s,i);"timeout"in e&&Su("timeout",e.timeout);const h=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??_w(u),f=h+1e3;typeof((y=c==null?void 0:c.options)==null?void 0:y.timeout)=="number"&&f>(c.options.timeout??0)&&(c.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const p=this.buildHeaders({options:e,headers:o,contentLength:a,retryCount:n});return{req:{method:r,...l&&{body:l},headers:p,...c&&{agent:c},signal:e.signal??null},url:u,timeout:h}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(e);return kp(i,o),kp(i,n),gp(e.body)&&Us!=="node"&&delete i["content-type"],Ep(o,"x-stainless-retry-count")===void 0&&Ep(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return We.generate(e,n,r,s)}request(e,n=null){return new Iw(this.makeRequest(e,n))}async makeRequest(e,n){var c,f;const r=await e,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:l}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),Tr("request",o,r,i.headers),(c=r.signal)!=null&&c.aborted)throw new wt;const a=new AbortController,u=await this.fetchWithTimeout(o,i,l,a).catch(Dc);if(u instanceof Error){if((f=r.signal)!=null&&f.aborted)throw new wt;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new bd:new Pa({cause:u})}const h=TE(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const d=`retrying, ${n} attempts remaining`;return Tr(`response (error; ${d})`,u.status,o,h),this.retryRequest(r,n,h)}const p=await u.text().catch(d=>Dc(d).message),v=jE(p),y=v?void 0:p;throw Tr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,h,y),this.makeStatusError(u.status,v,y,h)}return{response:u,options:r,controller:a}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new OE(this,r,e)}buildURL(e,n){const r=UE(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Lw(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new D(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,e,{signal:s.signal,...o}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await Ei(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${rr}`}};class Tw{constructor(e,n,r,s){Yi.set(this,void 0),NE(this,Yi,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new D("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[s,i]of r)e.url.searchParams.set(s,i);n.query=void 0,n.path=e.url.toString()}return await $E(this,Yi,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Yi=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}let OE=class extends Iw{constructor(e,n,r){super(n,async s=>new r(e,s.response,await Nw(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}};const TE=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),LE={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Ke=t=>typeof t=="object"&&t!==null&&!Lw(t)&&Object.keys(t).every(e=>Mw(LE,e)),ME=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rr,"X-Stainless-OS":vp(Deno.build.os),"X-Stainless-Arch":wp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rr,"X-Stainless-OS":vp(process.platform),"X-Stainless-Arch":wp(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=BE();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function BE(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const wp=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",vp=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Sp;const DE=()=>Sp??(Sp=ME()),jE=t=>{try{return JSON.parse(t)}catch{return}},FE=new RegExp("^(?:[a-z]+:)?//","i"),UE=t=>FE.test(t),Ei=t=>new Promise(e=>setTimeout(e,t)),Su=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new D(`${t} must be an integer`);if(e<0)throw new D(`${t} must be a positive integer`);return e},Dc=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Gi=t=>{var e,n,r,s;if(typeof process<"u")return((e=Or==null?void 0:Or[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function Lw(t){if(!t)return!0;for(const e in t)return!1;return!0}function Mw(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function kp(t,e){for(const n in e){if(!Mw(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}function Tr(t,...e){typeof process<"u"&&(Or==null?void 0:Or.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const zE=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),KE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",WE=t=>typeof(t==null?void 0:t.get)=="function",Ep=(t,e)=>{var r;const n=e.toLowerCase();if(WE(t)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,o,l)=>o+l.toUpperCase());for(const i of[e,n,e.toUpperCase(),s]){const o=t.get(i);if(o)return o}}for(const[s,i]of Object.entries(t))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};function ku(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class D extends Error{}let We=class jc extends D{constructor(e,n,r,s){super(`${jc.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e)return new Pa({message:r,cause:Dc(n)});const i=n==null?void 0:n.error;return e===400?new Bw(e,i,r,s):e===401?new Dw(e,i,r,s):e===403?new jw(e,i,r,s):e===404?new Fw(e,i,r,s):e===409?new Uw(e,i,r,s):e===422?new zw(e,i,r,s):e===429?new Kw(e,i,r,s):e>=500?new Ww(e,i,r,s):new jc(e,i,r,s)}},wt=class extends We{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}},Pa=class extends We{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}},bd=class extends Pa{constructor({message:e}={}){super({message:e??"Request timed out."})}},Bw=class extends We{constructor(){super(...arguments),this.status=400}},Dw=class extends We{constructor(){super(...arguments),this.status=401}},jw=class extends We{constructor(){super(...arguments),this.status=403}},Fw=class extends We{constructor(){super(...arguments),this.status=404}},Uw=class extends We{constructor(){super(...arguments),this.status=409}},zw=class extends We{constructor(){super(...arguments),this.status=422}},Kw=class extends We{constructor(){super(...arguments),this.status=429}},Ww=class extends We{};class qw extends D{constructor(){super("Could not parse response content as the length limit was reached")}}class Vw extends D{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const Fc="RFC3986",Uc={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},qE="RFC1738",VE=Array.isArray,Pt=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Eu=1024,HE=(t,e,n,r,s)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<i.length;l+=Eu){const a=i.length>=Eu?i.slice(l,l+Eu):i,u=[];for(let h=0;h<a.length;++h){let c=a.charCodeAt(h);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===qE&&(c===40||c===41)){u[u.length]=a.charAt(h);continue}if(c<128){u[u.length]=Pt[c];continue}if(c<2048){u[u.length]=Pt[192|c>>6]+Pt[128|c&63];continue}if(c<55296||c>=57344){u[u.length]=Pt[224|c>>12]+Pt[128|c>>6&63]+Pt[128|c&63];continue}h+=1,c=65536+((c&1023)<<10|a.charCodeAt(h)&1023),u[u.length]=Pt[240|c>>18]+Pt[128|c>>12&63]+Pt[128|c>>6&63]+Pt[128|c&63]}o+=u.join("")}return o};function XE(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function _p(t,e){if(VE(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const JE=Object.prototype.hasOwnProperty,Hw={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Nt=Array.isArray,QE=Array.prototype.push,Xw=function(t,e){QE.apply(t,Nt(e)?e:[e])},YE=Date.prototype.toISOString,fe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:HE,encodeValuesOnly:!1,format:Fc,formatter:Uc[Fc],indices:!1,serializeDate(t){return YE.call(t)},skipNulls:!1,strictNullHandling:!1};function GE(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const _u={};function Jw(t,e,n,r,s,i,o,l,a,u,h,c,f,p,v,y,w,m){let d=t,g=m,S=0,E=!1;for(;(g=g.get(_u))!==void 0&&!E;){const A=g.get(t);if(S+=1,typeof A<"u"){if(A===S)throw new RangeError("Cyclic object value");E=!0}typeof g.get(_u)>"u"&&(S=0)}if(typeof u=="function"?d=u(e,d):d instanceof Date?d=f==null?void 0:f(d):n==="comma"&&Nt(d)&&(d=_p(d,function(A){return A instanceof Date?f==null?void 0:f(A):A})),d===null){if(i)return a&&!y?a(e,fe.encoder,w,"key",p):e;d=""}if(GE(d)||XE(d)){if(a){const A=y?e:a(e,fe.encoder,w,"key",p);return[(v==null?void 0:v(A))+"="+(v==null?void 0:v(a(d,fe.encoder,w,"value",p)))]}return[(v==null?void 0:v(e))+"="+(v==null?void 0:v(String(d)))]}const k=[];if(typeof d>"u")return k;let b;if(n==="comma"&&Nt(d))y&&a&&(d=_p(d,a)),b=[{value:d.length>0?d.join(",")||null:void 0}];else if(Nt(u))b=u;else{const A=Object.keys(d);b=h?A.sort(h):A}const _=l?String(e).replace(/\./g,"%2E"):String(e),N=r&&Nt(d)&&d.length===1?_+"[]":_;if(s&&Nt(d)&&d.length===0)return N+"[]";for(let A=0;A<b.length;++A){const I=b[A],F=typeof I=="object"&&typeof I.value<"u"?I.value:d[I];if(o&&F===null)continue;const nt=c&&l?I.replace(/\./g,"%2E"):I,bi=Nt(d)?typeof n=="function"?n(N,nt):N:N+(c?"."+nt:"["+nt+"]");m.set(t,S);const Ci=new WeakMap;Ci.set(_u,m),Xw(k,Jw(F,bi,n,r,s,i,o,l,n==="comma"&&y&&Nt(d)?null:a,u,h,c,f,p,v,y,w,Ci))}return k}function ZE(t=fe){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||fe.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Fc;if(typeof t.format<"u"){if(!JE.call(Uc,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=Uc[n];let s=fe.filter;(typeof t.filter=="function"||Nt(t.filter))&&(s=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in Hw?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=fe.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:fe.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:fe.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:fe.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:fe.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?fe.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:fe.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:fe.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:fe.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:fe.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:fe.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:fe.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:fe.strictNullHandling}}function e_(t,e={}){let n=t;const r=ZE(e);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Nt(r.filter)&&(i=r.filter,s=i);const o=[];if(typeof n!="object"||n===null)return"";const l=Hw[r.arrayFormat],a=l==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let f=0;f<s.length;++f){const p=s[f];r.skipNulls&&n[p]===null||Xw(o,Jw(n[p],p,l,a,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const h=o.join(r.delimiter);let c=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),h.length>0?c+h:""}class Cd extends Tw{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class xt extends Tw{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}let z=class{constructor(e){this._client=e}},il=class extends z{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}};il||(il={});let ol=class extends z{constructor(){super(...arguments),this.completions=new il(this._client)}};(function(t){t.Completions=il})(ol||(ol={}));class ll extends z{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}ll||(ll={});let al=class extends z{create(e,n){return this._client.post("/audio/transcriptions",Qr({body:e,...n}))}};al||(al={});let ul=class extends z{create(e,n){return this._client.post("/audio/translations",Qr({body:e,...n}))}};ul||(ul={});let cl=class extends z{constructor(){super(...arguments),this.transcriptions=new al(this._client),this.translations=new ul(this._client),this.speech=new ll(this._client)}};(function(t){t.Transcriptions=al,t.Translations=ul,t.Speech=ll})(cl||(cl={}));class fl extends z{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Ke(e)?this.list({},e):this._client.getAPIList("/batches",xd,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class xd extends xt{}(function(t){t.BatchesPage=xd})(fl||(fl={}));class dl extends z{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Ke(e)?this.list({},e):this._client.getAPIList("/assistants",Ad,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Ad extends xt{}(function(t){t.AssistantsPage=Ad})(dl||(dl={}));function bp(t){return typeof t.parse=="function"}const Lr=t=>(t==null?void 0:t.role)==="assistant",Qw=t=>(t==null?void 0:t.role)==="function",Yw=t=>(t==null?void 0:t.role)==="tool";var ht=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Y=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},zc,ko,Eo,_s,bs,_o,Cs,jt,xs,hl,pl,sr,Gw;class Zw{constructor(){zc.add(this),this.controller=new AbortController,ko.set(this,void 0),Eo.set(this,()=>{}),_s.set(this,()=>{}),bs.set(this,void 0),_o.set(this,()=>{}),Cs.set(this,()=>{}),jt.set(this,{}),xs.set(this,!1),hl.set(this,!1),pl.set(this,!1),sr.set(this,!1),ht(this,ko,new Promise((e,n)=>{ht(this,Eo,e,"f"),ht(this,_s,n,"f")}),"f"),ht(this,bs,new Promise((e,n)=>{ht(this,_o,e,"f"),ht(this,Cs,n,"f")}),"f"),Y(this,ko,"f").catch(()=>{}),Y(this,bs,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Y(this,zc,"m",Gw).bind(this))},0)}_connected(){this.ended||(Y(this,Eo,"f").call(this),this._emit("connect"))}get ended(){return Y(this,xs,"f")}get errored(){return Y(this,hl,"f")}get aborted(){return Y(this,pl,"f")}abort(){this.controller.abort()}on(e,n){return(Y(this,jt,"f")[e]||(Y(this,jt,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Y(this,jt,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(Y(this,jt,"f")[e]||(Y(this,jt,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{ht(this,sr,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){ht(this,sr,!0,"f"),await Y(this,bs,"f")}_emit(e,...n){if(Y(this,xs,"f"))return;e==="end"&&(ht(this,xs,!0,"f"),Y(this,_o,"f").call(this));const r=Y(this,jt,"f")[e];if(r&&(Y(this,jt,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!Y(this,sr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Y(this,_s,"f").call(this,s),Y(this,Cs,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!Y(this,sr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Y(this,_s,"f").call(this,s),Y(this,Cs,"f").call(this,s),this._emit("end")}}_emitFinal(){}}ko=new WeakMap,Eo=new WeakMap,_s=new WeakMap,bs=new WeakMap,_o=new WeakMap,Cs=new WeakMap,jt=new WeakMap,xs=new WeakMap,hl=new WeakMap,pl=new WeakMap,sr=new WeakMap,zc=new WeakSet,Gw=function(e){if(ht(this,hl,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new wt),e instanceof wt)return ht(this,pl,!0,"f"),this._emit("abort",e);if(e instanceof D)return this._emit("error",e);if(e instanceof Error){const n=new D(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new D(String(e)))};function e0(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function _i(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function t_(t,e){return!e||!t0(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:Pd(t,e)}function Pd(t,e){const n=t.choices.map(r=>{var s;if(r.finish_reason==="length")throw new qw;if(r.finish_reason==="content_filter")throw new Vw;return{...r,message:{...r.message,tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>r_(e,i)))??[],parsed:r.message.content&&!r.message.refusal?n_(e,r.message.content):null}}});return{...t,choices:n}}function n_(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function r_(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:_i(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function s_(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return _i(n)||(n==null?void 0:n.function.strict)||!1}function t0(t){var e;return e0(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>_i(n)||n.type==="function"&&n.function.strict===!0))??!1}function i_(t){for(const e of t??[]){if(e.type!=="function")throw new D(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new D(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Me=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ae,Kc,ml,Wc,qc,Vc,n0,Hc;const Cp=10;class r0 extends Zw{constructor(){super(...arguments),Ae.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(Qw(e)||Yw(e))&&e.content)this._emit("functionCallResult",e.content);else if(Lr(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Lr(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new D("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Me(this,Ae,"m",Kc).call(this)}async finalMessage(){return await this.done(),Me(this,Ae,"m",ml).call(this)}async finalFunctionCall(){return await this.done(),Me(this,Ae,"m",Wc).call(this)}async finalFunctionCallResult(){return await this.done(),Me(this,Ae,"m",qc).call(this)}async totalUsage(){return await this.done(),Me(this,Ae,"m",Vc).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Me(this,Ae,"m",ml).call(this);n&&this._emit("finalMessage",n);const r=Me(this,Ae,"m",Kc).call(this);r&&this._emit("finalContent",r);const s=Me(this,Ae,"m",Wc).call(this);s&&this._emit("finalFunctionCall",s);const i=Me(this,Ae,"m",qc).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Me(this,Ae,"m",Vc).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Me(this,Ae,"m",n0).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Pd(i,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var f;const s="function",{function_call:i="auto",stream:o,...l}=n,a=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=Cp}=r||{},h={};for(const p of n.functions)h[p.name||p.function.name]=p;const c=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const y=(f=(await this._createChatCompletion(e,{...l,function_call:i,functions:c,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!y)throw new D("missing message in ChatCompletion response");if(!y.function_call)return;const{name:w,arguments:m}=y.function_call,d=h[w];if(d){if(a&&a!==w){const k=`Invalid function_call: ${JSON.stringify(w)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,name:w,content:k});continue}}else{const k=`Invalid function_call: ${JSON.stringify(w)}. Available options are: ${c.map(b=>JSON.stringify(b.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:w,content:k});continue}let g;try{g=bp(d)?await d.parse(m):m}catch(k){this._addMessage({role:s,name:w,content:k instanceof Error?k.message:String(k)});continue}const S=await d.function(g,this),E=Me(this,Ae,"m",Hc).call(this,S);if(this._addMessage({role:s,name:w,content:E}),a)return}}async _runTools(e,n,r){var p,v,y;const s="tool",{tool_choice:i="auto",stream:o,...l}=n,a=typeof i!="string"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:u=Cp}=r||{},h=n.tools.map(w=>{if(_i(w)){if(!w.$callback)throw new D("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),c={};for(const w of h)w.type==="function"&&(c[w.function.name||w.function.function.name]=w.function);const f="tools"in n?h.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of n.messages)this._addMessage(w,!1);for(let w=0;w<u;++w){const d=(v=(await this._createChatCompletion(e,{...l,tool_choice:i,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!d)throw new D("missing message in ChatCompletion response");if(!((y=d.tool_calls)!=null&&y.length))return;for(const g of d.tool_calls){if(g.type!=="function")continue;const S=g.id,{name:E,arguments:k}=g.function,b=c[E];if(b){if(a&&a!==E){const I=`Invalid tool_call: ${JSON.stringify(E)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,tool_call_id:S,content:I});continue}}else{const I=`Invalid tool_call: ${JSON.stringify(E)}. Available options are: ${Object.keys(c).map(F=>JSON.stringify(F)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:S,content:I});continue}let _;try{_=bp(b)?await b.parse(k):k}catch(I){const F=I instanceof Error?I.message:String(I);this._addMessage({role:s,tool_call_id:S,content:F});continue}const N=await b.function(_,this),A=Me(this,Ae,"m",Hc).call(this,N);if(this._addMessage({role:s,tool_call_id:S,content:A}),a)return}}}}Ae=new WeakSet,Kc=function(){return Me(this,Ae,"m",ml).call(this).content??null},ml=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Lr(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new D("stream ended without producing a ChatCompletionMessage with role=assistant")},Wc=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Lr(s)&&(s!=null&&s.function_call))return s.function_call;if(Lr(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},qc=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Qw(n)&&n.content!=null||Yw(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Vc=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},n0=function(e){if(e.n!=null&&e.n>1)throw new D("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Hc=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class di extends r0{static runFunctions(e,n,r){const s=new di,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new di,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}_addMessage(e,n=!0){super._addMessage(e,n),Lr(e)&&e.content&&this._emit("content",e.content)}}const s0=1,i0=2,o0=4,l0=8,a0=16,u0=32,c0=64,f0=128,d0=256,h0=f0|d0,p0=a0|u0|h0|c0,m0=s0|i0|p0,y0=o0|l0,o_=m0|y0,me={STR:s0,NUM:i0,ARR:o0,OBJ:l0,NULL:a0,BOOL:u0,NAN:c0,INFINITY:f0,MINUS_INFINITY:d0,INF:h0,SPECIAL:p0,ATOM:m0,COLLECTION:y0,ALL:o_};class l_ extends Error{}class a_ extends Error{}function u_(t,e=me.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return c_(t.trim(),e)}const c_=(t,e)=>{const n=t.length;let r=0;const s=f=>{throw new l_(`${f} at position ${r}`)},i=f=>{throw new a_(`${f} at position ${r}`)},o=()=>(c(),r>=n&&s("Unexpected end of input"),t[r]==='"'?l():t[r]==="{"?a():t[r]==="["?u():t.substring(r,r+4)==="null"||me.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||me.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||me.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||me.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||me.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||me.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):h()),l=()=>{const f=r;let p=!1;for(r++;r<n&&(t[r]!=='"'||p&&t[r-1]==="\\");)p=t[r]==="\\"?!p:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(f,++r-Number(p)))}catch(v){i(String(v))}else if(me.STR&e)try{return JSON.parse(t.substring(f,r-Number(p))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},a=()=>{r++,c();const f={};try{for(;t[r]!=="}";){if(c(),r>=n&&me.OBJ&e)return f;const p=l();c(),r++;try{const v=o();Object.defineProperty(f,p,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(me.OBJ&e)return f;throw v}c(),t[r]===","&&r++}}catch{if(me.OBJ&e)return f;s("Expected '}' at end of object")}return r++,f},u=()=>{r++;const f=[];try{for(;t[r]!=="]";)f.push(o()),c(),t[r]===","&&r++}catch{if(me.ARR&e)return f;s("Expected ']' at end of array")}return r++,f},h=()=>{if(r===0){t==="-"&&me.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(p){if(me.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(p))}}const f=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(me.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(f,r))}catch{t.substring(f,r)==="-"&&me.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(v){i(String(v))}}},c=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},xp=t=>u_(t,me.ALL^me.NUM);var tr=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},K=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ce,Dt,nr,Zt,bu,Zi,Cu,xu,Au,eo,Pu,Ap;class hi extends r0{constructor(e){super(),ce.add(this),Dt.set(this,void 0),nr.set(this,void 0),Zt.set(this,void 0),tr(this,Dt,e,"f"),tr(this,nr,[],"f")}get currentChatCompletionSnapshot(){return K(this,Zt,"f")}static fromReadableStream(e){const n=new hi(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new hi(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),K(this,ce,"m",bu).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of i)K(this,ce,"m",Cu).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new wt;return this._addChatCompletion(K(this,ce,"m",eo).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),K(this,ce,"m",bu).call(this),this._connected();const s=fi.fromReadableStream(e,this.controller);let i;for await(const l of s)i&&i!==l.id&&this._addChatCompletion(K(this,ce,"m",eo).call(this)),K(this,ce,"m",Cu).call(this,l),i=l.id;if((o=s.controller.signal)!=null&&o.aborted)throw new wt;return this._addChatCompletion(K(this,ce,"m",eo).call(this))}[(Dt=new WeakMap,nr=new WeakMap,Zt=new WeakMap,ce=new WeakSet,bu=function(){this.ended||tr(this,Zt,void 0,"f")},Zi=function(n){let r=K(this,nr,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},K(this,nr,"f")[n.index]=r,r)},Cu=function(n){var s,i,o,l,a,u,h,c,f,p,v,y,w,m,d;if(this.ended)return;const r=K(this,ce,"m",Ap).call(this,n);this._emit("chunk",n,r);for(const g of n.choices){const S=r.choices[g.index];g.delta.content!=null&&((s=S.message)==null?void 0:s.role)==="assistant"&&((i=S.message)!=null&&i.content)&&(this._emit("content",g.delta.content,S.message.content),this._emit("content.delta",{delta:g.delta.content,snapshot:S.message.content,parsed:S.message.parsed})),g.delta.refusal!=null&&((o=S.message)==null?void 0:o.role)==="assistant"&&((l=S.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:g.delta.refusal,snapshot:S.message.refusal}),((a=g.logprobs)==null?void 0:a.content)!=null&&((u=S.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=g.logprobs)==null?void 0:h.content,snapshot:((c=S.logprobs)==null?void 0:c.content)??[]}),((f=g.logprobs)==null?void 0:f.refusal)!=null&&((p=S.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=g.logprobs)==null?void 0:v.refusal,snapshot:((y=S.logprobs)==null?void 0:y.refusal)??[]});const E=K(this,ce,"m",Zi).call(this,S);S.finish_reason&&(K(this,ce,"m",Au).call(this,S),E.current_tool_call_index!=null&&K(this,ce,"m",xu).call(this,S,E.current_tool_call_index));for(const k of g.delta.tool_calls??[])E.current_tool_call_index!==k.index&&(K(this,ce,"m",Au).call(this,S),E.current_tool_call_index!=null&&K(this,ce,"m",xu).call(this,S,E.current_tool_call_index)),E.current_tool_call_index=k.index;for(const k of g.delta.tool_calls??[]){const b=(w=S.message.tool_calls)==null?void 0:w[k.index];b!=null&&b.type&&((b==null?void 0:b.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(m=b.function)==null?void 0:m.name,index:k.index,arguments:b.function.arguments,parsed_arguments:b.function.parsed_arguments,arguments_delta:((d=k.function)==null?void 0:d.arguments)??""}):(b==null||b.type,void 0))}}},xu=function(n,r){var o,l,a;if(K(this,ce,"m",Zi).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(a=(l=K(this,Dt,"f"))==null?void 0:l.tools)==null?void 0:a.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:_i(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Au=function(n){var s,i;const r=K(this,ce,"m",Zi).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=K(this,ce,"m",Pu).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},eo=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");const n=K(this,Zt,"f");if(!n)throw new D("request ended without sending any chunks");return tr(this,Zt,void 0,"f"),tr(this,nr,[],"f"),f_(n,K(this,Dt,"f"))},Pu=function(){var r;const n=(r=K(this,Dt,"f"))==null?void 0:r.response_format;return e0(n)?n:null},Ap=function(n){var r,s,i,o;let l=K(this,Zt,"f");const{choices:a,...u}=n;l?Object.assign(l,u):l=tr(this,Zt,{...u,choices:[]},"f");for(const{delta:h,finish_reason:c,index:f,logprobs:p=null,...v}of n.choices){let y=l.choices[f];if(y||(y=l.choices[f]={finish_reason:c,index:f,message:{},logprobs:p,...v}),p)if(!y.logprobs)y.logprobs=Object.assign({},p);else{const{content:k,refusal:b,..._}=p;Object.assign(y.logprobs,_),k&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(...k)),b&&((s=y.logprobs).refusal??(s.refusal=[]),y.logprobs.refusal.push(...b))}if(c&&(y.finish_reason=c,K(this,Dt,"f")&&t0(K(this,Dt,"f")))){if(c==="length")throw new qw;if(c==="content_filter")throw new Vw}if(Object.assign(y,v),!h)continue;const{content:w,refusal:m,function_call:d,role:g,tool_calls:S,...E}=h;if(Object.assign(y.message,E),m&&(y.message.refusal=(y.message.refusal||"")+m),g&&(y.message.role=g),d&&(y.message.function_call?(d.name&&(y.message.function_call.name=d.name),d.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=d.arguments)):y.message.function_call=d),w&&(y.message.content=(y.message.content||"")+w,!y.message.refusal&&K(this,ce,"m",Pu).call(this)&&(y.message.parsed=xp(y.message.content))),S){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:k,id:b,type:_,function:N,...A}of S){const I=(o=y.message.tool_calls)[k]??(o[k]={});Object.assign(I,A),b&&(I.id=b),_&&(I.type=_),N&&(I.function??(I.function={name:N.name??"",arguments:""})),N!=null&&N.name&&(I.function.name=N.name),N!=null&&N.arguments&&(I.function.arguments+=N.arguments,s_(K(this,Dt,"f"),I)&&(I.function.parsed_arguments=xp(I.function.arguments)))}}}return l},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new fi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function f_(t,e){const{id:n,choices:r,created:s,model:i,system_fingerprint:o,...l}=t,a={...l,id:n,choices:r.map(({message:u,finish_reason:h,index:c,logprobs:f,...p})=>{if(!h)throw new D(`missing finish_reason for choice ${c}`);const{content:v=null,function_call:y,tool_calls:w,...m}=u,d=u.role;if(!d)throw new D(`missing role for choice ${c}`);if(y){const{arguments:g,name:S}=y;if(g==null)throw new D(`missing function_call.arguments for choice ${c}`);if(!S)throw new D(`missing function_call.name for choice ${c}`);return{...p,message:{content:v,function_call:{arguments:g,name:S},role:d,refusal:u.refusal??null},finish_reason:h,index:c,logprobs:f}}return w?{...p,index:c,finish_reason:h,logprobs:f,message:{...m,role:d,content:v,refusal:u.refusal??null,tool_calls:w.map((g,S)=>{const{function:E,type:k,id:b,..._}=g,{arguments:N,name:A,...I}=E||{};if(b==null)throw new D(`missing choices[${c}].tool_calls[${S}].id
${to(t)}`);if(k==null)throw new D(`missing choices[${c}].tool_calls[${S}].type
${to(t)}`);if(A==null)throw new D(`missing choices[${c}].tool_calls[${S}].function.name
${to(t)}`);if(N==null)throw new D(`missing choices[${c}].tool_calls[${S}].function.arguments
${to(t)}`);return{..._,id:b,type:k,function:{...I,name:A,arguments:N}}})}}:{...p,message:{...m,content:v,role:d,refusal:u.refusal??null},finish_reason:h,index:c,logprobs:f}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return t_(a,e)}function to(t){return JSON.stringify(t)}class Mr extends hi{static fromReadableStream(e){const n=new Mr(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const s=new Mr(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new Mr(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}}let g0=class extends z{parse(e,n){return i_(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>Pd(r,e))}runFunctions(e,n){return e.stream?Mr.runFunctions(this._client,e,n):di.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?Mr.runTools(this._client,e,n):di.runTools(this._client,e,n)}stream(e,n){return hi.createChatCompletion(this._client,e,n)}},yl=class extends z{constructor(){super(...arguments),this.completions=new g0(this._client)}};(function(t){t.Completions=g0})(yl||(yl={}));var $=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},qe=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Se,Xc,$t,bo,mt,Bn,_r,Nn,gl,He,Co,xo,zs,As,Ps,Pp,Rp,Np,$p,Ip,Op,Tp;class vt extends Zw{constructor(){super(...arguments),Se.add(this),Xc.set(this,[]),$t.set(this,{}),bo.set(this,{}),mt.set(this,void 0),Bn.set(this,void 0),_r.set(this,void 0),Nn.set(this,void 0),gl.set(this,void 0),He.set(this,void 0),Co.set(this,void 0),xo.set(this,void 0),zs.set(this,void 0)}[(Xc=new WeakMap,$t=new WeakMap,bo=new WeakMap,mt=new WeakMap,Bn=new WeakMap,_r=new WeakMap,Nn=new WeakMap,gl=new WeakMap,He=new WeakMap,Co=new WeakMap,xo=new WeakMap,zs=new WeakMap,Se=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new vt;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=fi.fromReadableStream(e,this.controller);for await(const o of s)$(this,Se,"m",As).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new wt;return this._addRun($(this,Se,"m",Ps).call(this))}toReadableStream(){return new fi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s,i){const o=new vt;return o._run(()=>o._runToolAssistantStream(e,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,s,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...s,stream:!0},a=await e.submitToolOutputs(n,r,l,{...i,signal:this.controller.signal});this._connected();for await(const h of a)$(this,Se,"m",As).call(this,h);if((u=a.controller.signal)!=null&&u.aborted)throw new wt;return this._addRun($(this,Se,"m",Ps).call(this))}static createThreadAssistantStream(e,n,r){const s=new vt;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const i=new vt;return i._run(()=>i._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return $(this,Co,"f")}currentRun(){return $(this,xo,"f")}currentMessageSnapshot(){return $(this,mt,"f")}currentRunStepSnapshot(){return $(this,zs,"f")}async finalRunSteps(){return await this.done(),Object.values($(this,$t,"f"))}async finalMessages(){return await this.done(),Object.values($(this,bo,"f"))}async finalRun(){if(await this.done(),!$(this,Bn,"f"))throw Error("Final run was not received.");return $(this,Bn,"f")}async _createThreadAssistantStream(e,n,r){var l;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const a of o)$(this,Se,"m",As).call(this,a);if((l=o.controller.signal)!=null&&l.aborted)throw new wt;return this._addRun($(this,Se,"m",Ps).call(this))}async _createAssistantStream(e,n,r,s){var a;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await e.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const u of l)$(this,Se,"m",As).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new wt;return this._addRun($(this,Se,"m",Ps).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let i=e[r];if(i==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(ku(i)&&ku(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!ku(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const a=i[l];a==null?i.push(o):i[l]=this.accumulateDelta(a,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s,i){return await this._createToolAssistantStream(r,e,n,s,i)}}As=function(e){if(!this.ended)switch(qe(this,Co,e,"f"),$(this,Se,"m",Np).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":$(this,Se,"m",Tp).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":$(this,Se,"m",Rp).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":$(this,Se,"m",Pp).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Ps=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");if(!$(this,Bn,"f"))throw Error("Final run has not been received");return $(this,Bn,"f")},Pp=function(e){const[n,r]=$(this,Se,"m",Ip).call(this,e,$(this,mt,"f"));qe(this,mt,n,"f"),$(this,bo,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=$(this,_r,"f")){if($(this,Nn,"f"))switch($(this,Nn,"f").type){case"text":this._emit("textDone",$(this,Nn,"f").text,$(this,mt,"f"));break;case"image_file":this._emit("imageFileDone",$(this,Nn,"f").image_file,$(this,mt,"f"));break}qe(this,_r,s.index,"f")}qe(this,Nn,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if($(this,_r,"f")!==void 0){const s=e.data.content[$(this,_r,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,$(this,mt,"f"));break;case"text":this._emit("textDone",s.text,$(this,mt,"f"));break}}$(this,mt,"f")&&this._emit("messageDone",e.data),qe(this,mt,void 0,"f")}},Rp=function(e){const n=$(this,Se,"m",$p).call(this,e);switch(qe(this,zs,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==$(this,gl,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):($(this,He,"f")&&this._emit("toolCallDone",$(this,He,"f")),qe(this,gl,i.index,"f"),qe(this,He,n.step_details.tool_calls[i.index],"f"),$(this,He,"f")&&this._emit("toolCallCreated",$(this,He,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":qe(this,zs,void 0,"f"),e.data.step_details.type=="tool_calls"&&$(this,He,"f")&&(this._emit("toolCallDone",$(this,He,"f")),qe(this,He,void 0,"f")),this._emit("runStepDone",e.data,n);break}},Np=function(e){$(this,Xc,"f").push(e),this._emit("event",e)},$p=function(e){switch(e.event){case"thread.run.step.created":return $(this,$t,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=$(this,$t,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=vt.accumulateDelta(n,r.delta);$(this,$t,"f")[e.data.id]=s}return $(this,$t,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":$(this,$t,"f")[e.data.id]=e.data;break}if($(this,$t,"f")[e.data.id])return $(this,$t,"f")[e.data.id];throw new Error("No snapshot available")},Ip=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=$(this,Se,"m",Op).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Op=function(e,n){return vt.accumulateDelta(n,e)},Tp=function(e){switch(qe(this,xo,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":qe(this,Bn,e.data,"f"),$(this,He,"f")&&(this._emit("toolCallDone",$(this,He,"f")),qe(this,He,void 0,"f"));break}};class wl extends z{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Ke(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,Rd,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Rd extends xt{}(function(t){t.MessagesPage=Rd})(wl||(wl={}));class vl extends z{retrieve(e,n,r,s={},i){return Ke(s)?this.retrieve(e,n,r,{},s):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,r={},s){return Ke(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,Nd,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Nd extends xt{}(function(t){t.RunStepsPage=Nd})(vl||(vl={}));class Sl extends z{constructor(){super(...arguments),this.steps=new vl(this._client)}create(e,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Ke(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,$d,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}createAndStream(e,n,r){return vt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await Ei(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,r){return vt.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,s){const i=await this.submitToolOutputs(e,n,r,s);return await this.poll(e,i.id,s)}submitToolOutputsStream(e,n,r,s){return vt.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,s)}}class $d extends xt{}(function(t){t.RunsPage=$d,t.Steps=vl,t.RunStepsPage=Nd})(Sl||(Sl={}));class kl extends z{constructor(){super(...arguments),this.runs=new Sl(this._client),this.messages=new wl(this._client)}create(e={},n){return Ke(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return vt.createThreadAssistantStream(e,this._client.beta.threads,n)}}(function(t){t.Runs=Sl,t.RunsPage=$d,t.Messages=wl,t.MessagesPage=Rd})(kl||(kl={}));const d_=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};let El=class extends z{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return Ke(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,Ra,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=i.response.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await Ei(l);break;case"failed":case"completed":return o}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}};class Ra extends xt{}(function(t){t.VectorStoreFilesPage=Ra})(El||(El={}));class _l extends z{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r={},s){return Ke(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,Ra,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await Ei(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),l=this._client,a=n.values(),u=[...r];async function h(f){for(let p of f){const v=await l.files.create({file:p,purpose:"assistants"},s);u.push(v.id)}}const c=Array(o).fill(a).map(h);return await d_(c),await this.createAndPoll(e,{file_ids:u})}}_l||(_l={});class bl extends z{constructor(){super(...arguments),this.files=new El(this._client),this.fileBatches=new _l(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Ke(e)?this.list({},e):this._client.getAPIList("/vector_stores",Id,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Id extends xt{}(function(t){t.VectorStoresPage=Id,t.Files=El,t.VectorStoreFilesPage=Ra,t.FileBatches=_l})(bl||(bl={}));class Cl extends z{constructor(){super(...arguments),this.vectorStores=new bl(this._client),this.chat=new yl(this._client),this.assistants=new dl(this._client),this.threads=new kl(this._client)}}(function(t){t.VectorStores=bl,t.VectorStoresPage=Id,t.Chat=yl,t.Assistants=dl,t.AssistantsPage=Ad,t.Threads=kl})(Cl||(Cl={}));let xl=class extends z{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}};xl||(xl={});let Al=class extends z{create(e,n){return this._client.post("/embeddings",{body:e,...n})}};Al||(Al={});class Pl extends z{create(e,n){return this._client.post("/files",Qr({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Ke(e)?this.list({},e):this._client.getAPIList("/files",Od,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!s.has(o.status);)if(await Ei(n),o=await this.retrieve(e),Date.now()-i>r)throw new bd({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}}class Od extends Cd{}(function(t){t.FileObjectsPage=Od})(Pl||(Pl={}));class Rl extends z{list(e,n={},r){return Ke(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Td,{query:n,...r})}}class Td extends xt{}(function(t){t.FineTuningJobCheckpointsPage=Td})(Rl||(Rl={}));class Nl extends z{constructor(){super(...arguments),this.checkpoints=new Rl(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Ke(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Ld,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return Ke(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Md,{query:n,...r})}}class Ld extends xt{}class Md extends xt{}(function(t){t.FineTuningJobsPage=Ld,t.FineTuningJobEventsPage=Md,t.Checkpoints=Rl,t.FineTuningJobCheckpointsPage=Td})(Nl||(Nl={}));class $l extends z{constructor(){super(...arguments),this.jobs=new Nl(this._client)}}(function(t){t.Jobs=Nl,t.FineTuningJobsPage=Ld,t.FineTuningJobEventsPage=Md})($l||($l={}));class Il extends z{createVariation(e,n){return this._client.post("/images/variations",Qr({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Qr({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}Il||(Il={});let Ol=class extends z{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Bd,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}};class Bd extends Cd{}(function(t){t.ModelsPage=Bd})(Ol||(Ol={}));class Tl extends z{create(e,n){return this._client.post("/moderations",{body:e,...n})}}Tl||(Tl={});class Ll extends z{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,Qr({body:n,...r}))}}Ll||(Ll={});class Ml extends z{constructor(){super(...arguments),this.parts=new Ll(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}(function(t){t.Parts=Ll})(Ml||(Ml={}));var w0;class oe extends IE{constructor({baseURL:e=Gi("OPENAI_BASE_URL"),apiKey:n=Gi("OPENAI_API_KEY"),organization:r=Gi("OPENAI_ORG_ID")??null,project:s=Gi("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new D("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&KE())throw new D(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new xl(this),this.chat=new ol(this),this.embeddings=new Al(this),this.files=new Pl(this),this.images=new Il(this),this.audio=new cl(this),this.moderations=new Tl(this),this.models=new Ol(this),this.fineTuning=new $l(this),this.beta=new Cl(this),this.batches=new fl(this),this.uploads=new Ml(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return e_(e,{arrayFormat:"brackets"})}}w0=oe;oe.OpenAI=w0;oe.DEFAULT_TIMEOUT=6e5;oe.OpenAIError=D;oe.APIError=We;oe.APIConnectionError=Pa;oe.APIConnectionTimeoutError=bd;oe.APIUserAbortError=wt;oe.NotFoundError=Fw;oe.ConflictError=Uw;oe.RateLimitError=Kw;oe.BadRequestError=Bw;oe.AuthenticationError=Dw;oe.InternalServerError=Ww;oe.PermissionDeniedError=jw;oe.UnprocessableEntityError=zw;oe.toFile=Rw;oe.fileFromPath=bw;(function(t){t.Page=Cd,t.CursorPage=xt,t.Completions=xl,t.Chat=ol,t.Embeddings=Al,t.Files=Pl,t.FileObjectsPage=Od,t.Images=Il,t.Audio=cl,t.Moderations=Tl,t.Models=Ol,t.ModelsPage=Bd,t.FineTuning=$l,t.Beta=Cl,t.Batches=fl,t.BatchesPage=xd,t.Uploads=Ml})(oe||(oe={}));const ir="0.7.0";let Lp=!1,Ks,v0,S0,Jc,k0,E0,_0,b0,C0;function h_(t,e={auto:!1}){if(Lp)throw new Error(`you must \`import 'groq-sdk/shims/${t.kind}'\` before importing anything else from groq-sdk`);if(Ks)throw new Error(`can't \`import 'groq-sdk/shims/${t.kind}'\` after \`import 'groq-sdk/shims/${Ks}'\``);Lp=e.auto,Ks=t.kind,v0=t.fetch,S0=t.FormData,Jc=t.File,k0=t.ReadableStream,E0=t.getMultipartRequestOptions,_0=t.getDefaultAgent,b0=t.fileFromPath,C0=t.isFsReadStream}let p_=class{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}};function m_({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new p_(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:o=>!1}}Ks||h_(m_(),{auto:!0});let y_=class Rs{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;const s=new g_;async function*i(){if(!e.body)throw n.abort(),new Et("Attempted to iterate over a response with no body");const l=new Bl,a=Mp(e.body);for await(const u of a)for(const h of l.decode(u)){const c=s.decode(h);c&&(yield c)}for(const u of l.flush()){const h=s.decode(u);h&&(yield h)}}async function*o(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const a of i())if(!l){if(a.data.startsWith("[DONE]")){l=!0;continue}if(a.event===null||a.event==="error"){let u;try{u=JSON.parse(a.data)}catch(h){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),h}if(u&&u.error)throw new tt(u.error.status_code,u.error,u.error.message,void 0);yield u}}l=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{l||n.abort()}}return new Rs(o,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const o=new Bl,l=Mp(e);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Rs(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new Rs(()=>s(e),this.controller),new Rs(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new k0({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}},g_=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=w_(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}},Bl=class Qc{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Qc.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(Qc.NEWLINE_REGEXP);return s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Et(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Et(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Et("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}};Bl.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Bl.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function w_(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function Mp(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const x0=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",A0=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Dd(t),Dd=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",v_=t=>A0(t)||x0(t)||C0(t);async function P0(t,e,n){var s;if(t=await t,n??(n=A0(t)?{lastModified:t.lastModified,type:t.type}:{}),x0(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Jc([i],e,n)}const r=await S_(t);if(e||(e=E_(t)??"unknown_file"),!n.type){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Jc(r,e,n)}async function S_(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Dd(t))e.push(await t.arrayBuffer());else if(__(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${k_(t)}`);return e}function k_(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function E_(t){var e;return Ru(t.name)||Ru(t.filename)||((e=Ru(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Ru=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},__=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Bp=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",R0=async t=>{const e=await b_(t.body);return E0(e,t)},b_=async t=>{const e=new S0;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Yc(e,n,r))),e},Yc=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(v_(n)){const r=await P0(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Yc(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Yc(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Br={};async function N0(t){const{response:e}=t;if(t.options.stream)return Dr("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):y_.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return Dr("response",e.status,e.url,e.headers,i),i}const s=await e.text();return Dr("response",e.status,e.url,e.headers,s),s}let $0=class I0 extends Promise{constructor(e,n=N0){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new I0(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}},C_=class{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e4,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=Nu("maxRetries",n),this.timeout=Nu("timeout",r),this.httpAgent=s,this.fetch=i??v0}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...N_(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${B_()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&Dd(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:i}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){var v;const{method:n,path:r,query:s,headers:i={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Bp(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),a=this.buildURL(r,s);"timeout"in e&&Nu("timeout",e.timeout);const u=e.timeout??this.timeout,h=e.httpAgent??this.httpAgent??_0(a),c=u+1e3;typeof((v=h==null?void 0:h.options)==null?void 0:v.timeout)=="number"&&c>(h.options.timeout??0)&&(h.options.timeout=c),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:e,headers:i,contentLength:l});return{req:{method:n,...o&&{body:o},headers:f,...h&&{agent:h},signal:e.signal??null},url:a,timeout:u}}buildHeaders({options:e,headers:n,contentLength:r}){const s={};r&&(s["content-length"]=r);const i=this.defaultHeaders(e);return zp(s,i),zp(s,n),Bp(e.body)&&Ks!=="node"&&delete s["content-type"],this.validateHeaders(s,n),s}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return tt.generate(e,n,r,s)}request(e,n=null){return new $0(this.makeRequest(e,n))}async makeRequest(e,n){var h,c;const r=await e;n==null&&(n=r.maxRetries??this.maxRetries),await this.prepareOptions(r);const{req:s,url:i,timeout:o}=this.buildRequest(r);if(await this.prepareRequest(s,{url:i,options:r}),Dr("request",i,r,s.headers),(h=r.signal)!=null&&h.aborted)throw new ef;const l=new AbortController,a=await this.fetchWithTimeout(i,s,o,l).catch(Gc);if(a instanceof Error){if((c=r.signal)!=null&&c.aborted)throw new ef;if(n)return this.retryRequest(r,n);throw a.name==="AbortError"?new O0:new Na({cause:a})}const u=A_(a.headers);if(!a.ok){if(n&&this.shouldRetry(a)){const m=`retrying, ${n} attempts remaining`;return Dr(`response (error; ${m})`,a.status,i,u),this.retryRequest(r,n,u)}const f=await a.text().catch(m=>Gc(m).message),p=$_(f),v=p?void 0:f;throw Dr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,a.status,i,u,v),this.makeStatusError(a.status,p,v,u)}return{response:a,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new x_(this,r,e)}buildURL(e,n){const r=O_(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return L_(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Et(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,e,{signal:s.signal,...o}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await T_(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ir}`}},x_=class extends $0{constructor(e,n,r){super(n,async s=>new r(e,s.response,await N0(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}};const A_=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),P_=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ir,"X-Stainless-OS":jp(Deno.build.os),"X-Stainless-Arch":Dp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ir,"X-Stainless-OS":jp(process.platform),"X-Stainless-Arch":Dp(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=R_();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function R_(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const Dp=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",jp=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Fp;const N_=()=>Fp??(Fp=P_()),$_=t=>{try{return JSON.parse(t)}catch{return}},I_=new RegExp("^(?:[a-z]+:)?//","i"),O_=t=>I_.test(t),T_=t=>new Promise(e=>setTimeout(e,t)),Nu=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Et(`${t} must be an integer`);if(e<0)throw new Et(`${t} must be a positive integer`);return e},Gc=t=>t instanceof Error?t:new Error(t),Up=t=>{var e,n,r,s;if(typeof process<"u")return((e=Br==null?void 0:Br[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function L_(t){if(!t)return!0;for(const e in t)return!1;return!0}function M_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zp(t,e){for(const n in e){if(!M_(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}function Dr(t,...e){typeof process<"u"&&(Br==null?void 0:Br.DEBUG)==="true"&&console.log(`Groq:DEBUG:${t}`,...e)}const B_=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),D_=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class Et extends Error{}let tt=class Zc extends Et{constructor(e,n,r,s){super(`${Zc.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e)return new Na({cause:Gc(n)});const i=n;return e===400?new T0(e,i,r,s):e===401?new L0(e,i,r,s):e===403?new M0(e,i,r,s):e===404?new B0(e,i,r,s):e===409?new D0(e,i,r,s):e===422?new j0(e,i,r,s):e===429?new F0(e,i,r,s):e>=500?new U0(e,i,r,s):new Zc(e,i,r,s)}},ef=class extends tt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}},Na=class extends tt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}},O0=class extends Na{constructor({message:e}={}){super({message:e??"Request timed out."})}},T0=class extends tt{constructor(){super(...arguments),this.status=400}},L0=class extends tt{constructor(){super(...arguments),this.status=401}},M0=class extends tt{constructor(){super(...arguments),this.status=403}},B0=class extends tt{constructor(){super(...arguments),this.status=404}},D0=class extends tt{constructor(){super(...arguments),this.status=409}},j0=class extends tt{constructor(){super(...arguments),this.status=422}},F0=class extends tt{constructor(){super(...arguments),this.status=429}},U0=class extends tt{},bn=class{constructor(e){this._client=e}};class Dl extends bn{create(e,n){return this._client.post("/openai/v1/audio/transcriptions",R0({body:e,...n}))}}Dl||(Dl={});class jl extends bn{create(e,n){return this._client.post("/openai/v1/audio/translations",R0({body:e,...n}))}}jl||(jl={});class Fl extends bn{constructor(){super(...arguments),this.transcriptions=new Dl(this._client),this.translations=new jl(this._client)}}(function(t){t.Transcriptions=Dl,t.Translations=jl})(Fl||(Fl={}));let Ul=class extends bn{create(e,n){return this._client.post("/openai/v1/chat/completions",{body:e,...n,stream:e.stream??!1})}};Ul||(Ul={});let zl=class extends bn{constructor(){super(...arguments),this.completions=new Ul(this._client)}};(function(t){t.Completions=Ul})(zl||(zl={}));let Kl=class extends bn{};Kl||(Kl={});class Wl extends bn{create(e,n){return this._client.post("/openai/v1/embeddings",{body:e,...n})}}Wl||(Wl={});let ql=class extends bn{retrieve(e,n){return this._client.get(`/openai/v1/models/${e}`,n)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,n){return this._client.delete(`/openai/v1/models/${e}`,n)}};ql||(ql={});var z0;class le extends C_{constructor({baseURL:e=Up("GROQ_BASE_URL"),apiKey:n=Up("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new Et("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const s={apiKey:n,...r,baseURL:e||"https://api.groq.com"};if(!s.dangerouslyAllowBrowser&&D_())throw new Et(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:s.baseURL,timeout:s.timeout??6e4,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new Kl(this),this.chat=new zl(this),this.embeddings=new Wl(this),this.audio=new Fl(this),this.models=new ql(this),this._options=s,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}z0=le;le.Groq=z0;le.DEFAULT_TIMEOUT=6e4;le.GroqError=Et;le.APIError=tt;le.APIConnectionError=Na;le.APIConnectionTimeoutError=O0;le.APIUserAbortError=ef;le.NotFoundError=B0;le.ConflictError=D0;le.RateLimitError=F0;le.BadRequestError=T0;le.AuthenticationError=L0;le.InternalServerError=U0;le.PermissionDeniedError=M0;le.UnprocessableEntityError=j0;le.toFile=P0;le.fileFromPath=b0;(function(t){t.Completions=Kl,t.Chat=zl,t.Embeddings=Wl,t.Audio=Fl,t.Models=ql})(le||(le={}));const or="1.7.0";let Kp=!1,Ws,K0,tf,W0,q0,V0;function j_(t,e={auto:!1}){if(Kp)throw new Error(`you must \`import '@cerebras/cerebras_cloud_sdk/shims/${t.kind}'\` before importing anything else from @cerebras/cerebras_cloud_sdk`);if(Ws)throw new Error(`can't \`import '@cerebras/cerebras_cloud_sdk/shims/${t.kind}'\` after \`import '@cerebras/cerebras_cloud_sdk/shims/${Ws}'\``);Kp=e.auto,Ws=t.kind,K0=t.fetch,tf=t.File,W0=t.ReadableStream,q0=t.getDefaultAgent,V0=t.fileFromPath}class F_{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function U_({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from '@cerebras/cerebras_cloud_sdk'`:\n- `import '@cerebras/cerebras_cloud_sdk/shims/node'` (if you're running on Node)\n- `import '@cerebras/cerebras_cloud_sdk/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new F_(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/Cerebras/cerebras-cloud-sdk-node#file-uploads")},isFsReadStream:o=>!1}}Ws||j_(U_(),{auto:!0});class br{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of z_(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(l&&l.error){const a=l.status_code||0;throw be.generate(a,l.error,void 0,void 0)}yield l}else{let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event=="error"){const a=l.status_code||0;throw be.generate(a,l.error,void 0,void 0)}yield{event:o.event,data:l}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new br(s,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const o=new Hn,l=H0(e);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new br(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new br(()=>s(e),this.controller),new br(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new W0({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*z_(t,e){if(!t.body)throw e.abort(),new Mt("Attempted to iterate over a response with no body");const n=new q_,r=new Hn,s=H0(t.body);for await(const i of K_(s))for(const o of r.decode(i)){const l=n.decode(o);l&&(yield l)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*K_(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=W_(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function W_(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class q_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=V_(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}class Hn{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Hn.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(Hn.NEWLINE_REGEXP);return r&&s.pop(),s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Mt(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Mt(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Mt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Hn.NEWLINE_CHARS=new Set([`
`,"\r"]);Hn.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function V_(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function H0(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const H_=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",X_=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&$a(t),$a=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function";async function J_(t,e,n){var s;if(t=await t,X_(t))return t;if(H_(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=$a(i)?[await i.arrayBuffer()]:[i];return new tf(o,e,n)}const r=await Q_(t);if(e||(e=G_(t)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new tf(r,e,n)}async function Q_(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if($a(t))e.push(await t.arrayBuffer());else if(Z_(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${Y_(t)}`);return e}function Y_(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function G_(t){var e;return $u(t.name)||$u(t.filename)||((e=$u(t.path))==null?void 0:e.split(/[\\/]/).pop())}const $u=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},Z_=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Wp=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody";var jr={};async function X0(t){const{response:e}=t;if(t.options.stream)return Fr("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):br.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return Fr("response",e.status,e.url,e.headers,i),i}const s=await e.text();return Fr("response",e.status,e.url,e.headers,s),s}class Ia extends Promise{constructor(e,n=X0){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Ia(this.responsePromise,async n=>e(await this.parseResponse(n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class eb{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e4,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=Iu("maxRetries",n),this.timeout=Iu("timeout",r),this.httpAgent=s,this.fetch=i??K0}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...ob(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${fb()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&$a(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:i}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var y;const{method:r,path:s,query:i,headers:o={}}=e,l=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Wp(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,a=this.calculateContentLength(l),u=this.buildURL(s,i);"timeout"in e&&Iu("timeout",e.timeout);const h=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??q0(u),f=h+1e3;typeof((y=c==null?void 0:c.options)==null?void 0:y.timeout)=="number"&&f>(c.options.timeout??0)&&(c.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const p=this.buildHeaders({options:e,headers:o,contentLength:a,retryCount:n});return{req:{method:r,...l&&{body:l},headers:p,...c&&{agent:c},signal:e.signal??null},url:u,timeout:h}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(e);return Qp(i,o),Qp(i,n),Wp(e.body)&&Ws!=="node"&&delete i["content-type"],hb(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return be.generate(e,n,r,s)}request(e,n=null){return new Ia(this.makeRequest(e,n))}async makeRequest(e,n){var c,f;const r=await e,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:l}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),Fr("request",o,r,i.headers),(c=r.signal)!=null&&c.aborted)throw new rf;const a=new AbortController,u=await this.fetchWithTimeout(o,i,l,a).catch(nf);if(u instanceof Error){if((f=r.signal)!=null&&f.aborted)throw new rf;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new Y0:new Oa({cause:u})}const h=nb(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const d=`retrying, ${n} attempts remaining`;return Fr(`response (error; ${d})`,u.status,o,h),this.retryRequest(r,n,h)}const p=await u.text().catch(d=>nf(d).message),v=lb(p),y=v?void 0:p;throw Fr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,h,y),this.makeStatusError(u.status,v,y,h)}return{response:u,options:r,controller:a}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new tb(this,r,e)}buildURL(e,n){const r=ub(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return J0(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Mt(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,e,{signal:s.signal,...o}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await cb(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${or}`}}class tb extends Ia{constructor(e,n,r){super(n,async s=>new r(e,s.response,await X0(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const nb=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),rb={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},qp=t=>typeof t=="object"&&t!==null&&!J0(t)&&Object.keys(t).every(e=>Q0(rb,e)),sb=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":or,"X-Stainless-OS":Hp(Deno.build.os),"X-Stainless-Arch":Vp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":or,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":or,"X-Stainless-OS":Hp(process.platform),"X-Stainless-Arch":Vp(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=ib();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":or,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":or,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ib(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const Vp=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Hp=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Xp;const ob=()=>Xp??(Xp=sb()),lb=t=>{try{return JSON.parse(t)}catch{return}},ab=new RegExp("^(?:[a-z]+:)?//","i"),ub=t=>ab.test(t),cb=t=>new Promise(e=>setTimeout(e,t)),Iu=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Mt(`${t} must be an integer`);if(e<0)throw new Mt(`${t} must be a positive integer`);return e},nf=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Jp=t=>{var e,n,r,s;if(typeof process<"u")return((e=jr==null?void 0:jr[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function J0(t){if(!t)return!0;for(const e in t)return!1;return!0}function Q0(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qp(t,e){for(const n in e){if(!Q0(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}function Fr(t,...e){typeof process<"u"&&(jr==null?void 0:jr.DEBUG)==="true"&&console.log(`Cerebras:DEBUG:${t}`,...e)}const fb=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),db=t=>typeof(t==null?void 0:t.get)=="function",hb=(t,e)=>{var r;const n=e.toLowerCase();if(db(t)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,o,l)=>o+l.toUpperCase());for(const i of[e,n,e.toUpperCase(),s]){const o=t.get(i);if(o)return o}}for(const[s,i]of Object.entries(t))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};class Mt extends Error{}class be extends Mt{constructor(e,n,r,s){super(`${be.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(e===void 0)return new Oa({cause:nf(n)});const i=n;return e===400?new G0(e,i,r,s):e===401?new Z0(e,i,r,s):e===403?new e1(e,i,r,s):e===404?new t1(e,i,r,s):e===409?new n1(e,i,r,s):e===422?new r1(e,i,r,s):e===429?new s1(e,i,r,s):e>=500?new i1(e,i,r,s):new be(e,i,r,s)}}class rf extends be{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class Oa extends be{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class Y0 extends Oa{constructor({message:e}={}){super({message:e??"Request timed out."})}}class G0 extends be{constructor(){super(...arguments),this.status=400}}class Z0 extends be{constructor(){super(...arguments),this.status=401}}class e1 extends be{constructor(){super(...arguments),this.status=403}}class t1 extends be{constructor(){super(...arguments),this.status=404}}class n1 extends be{constructor(){super(...arguments),this.status=409}}class r1 extends be{constructor(){super(...arguments),this.status=422}}class s1 extends be{constructor(){super(...arguments),this.status=429}}class i1 extends be{}class jd{constructor(e){this._client=e}}class Vl extends jd{create(e,n){const{"X-Amz-Cf-Id":r,"X-delay-time":s,...i}=e;return this._client.post("/v1/chat/completions",{body:i,...n,stream:i.stream??!1,headers:{...r!=null?{"X-Amz-Cf-Id":r}:void 0,...(s==null?void 0:s.toString())!=null?{"X-delay-time":s==null?void 0:s.toString()}:void 0,...n==null?void 0:n.headers}})}}Vl||(Vl={});class Hl extends jd{constructor(){super(...arguments),this.completions=new Vl(this._client)}}(function(t){t.Completions=Vl})(Hl||(Hl={}));class Xl extends jd{retrieve(e,n={},r){if(qp(n))return this.retrieve(e,{},n);const{"X-Amz-Cf-Id":s}=n;return this._client.get(`/v1/models/${e}`,{...r,headers:{...s!=null?{"X-Amz-Cf-Id":s}:void 0,...r==null?void 0:r.headers}})}list(e={},n){if(qp(e))return this.list({},e);const{"X-Amz-Cf-Id":r}=e;return this._client.get("/v1/models",{...n,headers:{...r!=null?{"X-Amz-Cf-Id":r}:void 0,...n==null?void 0:n.headers}})}}Xl||(Xl={});var o1;class ae extends eb{constructor({baseURL:e=Jp("CEREBRAS_BASE_URL"),apiKey:n=Jp("CEREBRAS_API_KEY"),warmTCPConnection:r=!0,...s}={}){if(n===void 0)throw new Mt("The CEREBRAS_API_KEY environment variable is missing or empty; either provide it, or instantiate the Cerebras client with an apiKey option, like new Cerebras({ apiKey: 'My API Key' }).");const i={apiKey:n,...s,baseURL:e||"https://api.cerebras.ai"};super({baseURL:i.baseURL,timeout:i.timeout??6e4,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.chat=new Hl(this),this.models=new Xl(this),this._options=i,this.apiKey=n,r&&(async()=>{try{for(let o=0;o<5;o++)await this.models.list({},{timeout:1e3,maxRetries:0})}catch{}})()}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}o1=ae;ae.Cerebras=o1;ae.DEFAULT_TIMEOUT=6e4;ae.CerebrasError=Mt;ae.APIError=be;ae.APIConnectionError=Oa;ae.APIConnectionTimeoutError=Y0;ae.APIUserAbortError=rf;ae.NotFoundError=t1;ae.ConflictError=n1;ae.RateLimitError=s1;ae.BadRequestError=G0;ae.AuthenticationError=Z0;ae.InternalServerError=i1;ae.PermissionDeniedError=e1;ae.UnprocessableEntityError=r1;ae.toFile=J_;ae.fileFromPath=V0;(function(t){t.Chat=Hl,t.Models=Xl})(ae||(ae={}));function Fd(){const t=X.stage.width,e=X.stage.height,n=`
    - top left corner: ${-t/2}x${-e/2}
    - bottom right corner: ${t/2}x${e/2}
  `,r=sf(JSON.parse(JSON.stringify(X.entities))),s=`
`+sl.stringify(r,{});return`
You are an AI assistant that generates javascript code snippets for a game engine to directly manipulate the game world and achieve what the user asked.

Notes: 
- "search" parameter for entities can be entity's uuid, name, or behavior type.

You can use these methods:
- addEntity(entityBlueprint: StageEntityBlueprint): Entity
- duplicateEntity(search: string | ((entity) => boolean)): Entity | undefined
- getEntity(search: string | ((entity) => boolean)): Entity | undefined
- getEntities(search: string | ((entity) => boolean) | string[]): Entity[]
- removeEntity(search: string | ((entity) => boolean))
- selectEntities(search: string | ((entity) => boolean) | string[]): Entity[] 
- deselectEntities(search: string | ((entity) => boolean) | string[])
- clearSelection()
- clearWorld()

Entities have these methods and properties:
- entity.x: number
- entity.y: number
- entity.rotation: number
- entity.scale: number
- entity.uuid: string
- entity.getBehavior(search: string | ((behavior) => boolean), createIfNotFound: boolean): BehaviorProps | undefined
- entity.removeBehavior(search: string | ((behavior) => boolean))
- entity.addBehavior(behaviorBlueprint): BehaviorProps
- entity.getBounds(): { x, y, width, height }
- entity.isInRange(x, y, range): boolean
- entity.getDistance(x, y): number
- entity.destroy()

Built-in behaviors:
- RenderCircle: { type: "RenderCircle", radius: number }
- ChangeColor: { type: "ChangeColor", color: string }
- SimplifyMesh: { type: "SimplifyMesh", sides: number }
- CustomBehavior: { type: "CustomBehavior", name: string, onTick?: string, [extrakeys: string]: any }
- RenderEmoji: { type: "RenderEmoji", emoji: string, fontSize?: number }

You can check if a button is pressed with:
- input.isKeyPressed(key: string): boolean
- input.isMouseButtonPressed(button: "left" | "middle" | "right"): boolean
- input.getMousePosition(): { x: number; y: number }
- input.getAxis(axisName: "Horizontal" | "Vertical"): number

Current state of the world:

Stage bounds: ${n}

Entities in the world: 
${s}

Current selection (entity ids): [${ve.selectedEntityIds.join(", ")}]

When responding to user requests, write JavaScript code using the above described api to perform the desired actions. Here are some examples:

Example 1: Add a red circle to the world
\`\`\`js
console.log(' Adding a red circle to the world');
const redCircle = addEntity({
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderCircle", radius: 25 },
    { type: "ChangeColor", color: "red" }
  ]
});
console.log(' Red circle added with UUID:', redCircle.uuid);
\`\`\`

Example 2: Select the blue circle and make it bigger and darker
\`\`\`js
console.log(' Finding and updating the blue circle');
const blueCircle = getEntity(entity => 
  entity.getBehavior("ChangeColor")?.color === "blue"
);

if (blueCircle) {
  selectEntities(blueCircle.uuid);
  blueCircle.scale *= 2;
  const colorBehavior = blueCircle.getBehavior("ChangeColor");
  if (colorBehavior) {
    colorBehavior.color = "darkblue";
  }
  console.log(' Blue circle updated');
} else {
  console.log(' Blue circle not found');
}
\`\`\`

Example 3: Make the heart pulse
\`\`\`js
console.log(' Adding pulse behavior to the heart');
const heart = getEntity(entity => 
  entity.getBehavior("RenderEmoji")?.emoji === ""
);

if (heart) {
  heart.addBehavior({
    type: "CustomBehavior",
    name: "Pulse",
    pulseSpeed: 1.1,
    pulseAmplitude: 0.1,
    onTick: \`
      entity.scale = 1 + Math.sin(totalTimeSeconds * this.pulseSpeed) * this.pulseAmplitude;
    \`
  });
  console.log(' Pulse behavior added to the heart');
} else {
  console.log(' Heart emoji not found');
}
\`\`\`

Example 4: Create a bouncing ball
\`\`\`js
console.log(' Creating a bouncing ball');
const ball = addEntity({
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderCircle", radius: 20 },
    { type: "ChangeColor", color: "orange" },
    {
      type: "CustomBehavior",
      name: "Bounce",
      bounceHeight: 100,
      bounceSpeed: 0.005,
      onTick: \`
        entity.y = Math.abs(Math.sin(totalTimeSeconds * this.bounceSpeed)) * this.bounceHeight;
      \`
    }
  ]
});
console.log(' Bouncing ball created with UUID:', ball.uuid);
\`\`\`

Example 5: Add a shaking emoji
\`\`\`js
console.log(' Adding a shaking emoji');
const shakyEmoji = addEntity({
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderEmoji", emoji: "", fontSize: 40 },
    {
      type: "CustomBehavior",
      name: "Shake",
      intensity: 4,
      onTick: \`
        entity.x += (Math.random() - 0.5) * this.intensity;
        entity.y += (Math.random() - 0.5) * this.intensity;
      \`
    }
  ]
});
console.log(' Shaking emoji added with UUID:', shakyEmoji.uuid);
\`\`\`

Example 6: Create a color-changing polygon
\`\`\`js
console.log(' Creating a color-changing polygon');
const polygon = addEntity({
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "SimplifyMesh", sides: 6 },
    { type: "ChangeColor", color: "hsl(0, 100%, 50%)" },
    {
      type: "CustomBehavior",
      name: "ColorCycle",
      cycleSpeed: 0.1,
      onTick: \`
        const hue = (totalTimeSeconds * this.cycleSpeed) % 360;
        const colorBehavior = entity.getBehavior("ChangeColor");
        if (colorBehavior) {
          colorBehavior.color = \`hsl(\${hue}, 100%, 50%)\`;
        }
      \`
    }
  ]
});
console.log(' Color-changing polygon created with UUID:', polygon.uuid);
\`\`\`

Example 7: Make all entities rotate
\`\`\`js
console.log(' Making all entities rotate');
const entities = getEntities(() => true);
entities.forEach(entity => {
  entity.addBehavior({
    type: "CustomBehavior",
    name: "Rotate",
    rotationSpeed: 0.01,
    onTick: \`
      entity.rotation += this.rotationSpeed;
    \`
  });
});
console.log(\` Rotation behavior added to \${entities.length} entities\`);
\`\`\`

Example 8: Clear the world and add random emojis
\`\`\`js
console.log(' Clearing the world and adding random emojis');
clearWorld();

const emojis = ["", "", "", "", ""];
const numEmojis = 5;

for (let i = 0; i < numEmojis; i++) {
  const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
  addEntity({
    x: Math.random() * 800 - 400,
    y: Math.random() * 600 - 300,
    rotation: 0,
    scale: 1,
    behaviors: [
      { type: "RenderEmoji", emoji: randomEmoji, fontSize: 40 }
    ]
  });
}
console.log(\` World cleared and \${numEmojis} random emojis added\`);
\`\`\`

Tips:
- You can represent recognizable objects via RenderEmoji + appropriate unicode emoji.
- For animations, user controlled charactees and bots you can use CustomBehavior.
- isInRange() is good for collision detection.
- Make sure to stay within the stage bounds when adding objects.
- Remember to use functional programming concepts and write clean and concise JavaScript code. Always include appropriate console logs to make debugging easier.
`}function sf(t){if(typeof t!="object"||t===null)return t;if(Array.isArray(t))return t.map(n=>sf(n));const e={};for(const[n,r]of Object.entries(t))typeof r=="number"?e[n]=Math.round(r):typeof r=="object"?e[n]=sf(r):e[n]=r;return e}const Ud=(t,e)=>{let n=[],r=0;const s=()=>{const l=localStorage.getItem(t);if(l)n=l.split(",");else{const a=prompt(e);if(!a)throw new Error("API keys are required");n=a.split(",").map(u=>u.trim()),localStorage.setItem(t,n.join(","))}r=Math.floor(Math.random()*n.length),console.log(` API keys initialized for ${t}`)};return{getNextApiKey:()=>{n.length===0&&s();const l=n[r];return r=(r+1)%n.length,l},resetApiKeys:()=>{localStorage.removeItem(t),n=[],r=0,console.log(` API keys reset for ${t}`)}}},Yp={hello:'console.log("Hello, World!");',fibonacci:`function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
}`,sort:`const numbers = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5];
numbers.sort((a, b) => a - b);
console.log(numbers);`,api:`async function fetchData(url) {
  try {
    const response = await fetch(url);
    const data = await response.json();
    return data;
  } catch (error) {
    console.error("Error fetching data:", error);
  }
}`};let Ou=null,no=null,ro=null;const pb=Ud("groq_api_keys","Please enter your GROQ API keys (comma-separated):"),mb=Ud("openai_api_keys","Please enter your OpenAI API keys (comma-separated):"),yb=Ud("cerebras_api_keys","Please enter your Cerebras API keys (comma-separated):"),gb=()=>{if(!Ou){const t=mb.getNextApiKey();Ou=new oe({apiKey:t,dangerouslyAllowBrowser:!0}),console.log(" OpenAI instance created")}return Ou},wb=()=>{const t=pb.getNextApiKey();return(!no||no.apiKey!==t)&&(no=new le({apiKey:t,dangerouslyAllowBrowser:!0}),console.log(" GROQ instance created with rotated API key")),no},vb=()=>{const t=yb.getNextApiKey();return(!ro||ro.apiKey!==t)&&(ro=new ae({apiKey:t}),console.log(" Cerebras instance created with rotated API key")),ro},l1={type:"object",properties:{snippet:{type:"string",description:"The JavaScript code snippet to be executed"}},required:["snippet"]};async function Sb(t){const e=gb(),n=Fd(),r=new URL(window.location.href).searchParams.get("model")||"gpt-4o-mini";console.log(" Sending request to OpenAI");const s=await e.chat.completions.create({model:r,messages:[{role:"system",content:n},{role:"user",content:t}],functions:[{name:"generate_snippet",description:"Generate a JavaScript code snippet based on the user's request/",parameters:l1}],function_call:{name:"generate_snippet"}});console.log(" Received response from OpenAI");const i=s.choices[0].message.function_call;if(i&&i.name==="generate_snippet")return JSON.parse(i.arguments||"{}").snippet||"";throw new Error("Unexpected response format from OpenAI")}async function kb(t){var a,u;const e=wb(),n=`${Fd()}

Please generate a JavaScript code snippet based on the user's request. Your response should be a JSON object that strictly adheres to the following schema:

${JSON.stringify(l1,null,2)}

Respond only with the JSON object, without any additional text.`,r=new URL(window.location.href).searchParams.get("model")||"mixtral-8x7b-32768";console.log(" Sending request to GROQ");const s=await e.chat.completions.create({model:r,messages:[{role:"system",content:n},{role:"user",content:t}],response_format:{type:"json_object"}});console.log(" Received response from GROQ");const i=(u=(a=s.choices[0])==null?void 0:a.message)==null?void 0:u.content;if(!i)throw new Error("Unexpected response format from GROQ");const o=JSON.parse(i),l=zd(o);return console.log(` Found snippet:
`,l),l||""}async function Eb(t){var o,l;const e=vb(),n=Fd(),r=new URL(window.location.href).searchParams.get("model")||"llama3.1-70b";console.log(" Sending request to Cerebras");const s=await e.chat.completions.create({model:r,messages:[{role:"system",content:n},{role:"user",content:t}],max_completion_tokens:1024,temperature:.7,top_p:1});console.log(" Received response from Cerebras");const i=(l=(o=s.choices[0])==null?void 0:o.message)==null?void 0:l.content;if(!i)throw new Error("Unexpected response format from Cerebras");try{const a=JSON.parse(i),u=zd(a);if(u)return u}catch{console.log("Failed to parse JSON, using raw content as snippet")}return of(i)}function zd(t){if(!(typeof t!="object"||t===null)){if("snippet"in t&&typeof t.snippet=="string")return of(t.snippet);for(const e in t){const n=zd(t[e]);if(n!==void 0)return of(n)}}}function of(t){console.log(" Cleaning code snippet:",t);const e=/```[\w]*\n?([\s\S]*?)\n?```/g,r=[...t.matchAll(e)].map(i=>i[1]);console.log(" Snippet candidates:",r);let s="";for(const i of r)i.length>s.length&&(s=i);return s}async function _b(t){console.log(" Generating mock snippet");const e=t.toLowerCase().split(/\s+/);for(const n of e)if(n in Yp)return console.log(` Found mock snippet for key: ${n}`),Yp[n];return console.log(" No matching mock snippet found"),'console.log("No matching mock snippet found");'}async function bb(t,e){switch(e){case"openai":return Sb(t);case"groq":return kb(t);case"cerebras":return Eb(t);case"mock":return _b(t);default:throw new Error(`Unsupported provider: ${e}`)}}function Cb(t,e){return t.behaviors.find(n=>n.uuid===e)}function Ta(t,e){return t.behaviors.find(n=>n.type===e)}function xb(t,e){return t.behaviors.find(n=>n.name===e)}function a1(){const t=new Set,e=new Set;let n=0,r=0;window.addEventListener("keydown",o=>{t.add(o.key.toLowerCase()),console.debug(` Key pressed: ${o.key}`)}),window.addEventListener("keyup",o=>{t.delete(o.key.toLowerCase()),console.debug(` Key released: ${o.key}`)}),window.addEventListener("mousedown",o=>{const l=s(o.button);l&&e.add(l),console.debug(` Mouse button pressed: ${l}`)}),window.addEventListener("mouseup",o=>{const l=s(o.button);l&&e.delete(l),console.debug(` Mouse button released: ${l}`)}),window.addEventListener("mousemove",o=>{n=o.clientX,r=o.clientY,console.debug(` Mouse moved to: (${n}, ${r})`)});function s(o){switch(o){case 0:return"left";case 1:return"middle";case 2:return"right";default:return null}}function i(o){switch(o.toLowerCase()){case"horizontal":return(t.has("d")||t.has("arrowright")?1:0)-(t.has("a")||t.has("arrowleft")?1:0);case"vertical":return(t.has("w")||t.has("arrowup")?1:0)-(t.has("s")||t.has("arrowdown")?1:0);default:return console.warn(` Unknown axis: ${o}`),0}}return{isKeyPressed:o=>t.has(o.toLowerCase()),isMouseButtonPressed:o=>e.has(o),getMousePosition:()=>({x:n,y:r}),getAxis:i}}const Ab=a1();function Kd(){const t={input:Ab,stage:X.stage,entities:[],addEntity:r=>{const s=ke.addEntity(r);return n(),t.getEntity(s.uuid)},duplicateEntity:r=>{const s=t.getEntity(r);if(s){const i={...s.getRawProps()};return t.addEntity(i)}},getEntity:r=>{if(typeof r=="string"){let s=t.entities.find(i=>i.uuid===r);return s||(s=t.entities.find(i=>i.name===r),s)?s:t.entities.find(i=>Object.values(i).some(o=>typeof o=="string"&&o.includes(r)))}else if(typeof r=="function")return t.entities.find(r)},getEntities:r=>{if(Array.isArray(r))return r.map(s=>t.getEntity(s)).filter(Boolean);if(typeof r=="function")return t.entities.filter(r);{const s=t.getEntity(r);return s?[s]:[]}},removeEntity:r=>{const s=t.getEntity(r);s&&(ke.removeEntity(s.uuid),t.entities=t.entities.filter(i=>i.uuid!==s.uuid))},getSelectedEntities:()=>{const r=ve.selectedEntityIds;return t.getEntities(r)},selectEntities:r=>{const s=t.getEntities(r),i=s.map(o=>o.uuid);return console.log(" Selecting entities:",i),yn.setSelectedEntityIds(i),s},deselectEntities:r=>{const i=t.getEntities(r).map(o=>o.uuid);console.log(" Deselecting entities:",i),yn.removeSelectedEntityIds(i)},clearSelection:()=>{console.log(" Clearing entity selection"),yn.clearSelection()},clearWorld:()=>{console.log(" Clearing the world"),ke.clearWorld()}};function e(r){const s={...r,getBehavior:(i,o=!0)=>{if(typeof i=="string"){const l=Cb(r,i);if(l)return l;const a=Ta(r,i);return a||xb(r,i)}else if(typeof i=="function")return r.behaviors.find(i);return o?ke.addBehaviorToEntity(r.uuid,i):null},removeBehavior:i=>{const o=s.getBehavior(i,!1);o&&ke.removeBehaviorFromEntity(r.uuid,o.type)},addBehavior:i=>ke.addBehaviorToEntity(r.uuid,i),getBounds:()=>({x:r.x,y:r.y,width:0,height:0}),isInRange:(i,o,l)=>s.getDistance(i,o)<=l,getDistance:(i,o)=>{const l=i-r.x,a=o-r.y;return Math.sqrt(l*l+a*a)},destroy:()=>ke.removeEntity(r.uuid),getRawProps:()=>r};return new Proxy(s,{set(i,o,l){return o in r&&ke.updateEntity(r.uuid,{[o]:l}),Reflect.set(i,o,l)}})}const n=()=>{t.entities=X.entities.map(e)};return n(),_g(X,()=>n()),t}async function Pb(t){console.log(" Handling generated code snippet");try{const e=Kd(),n=`
      (async (context) => {
        var { ${Object.keys(e).join(", ")} } = context;
        ${t}
      })(this)
    `,s=await new Function(n).call(e);return console.log(" Snippet executed successfully"),console.log(" Result:",s),s}catch(e){throw console.error(" Error executing snippet:",e),e}}function Gp(t,e,n){const r=Kd();return Rb(t,e,r,n)}function Rb(t,e,n,r){const s=`
    var { ${Object.keys(n).join(", ")} } = context;
    ${e}
  `;return new Function("context",...Object.keys(r),s).call(t,n,...Object.values(r))}function Nb(t){return T.useCallback(async n=>{const r=await bb(n,t);console.log(" Received code snippet:",r);try{return await Pb(r)}catch(s){console.error(" Error handling generated code snippet:",s)}},[])}/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u1=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ib={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},a)=>T.createElement("svg",{ref:a,...Ib,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:u1("lucide",s),...l},[...o.map(([u,h])=>T.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=(t,e)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(Ob,{ref:i,iconNode:e,className:u1(`lucide-${$b(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=c1("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=c1("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);function Mb({onSubmit:t,disabled:e,error:n}){const[r,s]=T.useState(""),i=T.useRef(null),o=jb(r,s),l=Bb(i,r);Db(i,e);const a=c=>{s(c.target.value),o.handleChange()},u=async c=>{c.preventDefault(),!(e||!r.trim())&&(await t(r),o.handleSubmit(r),s(""))},h=c=>{c.key==="Enter"&&!c.shiftKey&&!c.ctrlKey&&(c.preventDefault(),u(c)),o.handleKeyDown(c)};return C.jsx("form",{onSubmit:u,className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 select-none transition-all",children:C.jsxs("div",{className:`relative transition-all duration-300 ease-in-out ${l.isExpanded?"w-[32rem]":"w-96"}`,children:[n&&C.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-4 px-4 py-2 bg-red-100 text-red-800 rounded-md flex items-center space-x-2 text-sm shadow-md z-50 w-screen max-w-screen-md",children:C.jsx("pre",{className:"text-xs whitespace-pre-wrap w-full",children:n})}),C.jsx("textarea",{rows:1,ref:i,value:r,onChange:a,onKeyDown:h,placeholder:"Enter prompt...",disabled:e,className:`w-full px-4 py-2 rounded-3xl border border-gray-300 shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none transition-all duration-300 ease-in-out ${l.isExpanded?"h-auto min-h-[6rem] text-xs":"h-10 min-h-[1rem] overflow-hidden text-md"} ${e?"bg-gray-100 cursor-not-allowed":""}`}),C.jsx("button",{type:"submit",className:"absolute right-3 top-3",disabled:e,children:e?C.jsx(Tb,{className:"h-5 w-5 text-gray-500 animate-spin"}):C.jsx(Lb,{className:"h-5 w-5 text-gray-500"})})]})})}function Bb(t,e){const[n,r]=T.useState(!1);return T.useEffect(()=>{const s=e.length>30||e.includes(`
`);if(r(s),t.current){t.current.style.height="auto";const i=s?`${Math.max(t.current.scrollHeight,96)}px`:"40px";t.current.style.height=i}},[e]),{isExpanded:n}}function Db(t,e){T.useEffect(()=>{!e&&t.current&&(t.current.focus(),console.log(" Textarea focused after submission"))},[e,t])}function jb(t,e){const[n,r]=T.useState([]),[s,i]=T.useState(-1),[o,l]=T.useState(""),a=f=>{if(n.length===0)return;let p=s;f==="up"&&s<n.length-1?p++:f==="down"&&s>-1&&p--,i(p),p===-1?e(o):(s===-1&&l(t),e(n[n.length-1-p]))};return{handleKeyDown:f=>{const p=f.currentTarget,{selectionStart:v,value:y}=p,w=y.split(`
`),m=y.substr(0,v).split(`
`).length-1;f.key==="ArrowUp"&&m===0?(f.preventDefault(),a("up")):f.key==="ArrowDown"&&m===w.length-1&&(f.preventDefault(),a("down"))},handleSubmit:f=>{f.trim()!==""&&(r(p=>[...p,f]),console.log(" Added to history:",f)),i(-1),l("")},handleChange:()=>{i(-1)}}}function Fb(){const{aiBusy:t}=bt(ve),[e,n]=T.useState(null),r=Ub(),s=async i=>{console.log(" Prompt submitted:",i),n(null);try{yn.setAIBusy(!0),await r(i)}catch(o){console.error(" Error processing AI snippet:",o),n(String(o))}finally{yn.setAIBusy(!1)}};return C.jsx(Mb,{onSubmit:s,disabled:t,error:e})}function Ub(){const e=new URL(window.location.href).searchParams.get("ai");return Nb(e)}const Zp={RenderCircle:{render(){return C.jsx("circle",{r:this.radius??10})}},ChangeColor:{render(t,e){const n=this.color||"white";return C.jsx("g",{fill:n,children:e})}},SimplifyMesh:{render(t){var i,o,l;const e=((i=t.behaviors.find(a=>a.type==="SimplifyMesh"))==null?void 0:i.sides)||6,n=((o=t.behaviors.find(a=>a.type==="RenderCircle"))==null?void 0:o.radius)||10,r=((l=t.behaviors.find(a=>a.type==="ChangeColor"))==null?void 0:l.color)||void 0,s=zb(n,e);return C.jsx("polygon",{points:s,fill:r})}},CustomBehavior:{onTick(t,e,n){if(typeof this.onTick=="function")return this.onTick.call(this,t,e,n);if(typeof this.onTick=="string"){const r=this.onTick;Gp(this,r,{entity:t,deltaTimeSeconds:e,totalTimeSeconds:n})}},render(t,e){if(typeof this.render=="function")return this.render.call(this,t,e);if(typeof this.render=="string"){const n=`return (${this.render})`;Gp(this,n,{entity:t,content:e})}return e}},RenderEmoji:{render(t,e){const n=this.emoji??"",r=~~(this.fontSize||40);return C.jsxs(C.Fragment,{children:[e,C.jsx("text",{fontSize:r,textAnchor:"middle",dominantBaseline:"central",style:{userSelect:"none"},y:"-2",children:n})]})}}};function zb(t,e){let n="";for(let r=0;r<e;r++){const s=r/e*2*Math.PI,i=t*Math.cos(s),o=t*Math.sin(s);n+=`${i},${o} `}return n.trim()}function em(t){const e=t.type,n=Zp[e];return n||(typeof t.onTick=="string"||typeof t.render=="string"?Zp.CustomBehavior:null)}const Wd={onTick:(t,e,n)=>{var r;for(const s of t.behaviors??[])try{const i=em(s);(r=i==null?void 0:i.onTick)==null||r.apply(s,[t,e,n])}catch(i){console.error(`Error in entityResolver.onTick: ${i}`,t)}},render:t=>{var n;let e=null;for(const r of t.behaviors??[])try{const s=em(r);e=(n=s==null?void 0:s.render)==null?void 0:n.apply(r,[t,e])}catch(s){console.error(`Error in entityResolver.render: ${s}`,t)}return e}},Kb=({entity:t,onClick:e})=>{const n=i=>{e(t,i)},r={..._d,...t},s=`
  translate(${r.x}, ${r.y}) 
  rotate(${r.rotation}) 
  scale(${r.scale})
  `;return C.jsx("g",{onClick:n,transform:s,children:Wd.render(t)})},Wb=({entity:t})=>{const e=Ta(t,"RenderCircle"),r=((e==null?void 0:e.radius)??30)*2*t.scale+8,s=6,i=2,o=t.name;return C.jsxs(C.Fragment,{children:[C.jsx("rect",{x:t.x-r/2,y:t.y-r/2,width:r,height:r,fill:"none",stroke:"DodgerBlue",strokeWidth:i,strokeDasharray:`${s},${s}`,opacity:"1",children:C.jsx("animate",{attributeName:"stroke-dashoffset",from:"0",to:`${s*2}`,dur:"0.4s",repeatCount:"indefinite"})}),C.jsx("text",{x:t.x,y:t.y+r/2+20,textAnchor:"middle",fill:"DodgerBlue",fontSize:"17",fontFamily:"Calibri, Arial, sans-serif",fontWeight:"bolder",stroke:"slategray",strokeWidth:"7",children:o}),C.jsx("text",{x:t.x,y:t.y+r/2+20,textAnchor:"middle",fill:"DodgerBlue",fontSize:"17",fontFamily:"Calibri, Arial, sans-serif",fontWeight:"bolder",stroke:"white",strokeWidth:"4",children:o}),C.jsx("text",{x:t.x,y:t.y+r/2+20,textAnchor:"middle",fill:"DodgerBlue",fontSize:"17",fontFamily:"Calibri, Arial, sans-serif",fontWeight:"bolder",children:o})]})},qb=()=>C.jsxs(C.Fragment,{children:[C.jsx(Vb,{}),C.jsx(Hb,{gap:20})]}),Vb=()=>{const{stage:t}=bt(X);return C.jsx("rect",{x:-t.width/2,y:-t.height/2,width:t.width,height:t.height,fill:"none",stroke:"gray",strokeWidth:"1",strokeDasharray:"18,4,18,0"})},Hb=({gap:t})=>{const{stage:e}=bt(X);return C.jsx("rect",{x:-e.width/2-t,y:-e.height/2-t,width:e.width+t*2,height:e.height+t*2,fill:"none",stroke:"gray",strokeWidth:"1",strokeDasharray:"8",opacity:.2})};function Xb({cellSize:t=40}){return C.jsxs(C.Fragment,{children:[C.jsx("defs",{children:C.jsxs("pattern",{id:"plusPattern",x:"0",y:"0",width:t,height:t,patternUnits:"userSpaceOnUse",children:[C.jsx("rect",{width:t,height:t,fill:"#f8f8f8"}),C.jsx("path",{d:`M${t/2} ${t*.375} V${t*.625} M${t*.375} ${t/2} H${t*.625}`,stroke:"#d8d8d8",strokeWidth:"1"})]})}),C.jsx("rect",{x:"-100%",y:"-100%",width:"200%",height:"200%",fill:"url(#plusPattern)"})]})}const Jb=t=>{const e=T.useRef(),n=T.useRef(),r=T.useRef(),{global:s}=bt(X),i=T.useCallback(o=>{if(r.current||(r.current=o),n.current!==void 0){const l=(o-n.current)/1e3*s.timeScale,a=(o-r.current)/1e3*s.timeScale;t(l,a)}n.current=o,e.current=requestAnimationFrame(i)},[t,s.timeScale]);T.useEffect(()=>(console.log(" Starting animation frame loop with timeScale:",s.timeScale),e.current=requestAnimationFrame(i),()=>{console.log(" Stopping animation frame loop"),e.current&&cancelAnimationFrame(e.current)}),[i])},f1=fa({values:{}}),Qb=()=>{const[t]=ww("-"),{values:e}=bt(f1);return t?C.jsx("div",{className:"absolute top-4 left-4 max-h-[calc(100vh-32px)] overflow-y-auto bg-white rounded-lg border border-gray-300 shadow-md animate-slide-in",children:C.jsxs("div",{className:"p-4 overflow-x-auto",children:[C.jsx("h2",{className:"text-lg font-bold mb-4",children:"Debug Data"}),Object.entries(e).map(([n,r])=>C.jsxs("div",{className:"mb-4",children:[C.jsx("h3",{className:"text-xs font-bold mb-1",children:n}),C.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:typeof r=="string"||typeof r=="number"?r:sl.stringify(r)})]},n))]})}):null},Yb=({entity:t})=>{const e=Ta(t,"RenderCircle"),r=((e==null?void 0:e.radius)??30)*2*t.scale+8,s=6;return C.jsx("rect",{x:t.x-r/2,y:t.y-r/2,width:r,height:r,fill:"none",stroke:"DodgerBlue",strokeWidth:2,strokeDasharray:`${s},${s}`,opacity:"0.3",children:C.jsx("animate",{attributeName:"stroke-dashoffset",from:"0",to:`${s*2}`,dur:"0.4s",repeatCount:"indefinite"})})};function Gb(){return Jb((t,e)=>{for(const n of X.entities)Wd.onTick(n,t,e)}),C.jsxs("div",{className:"w-full h-screen relative overflow-hidden",children:[C.jsx(Zb,{}),C.jsx(nC,{})]})}const Zb=()=>{const{stage:t}=bt(X),[e,n]=T.useState("0 0 1000 1000"),r=[.5,.38196601125],s=T.useCallback(()=>{yn.clearSelection()},[]);return T.useEffect(()=>{const i=()=>{const{innerWidth:o,innerHeight:l}=window,a=Math.min(o/t.width,l/t.height)*.8,u=Math.round(o/a),h=Math.round(l/a),c=Math.round(-u*r[0]+t.width*(r[0]-.5)),f=Math.round(-h*r[1]+t.height*(r[1]-.5));n(`${c} ${f} ${u} ${h}`),console.log(" Updated viewBox:",`${c} ${f} ${u} ${h}`)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[t.width,t.height,r]),C.jsxs("svg",{className:"w-full h-full",viewBox:e,onClick:s,children:[C.jsx(Xb,{}),C.jsx(qb,{}),C.jsx(eC,{}),C.jsx(tC,{})]})},eC=()=>{const{entities:t}=bt(X),[e,n]=T.useState(null),r=T.useCallback((o,l)=>{l.stopPropagation(),yn.toggleEntitySelection(o.uuid,l.ctrlKey)},[]),s=T.useCallback(o=>{n(o)},[]),i=T.useCallback(()=>{n(null)},[]);return C.jsx("g",{fill:"#ddd",stroke:"black",strokeWidth:1,children:t.map(o=>C.jsxs("g",{className:"with-shadow",onMouseEnter:()=>s(o.uuid),onMouseLeave:i,children:[C.jsx(Kb,{entity:o,onClick:r}),e===o.uuid&&C.jsx(Yb,{entity:o})]},o.uuid))})},tC=()=>{const t=gw();return C.jsx(C.Fragment,{children:t.map(e=>C.jsx(Wb,{entity:e},e.uuid))})},nC=()=>{const t=gw();return C.jsxs(C.Fragment,{children:[C.jsx(mE,{}),C.jsx(Qb,{}),C.jsx("div",{className:"absolute top-4 right-4 max-w-md max-h-[calc(100vh-2rem)] overflow-y-auto",children:t.map(e=>C.jsx(rk,{entity:e},`selection-${e.uuid}`))}),C.jsx(Fb,{})]})},tm=["","","","","","","","","",""],nm=["dodgerblue","hotpink","gold","lime","purple","teal","tomato"];function*rC(t){for(let e=0;e<t;e++)yield e}function sC(){ke.clearWorld();const{width:t,height:e}=X.stage,n=10;function r(){const s=ke.addEntity({x:(Math.random()-.5)*t,y:(Math.random()-.5)*e,rotation:Math.random()*360,scale:1,behaviors:[]});return ke.addBehaviorToEntity(s.uuid,{type:"RenderCircle",radius:10+Math.random()*40}),s}for(const s of rC(n)){const i=r();if(i.name="circle",s%3===0&&(ke.addBehaviorToEntity(i.uuid,{type:"SimplifyMesh",sides:6}),i.name="simplified "+i.name),s%2===0){const o=Ta(i,"RenderCircle"),a=1.33*((o==null?void 0:o.radius)??20),u=tm[Math.floor(Math.random()*tm.length)];ke.addBehaviorToEntity(i.uuid,{type:"RenderEmoji",emoji:u,fontSize:a}),i.name=i.name+" with "+u}else{const o=nm[Math.floor(Math.random()*nm.length)];ke.addBehaviorToEntity(i.uuid,{type:"ChangeColor",color:o}),i.name=o+" "+i.name}}console.log(" Sample world populated with entities and emojis")}const Ve={addBehaviorToSelectedEntity:t=>{const e=ve.selectedEntityIds[0];e!==null?(ke.addBehaviorToEntity(e,t),console.log(` Added behavior ${t.type} to entity ${e}`)):console.warn(" No entity selected. Please select an entity first.")},makePulse:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Pulse",onTick:`
        entity.scale = 1 + Math.sin(Date.now() * 0.005) * 0.5;
      `}),console.log(" Added pulse animation to selected entity")},makeSpin:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Spin",onTick:`
        entity.rotation += 4 * deltaTime;
      `}),console.log(" Added spin animation to selected entity")},makeOrbit:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Orbit",onTick:`
        const radius = 100;
        const speed = 0.001;
        entity.x = Math.cos(Date.now() * speed) * radius;
        entity.y = Math.sin(Date.now() * speed) * radius;
      `}),console.log(" Added orbit animation to selected entity")},makeBounce:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Bounce",onTick:`
        entity.y = Math.abs(Math.sin(Date.now() * 0.005)) * 100;
      `}),console.log(" Added bounce animation to selected entity")},makeWiggle:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Wiggle",onTick:`
        entity.rotation = Math.sin(Date.now() * 0.01) * 15;
      `}),console.log(" Added wiggle animation to selected entity")},makeFade:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Fade",onTick:`
        entity.opacity = (Math.sin(Date.now() * 0.003) + 1) / 2;
      `}),console.log(" Added fade animation to selected entity")},makeZigZag:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"ZigZag",onTick:`
        entity.x += Math.sin(Date.now() * 0.01) * 2;
        entity.y += 0.5;
        if (entity.y > 300) entity.y = -300;
      `}),console.log(" Added zig-zag animation to selected entity")},makeGrow:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Grow",onTick:`
        entity.scale = Math.min(entity.scale * 1.01, 3);
      `}),console.log(" Added grow animation to selected entity")},makeShrink:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Shrink",onTick:`
        entity.scale = Math.max(entity.scale * 0.99, 0.1);
      `}),console.log(" Added shrink animation to selected entity")},makeShake:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Shake",onTick:`
        entity.x += (Math.random() - 0.5) * 4;
        entity.y += (Math.random() - 0.5) * 4;
      `}),console.log(" Added shake animation to selected entity")},makeColorCycle:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"ColorCycle",onTick:"\n        const hue = (Date.now() * 0.1) % 360;\n        entity.color = `hsl(${hue}, 100%, 50%)`;\n      "}),console.log(" Added color cycle animation to selected entity")},makePingPong:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"PingPong",onTick:`
        entity.x = Math.sin(Date.now() * 0.003) * 200;
      `}),console.log(" Added ping-pong animation to selected entity")}};Object.assign(globalThis,{God:Ve});function iC(){return T.useEffect(()=>(window.location.search.includes("sample")&&sC(),()=>{ke.clearWorld(),yn.clearSelection()}),[]),C.jsx(Gb,{})}async function oC(){console.log(" Debug initialized");const t=Kd();Object.assign(window,{entityResolver:Wd,worldDataState:X,worldDataStateActions:ke,easyBreezyContext:t});const e=a1(),n=function(){f1.values.inputStats=`
      isPressed[Shift]: ${e.isKeyPressed("Shift")}
      isPressed[Control]: ${e.isKeyPressed("Control")}
      isPressed[Alt]: ${e.isKeyPressed("Alt")}
      isPressed[Meta]: ${e.isKeyPressed("Meta")}
      isPressed[Enter]: ${e.isKeyPressed("Enter")}
      isPressed[Space]: ${e.isKeyPressed(" ")}
      isPressed[Backspace]: ${e.isKeyPressed("Backspace")}
      isPressed[ArrowUp]: ${e.isKeyPressed("ArrowUp")}
      isPressed[ArrowDown]: ${e.isKeyPressed("ArrowDown")}
      isPressed[ArrowLeft]: ${e.isKeyPressed("ArrowLeft")}
      isPressed[ArrowRight]: ${e.isKeyPressed("ArrowRight")}
      isPressed[Mouse:left]: ${e.isMouseButtonPressed("left")}
      isPressed[Mouse:middle]: ${e.isMouseButtonPressed("middle")}
      isPressed[Mouse:right]: ${e.isMouseButtonPressed("right")}
      axis[Horizontal]: ${e.getAxis("Horizontal")}
      axis[Vertical]: ${e.getAxis("Vertical")}
      mousePosition: 
        ${e.getMousePosition().x} x ${e.getMousePosition().y}
    `,requestAnimationFrame(n)};n()}mg(document.getElementById("root")).render(C.jsx(T.StrictMode,{children:C.jsx(iC,{})}));requestAnimationFrame(oC);
