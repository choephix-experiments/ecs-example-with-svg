(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var yp={exports:{}},$l={},gp={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=Symbol.for("react.element"),rw=Symbol.for("react.portal"),sw=Symbol.for("react.fragment"),iw=Symbol.for("react.strict_mode"),ow=Symbol.for("react.profiler"),lw=Symbol.for("react.provider"),aw=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),cw=Symbol.for("react.suspense"),fw=Symbol.for("react.memo"),dw=Symbol.for("react.lazy"),md=Symbol.iterator;function hw(e){return e===null||typeof e!="object"?null:(e=md&&e[md]||e["@@iterator"],typeof e=="function"?e:null)}var wp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vp=Object.assign,Sp={};function Vr(e,t,n){this.props=e,this.context=t,this.refs=Sp,this.updater=n||wp}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _p(){}_p.prototype=Vr.prototype;function $c(e,t,n){this.props=e,this.context=t,this.refs=Sp,this.updater=n||wp}var Lc=$c.prototype=new _p;Lc.constructor=$c;vp(Lc,Vr.prototype);Lc.isPureReactComponent=!0;var yd=Array.isArray,kp=Object.prototype.hasOwnProperty,Mc={current:null},Ep={key:!0,ref:!0,__self:!0,__source:!0};function Cp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)kp.call(t,r)&&!Ep.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:oi,type:e,key:i,ref:o,props:s,_owner:Mc.current}}function pw(e,t){return{$$typeof:oi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bc(e){return typeof e=="object"&&e!==null&&e.$$typeof===oi}function mw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gd=/\/+/g;function va(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mw(""+e.key):t.toString(36)}function Qi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case oi:case rw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+va(o,0):r,yd(s)?(n="",e!=null&&(n=e.replace(gd,"$&/")+"/"),Qi(s,t,n,"",function(u){return u})):s!=null&&(Bc(s)&&(s=pw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",yd(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+va(i,l);o+=Qi(i,t,n,a,s)}else if(a=hw(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+va(i,l++),o+=Qi(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Si(e,t,n){if(e==null)return e;var r=[],s=0;return Qi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function yw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},Ji={transition:null},gw={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Ji,ReactCurrentOwner:Mc};function bp(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Si,forEach:function(e,t,n){Si(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Si(e,function(){t++}),t},toArray:function(e){return Si(e,function(t){return t})||[]},only:function(e){if(!Bc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Vr;B.Fragment=sw;B.Profiler=ow;B.PureComponent=$c;B.StrictMode=iw;B.Suspense=cw;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gw;B.act=bp;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Mc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)kp.call(t,a)&&!Ep.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:oi,type:e.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:aw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lw,_context:e},e.Consumer=e};B.createElement=Cp;B.createFactory=function(e){var t=Cp.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:uw,render:e}};B.isValidElement=Bc;B.lazy=function(e){return{$$typeof:dw,_payload:{_status:-1,_result:e},_init:yw}};B.memo=function(e,t){return{$$typeof:fw,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Ji.transition;Ji.transition={};try{e()}finally{Ji.transition=t}};B.unstable_act=bp;B.useCallback=function(e,t){return Te.current.useCallback(e,t)};B.useContext=function(e){return Te.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};B.useEffect=function(e,t){return Te.current.useEffect(e,t)};B.useId=function(){return Te.current.useId()};B.useImperativeHandle=function(e,t,n){return Te.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Te.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Te.current.useReducer(e,t,n)};B.useRef=function(e){return Te.current.useRef(e)};B.useState=function(e){return Te.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Te.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Te.current.useTransition()};B.version="18.3.1";gp.exports=B;var L=gp.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww=L,vw=Symbol.for("react.element"),Sw=Symbol.for("react.fragment"),_w=Object.prototype.hasOwnProperty,kw=ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ew={key:!0,ref:!0,__self:!0,__source:!0};function Ap(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)_w.call(t,r)&&!Ew.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:vw,type:e,key:i,ref:o,props:s,_owner:kw.current}}$l.Fragment=Sw;$l.jsx=Ap;$l.jsxs=Ap;yp.exports=$l;var A=yp.exports,xp={exports:{}},Ge={},Pp={exports:{}},Np={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,$){var M=N.length;N.push($);e:for(;0<M;){var se=M-1>>>1,he=N[se];if(0<s(he,$))N[se]=$,N[M]=he,M=se;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var $=N[0],M=N.pop();if(M!==$){N[0]=M;e:for(var se=0,he=N.length,wi=he>>>1;se<wi;){var kn=2*(se+1)-1,wa=N[kn],En=kn+1,vi=N[En];if(0>s(wa,M))En<he&&0>s(vi,wa)?(N[se]=vi,N[En]=M,se=En):(N[se]=wa,N[kn]=M,se=kn);else if(En<he&&0>s(vi,M))N[se]=vi,N[En]=M,se=En;else break e}}return $}function s(N,$){var M=N.sortIndex-$.sortIndex;return M!==0?M:N.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,c=null,f=3,p=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=N)r(u),$.sortIndex=$.expirationTime,t(a,$);else break;$=n(u)}}function S(N){if(y=!1,g(N),!v)if(n(a)!==null)v=!0,ya(k);else{var $=n(u);$!==null&&ga(S,$.startTime-N)}}function k(N,$){v=!1,y&&(y=!1,m(E),E=-1),p=!0;var M=f;try{for(g($),c=n(a);c!==null&&(!(c.expirationTime>$)||N&&!R());){var se=c.callback;if(typeof se=="function"){c.callback=null,f=c.priorityLevel;var he=se(c.expirationTime<=$);$=e.unstable_now(),typeof he=="function"?c.callback=he:c===n(a)&&r(a),g($)}else r(a);c=n(a)}if(c!==null)var wi=!0;else{var kn=n(u);kn!==null&&ga(S,kn.startTime-$),wi=!1}return wi}finally{c=null,f=M,p=!1}}var _=!1,C=null,E=-1,O=5,x=-1;function R(){return!(e.unstable_now()-x<O)}function F(){if(C!==null){var N=e.unstable_now();x=N;var $=!0;try{$=C(!0,N)}finally{$?et():(_=!1,C=null)}}else _=!1}var et;if(typeof d=="function")et=function(){d(F)};else if(typeof MessageChannel<"u"){var yi=new MessageChannel,gi=yi.port2;yi.port1.onmessage=F,et=function(){gi.postMessage(null)}}else et=function(){w(F,0)};function ya(N){C=N,_||(_=!0,et())}function ga(N,$){E=w(function(){N(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,ya(k))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var M=f;f=$;try{return N()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,$){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=f;f=N;try{return $()}finally{f=M}},e.unstable_scheduleCallback=function(N,$,M){var se=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?se+M:se):M=se,N){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=M+he,N={id:h++,callback:$,priorityLevel:N,startTime:M,expirationTime:he,sortIndex:-1},M>se?(N.sortIndex=M,t(u,N),n(a)===null&&N===n(u)&&(y?(m(E),E=-1):y=!0,ga(S,M-se))):(N.sortIndex=he,t(a,N),v||p||(v=!0,ya(k))),N},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(N){var $=f;return function(){var M=f;f=$;try{return N.apply(this,arguments)}finally{f=M}}}})(Np);Pp.exports=Np;var Cw=Pp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw=L,Ye=Cw;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Op=new Set,Bs={};function Vn(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(Bs[e]=t,e=0;e<t.length;e++)Op.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=Object.prototype.hasOwnProperty,Aw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wd={},vd={};function xw(e){return pu.call(vd,e)?!0:pu.call(wd,e)?!1:Aw.test(e)?vd[e]=!0:(wd[e]=!0,!1)}function Pw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nw(e,t,n,r){if(t===null||typeof t>"u"||Pw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dc=/[\-:]([a-z])/g;function jc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dc,jc);Se[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dc,jc);Se[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dc,jc);Se[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fc(e,t,n,r){var s=Se.hasOwnProperty(t)?Se[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nw(t,n,s,r)&&(n=null),r||s===null?xw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qt=bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_i=Symbol.for("react.element"),rr=Symbol.for("react.portal"),sr=Symbol.for("react.fragment"),Uc=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),Ip=Symbol.for("react.provider"),Rp=Symbol.for("react.context"),zc=Symbol.for("react.forward_ref"),yu=Symbol.for("react.suspense"),gu=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Tp=Symbol.for("react.offscreen"),Sd=Symbol.iterator;function es(e){return e===null||typeof e!="object"?null:(e=Sd&&e[Sd]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,Sa;function us(e){if(Sa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sa=t&&t[1]||""}return`
`+Sa+e}var _a=!1;function ka(e,t){if(!e||_a)return"";_a=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{_a=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?us(e):""}function Ow(e){switch(e.tag){case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return e=ka(e.type,!1),e;case 11:return e=ka(e.type.render,!1),e;case 1:return e=ka(e.type,!0),e;default:return""}}function wu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sr:return"Fragment";case rr:return"Portal";case mu:return"Profiler";case Uc:return"StrictMode";case yu:return"Suspense";case gu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rp:return(e.displayName||"Context")+".Consumer";case Ip:return(e._context.displayName||"Context")+".Provider";case zc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kc:return t=e.displayName||null,t!==null?t:wu(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return wu(e(t))}catch{}}return null}function Iw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wu(t);case 8:return t===Uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $p(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rw(e){var t=$p(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ki(e){e._valueTracker||(e._valueTracker=Rw(e))}function Lp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$p(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vu(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _d(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mp(e,t){t=t.checked,t!=null&&Fc(e,"checked",t,!1)}function Su(e,t){Mp(e,t);var n=pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_u(e,t.type,n):t.hasOwnProperty("defaultValue")&&_u(e,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _u(e,t,n){(t!=="number"||go(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cs=Array.isArray;function _r(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ku(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ed(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(cs(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pn(n)}}function Bp(e,t){var n=pn(t.value),r=pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Cd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ei,jp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ei=Ei||document.createElement("div"),Ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ds(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tw=["Webkit","ms","Moz","O"];Object.keys(Es).forEach(function(e){Tw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Es[t]=Es[e]})});function Fp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Es.hasOwnProperty(e)&&Es[e]?(""+t).trim():t+"px"}function Up(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Fp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var $w=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cu(e,t){if(t){if($w[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function bu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function Wc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xu=null,kr=null,Er=null;function bd(e){if(e=ui(e)){if(typeof xu!="function")throw Error(b(280));var t=e.stateNode;t&&(t=jl(t),xu(e.stateNode,e.type,t))}}function zp(e){kr?Er?Er.push(e):Er=[e]:kr=e}function Kp(){if(kr){var e=kr,t=Er;if(Er=kr=null,bd(e),t)for(e=0;e<t.length;e++)bd(t[e])}}function Wp(e,t){return e(t)}function Vp(){}var Ea=!1;function qp(e,t,n){if(Ea)return e(t,n);Ea=!0;try{return Wp(e,t,n)}finally{Ea=!1,(kr!==null||Er!==null)&&(Vp(),Kp())}}function js(e,t){var n=e.stateNode;if(n===null)return null;var r=jl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var Pu=!1;if(Kt)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{Pu=!1}function Lw(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Cs=!1,wo=null,vo=!1,Nu=null,Mw={onError:function(e){Cs=!0,wo=e}};function Bw(e,t,n,r,s,i,o,l,a){Cs=!1,wo=null,Lw.apply(Mw,arguments)}function Dw(e,t,n,r,s,i,o,l,a){if(Bw.apply(this,arguments),Cs){if(Cs){var u=wo;Cs=!1,wo=null}else throw Error(b(198));vo||(vo=!0,Nu=u)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ad(e){if(qn(e)!==e)throw Error(b(188))}function jw(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ad(s),e;if(i===r)return Ad(s),t;i=i.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function Qp(e){return e=jw(e),e!==null?Jp(e):null}function Jp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jp(e);if(t!==null)return t;e=e.sibling}return null}var Xp=Ye.unstable_scheduleCallback,xd=Ye.unstable_cancelCallback,Fw=Ye.unstable_shouldYield,Uw=Ye.unstable_requestPaint,ie=Ye.unstable_now,zw=Ye.unstable_getCurrentPriorityLevel,Vc=Ye.unstable_ImmediatePriority,Yp=Ye.unstable_UserBlockingPriority,So=Ye.unstable_NormalPriority,Kw=Ye.unstable_LowPriority,Gp=Ye.unstable_IdlePriority,Ll=null,Ot=null;function Ww(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ll,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Hw,Vw=Math.log,qw=Math.LN2;function Hw(e){return e>>>=0,e===0?32:31-(Vw(e)/qw|0)|0}var Ci=64,bi=4194304;function fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _o(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=fs(l):(i&=o,i!==0&&(r=fs(i)))}else o=n&~s,o!==0?r=fs(o):i!==0&&(r=fs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),s=1<<n,r|=e[n],t&=~s;return r}function Qw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Qw(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Ou(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zp(){var e=Ci;return Ci<<=1,!(Ci&4194240)&&(Ci=64),e}function Ca(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function li(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function Xw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function qc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var U=0;function em(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tm,Hc,nm,rm,sm,Iu=!1,Ai=[],rn=null,sn=null,on=null,Fs=new Map,Us=new Map,Zt=[],Yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pd(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(t.pointerId)}}function ns(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ui(t),t!==null&&Hc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Gw(e,t,n,r,s){switch(t){case"focusin":return rn=ns(rn,e,t,n,r,s),!0;case"dragenter":return sn=ns(sn,e,t,n,r,s),!0;case"mouseover":return on=ns(on,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fs.set(i,ns(Fs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Us.set(i,ns(Us.get(i)||null,e,t,n,r,s)),!0}return!1}function im(e){var t=Pn(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=Hp(n),t!==null){e.blockedOn=t,sm(e.priority,function(){nm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ru(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Au=r,n.target.dispatchEvent(r),Au=null}else return t=ui(n),t!==null&&Hc(t),e.blockedOn=n,!1;t.shift()}return!0}function Nd(e,t,n){Xi(e)&&n.delete(t)}function Zw(){Iu=!1,rn!==null&&Xi(rn)&&(rn=null),sn!==null&&Xi(sn)&&(sn=null),on!==null&&Xi(on)&&(on=null),Fs.forEach(Nd),Us.forEach(Nd)}function rs(e,t){e.blockedOn===t&&(e.blockedOn=null,Iu||(Iu=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,Zw)))}function zs(e){function t(s){return rs(s,e)}if(0<Ai.length){rs(Ai[0],e);for(var n=1;n<Ai.length;n++){var r=Ai[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&rs(rn,e),sn!==null&&rs(sn,e),on!==null&&rs(on,e),Fs.forEach(t),Us.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)im(n),n.blockedOn===null&&Zt.shift()}var Cr=Qt.ReactCurrentBatchConfig,ko=!0;function e1(e,t,n,r){var s=U,i=Cr.transition;Cr.transition=null;try{U=1,Qc(e,t,n,r)}finally{U=s,Cr.transition=i}}function t1(e,t,n,r){var s=U,i=Cr.transition;Cr.transition=null;try{U=4,Qc(e,t,n,r)}finally{U=s,Cr.transition=i}}function Qc(e,t,n,r){if(ko){var s=Ru(e,t,n,r);if(s===null)$a(e,t,r,Eo,n),Pd(e,r);else if(Gw(s,e,t,n,r))r.stopPropagation();else if(Pd(e,r),t&4&&-1<Yw.indexOf(e)){for(;s!==null;){var i=ui(s);if(i!==null&&tm(i),i=Ru(e,t,n,r),i===null&&$a(e,t,r,Eo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $a(e,t,r,null,n)}}var Eo=null;function Ru(e,t,n,r){if(Eo=null,e=Wc(r),e=Pn(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Eo=e,null}function om(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zw()){case Vc:return 1;case Yp:return 4;case So:case Kw:return 16;case Gp:return 536870912;default:return 16}default:return 16}}var tn=null,Jc=null,Yi=null;function lm(){if(Yi)return Yi;var e,t=Jc,n=t.length,r,s="value"in tn?tn.value:tn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Yi=s.slice(e,1<r?1-r:void 0)}function Gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Od(){return!1}function Ze(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xi:Od,this.isPropagationStopped=Od,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xc=Ze(qr),ai=ne({},qr,{view:0,detail:0}),n1=Ze(ai),ba,Aa,ss,Ml=ne({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(ba=e.screenX-ss.screenX,Aa=e.screenY-ss.screenY):Aa=ba=0,ss=e),ba)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),Id=Ze(Ml),r1=ne({},Ml,{dataTransfer:0}),s1=Ze(r1),i1=ne({},ai,{relatedTarget:0}),xa=Ze(i1),o1=ne({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),l1=Ze(o1),a1=ne({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u1=Ze(a1),c1=ne({},qr,{data:0}),Rd=Ze(c1),f1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=h1[e])?!!t[e]:!1}function Yc(){return p1}var m1=ne({},ai,{key:function(e){if(e.key){var t=f1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yc,charCode:function(e){return e.type==="keypress"?Gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),y1=Ze(m1),g1=ne({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=Ze(g1),w1=ne({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yc}),v1=Ze(w1),S1=ne({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_1=Ze(S1),k1=ne({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),E1=Ze(k1),C1=[9,13,27,32],Gc=Kt&&"CompositionEvent"in window,bs=null;Kt&&"documentMode"in document&&(bs=document.documentMode);var b1=Kt&&"TextEvent"in window&&!bs,am=Kt&&(!Gc||bs&&8<bs&&11>=bs),$d=" ",Ld=!1;function um(e,t){switch(e){case"keyup":return C1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function A1(e,t){switch(e){case"compositionend":return cm(t);case"keypress":return t.which!==32?null:(Ld=!0,$d);case"textInput":return e=t.data,e===$d&&Ld?null:e;default:return null}}function x1(e,t){if(ir)return e==="compositionend"||!Gc&&um(e,t)?(e=lm(),Yi=Jc=tn=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return am&&t.locale!=="ko"?null:t.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P1[e.type]:t==="textarea"}function fm(e,t,n,r){zp(r),t=Co(t,"onChange"),0<t.length&&(n=new Xc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var As=null,Ks=null;function N1(e){km(e,0)}function Bl(e){var t=ar(e);if(Lp(t))return e}function O1(e,t){if(e==="change")return t}var dm=!1;if(Kt){var Pa;if(Kt){var Na="oninput"in document;if(!Na){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),Na=typeof Bd.oninput=="function"}Pa=Na}else Pa=!1;dm=Pa&&(!document.documentMode||9<document.documentMode)}function Dd(){As&&(As.detachEvent("onpropertychange",hm),Ks=As=null)}function hm(e){if(e.propertyName==="value"&&Bl(Ks)){var t=[];fm(t,Ks,e,Wc(e)),qp(N1,t)}}function I1(e,t,n){e==="focusin"?(Dd(),As=t,Ks=n,As.attachEvent("onpropertychange",hm)):e==="focusout"&&Dd()}function R1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bl(Ks)}function T1(e,t){if(e==="click")return Bl(t)}function $1(e,t){if(e==="input"||e==="change")return Bl(t)}function L1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:L1;function Ws(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pu.call(t,s)||!_t(e[s],t[s]))return!1}return!0}function jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fd(e,t){var n=jd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jd(n)}}function pm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mm(){for(var e=window,t=go();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=go(e.document)}return t}function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function M1(e){var t=mm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pm(n.ownerDocument.documentElement,n)){if(r!==null&&Zc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Fd(n,i);var o=Fd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B1=Kt&&"documentMode"in document&&11>=document.documentMode,or=null,Tu=null,xs=null,$u=!1;function Ud(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$u||or==null||or!==go(r)||(r=or,"selectionStart"in r&&Zc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xs&&Ws(xs,r)||(xs=r,r=Co(Tu,"onSelect"),0<r.length&&(t=new Xc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function Pi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lr={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionend:Pi("Transition","TransitionEnd")},Oa={},ym={};Kt&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function Dl(e){if(Oa[e])return Oa[e];if(!lr[e])return e;var t=lr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ym)return Oa[e]=t[n];return e}var gm=Dl("animationend"),wm=Dl("animationiteration"),vm=Dl("animationstart"),Sm=Dl("transitionend"),_m=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){_m.set(e,t),Vn(t,[e])}for(var Ia=0;Ia<zd.length;Ia++){var Ra=zd[Ia],D1=Ra.toLowerCase(),j1=Ra[0].toUpperCase()+Ra.slice(1);wn(D1,"on"+j1)}wn(gm,"onAnimationEnd");wn(wm,"onAnimationIteration");wn(vm,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(Sm,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function Kd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Dw(r,t,void 0,e),e.currentTarget=null}function km(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Kd(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Kd(s,l,u),i=a}}}if(vo)throw e=Nu,vo=!1,Nu=null,e}function q(e,t){var n=t[ju];n===void 0&&(n=t[ju]=new Set);var r=e+"__bubble";n.has(r)||(Em(t,e,2,!1),n.add(r))}function Ta(e,t,n){var r=0;t&&(r|=4),Em(n,e,r,t)}var Ni="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[Ni]){e[Ni]=!0,Op.forEach(function(n){n!=="selectionchange"&&(F1.has(n)||Ta(n,!1,e),Ta(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ni]||(t[Ni]=!0,Ta("selectionchange",!1,t))}}function Em(e,t,n,r){switch(om(t)){case 1:var s=e1;break;case 4:s=t1;break;default:s=Qc}n=s.bind(null,t,n,e),s=void 0,!Pu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function $a(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Pn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}qp(function(){var u=i,h=Wc(n),c=[];e:{var f=_m.get(e);if(f!==void 0){var p=Xc,v=e;switch(e){case"keypress":if(Gi(n)===0)break e;case"keydown":case"keyup":p=y1;break;case"focusin":v="focus",p=xa;break;case"focusout":v="blur",p=xa;break;case"beforeblur":case"afterblur":p=xa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=s1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=v1;break;case gm:case wm:case vm:p=l1;break;case Sm:p=_1;break;case"scroll":p=n1;break;case"wheel":p=E1;break;case"copy":case"cut":case"paste":p=u1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Td}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var d=u,g;d!==null;){g=d;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,m!==null&&(S=js(d,m),S!=null&&y.push(qs(d,S,g)))),w)break;d=d.return}0<y.length&&(f=new p(f,v,null,n,h),c.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Au&&(v=n.relatedTarget||n.fromElement)&&(Pn(v)||v[Wt]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Pn(v):null,v!==null&&(w=qn(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=Id,S="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(y=Td,S="onPointerLeave",m="onPointerEnter",d="pointer"),w=p==null?f:ar(p),g=v==null?f:ar(v),f=new y(S,d+"leave",p,n,h),f.target=w,f.relatedTarget=g,S=null,Pn(h)===u&&(y=new y(m,d+"enter",v,n,h),y.target=g,y.relatedTarget=w,S=y),w=S,p&&v)t:{for(y=p,m=v,d=0,g=y;g;g=Jn(g))d++;for(g=0,S=m;S;S=Jn(S))g++;for(;0<d-g;)y=Jn(y),d--;for(;0<g-d;)m=Jn(m),g--;for(;d--;){if(y===m||m!==null&&y===m.alternate)break t;y=Jn(y),m=Jn(m)}y=null}else y=null;p!==null&&Wd(c,f,p,y,!1),v!==null&&w!==null&&Wd(c,w,v,y,!0)}}e:{if(f=u?ar(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=O1;else if(Md(f))if(dm)k=$1;else{k=R1;var _=I1}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=T1);if(k&&(k=k(e,u))){fm(c,k,n,h);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&_u(f,"number",f.value)}switch(_=u?ar(u):window,e){case"focusin":(Md(_)||_.contentEditable==="true")&&(or=_,Tu=u,xs=null);break;case"focusout":xs=Tu=or=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,Ud(c,n,h);break;case"selectionchange":if(B1)break;case"keydown":case"keyup":Ud(c,n,h)}var C;if(Gc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ir?um(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(am&&n.locale!=="ko"&&(ir||E!=="onCompositionStart"?E==="onCompositionEnd"&&ir&&(C=lm()):(tn=h,Jc="value"in tn?tn.value:tn.textContent,ir=!0)),_=Co(u,E),0<_.length&&(E=new Rd(E,e,null,n,h),c.push({event:E,listeners:_}),C?E.data=C:(C=cm(n),C!==null&&(E.data=C)))),(C=b1?A1(e,n):x1(e,n))&&(u=Co(u,"onBeforeInput"),0<u.length&&(h=new Rd("onBeforeInput","beforeinput",null,n,h),c.push({event:h,listeners:u}),h.data=C))}km(c,t)})}function qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Co(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=js(e,n),i!=null&&r.unshift(qs(e,i,s)),i=js(e,t),i!=null&&r.push(qs(e,i,s))),e=e.return}return r}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=js(n,i),a!=null&&o.unshift(qs(n,a,l))):s||(a=js(n,i),a!=null&&o.push(qs(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var U1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function Vd(e){return(typeof e=="string"?e:""+e).replace(U1,`
`).replace(z1,"")}function Oi(e,t,n){if(t=Vd(t),Vd(e)!==t&&n)throw Error(b(425))}function bo(){}var Lu=null,Mu=null;function Bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,K1=typeof clearTimeout=="function"?clearTimeout:void 0,qd=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof qd<"u"?function(e){return qd.resolve(null).then(e).catch(V1)}:Du;function V1(e){setTimeout(function(){throw e})}function La(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zs(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Hr,Hs="__reactProps$"+Hr,Wt="__reactContainer$"+Hr,ju="__reactEvents$"+Hr,q1="__reactListeners$"+Hr,H1="__reactHandles$"+Hr;function Pn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hd(e);e!==null;){if(n=e[Nt])return n;e=Hd(e)}return t}e=n,n=e.parentNode}return null}function ui(e){return e=e[Nt]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function jl(e){return e[Hs]||null}var Fu=[],ur=-1;function vn(e){return{current:e}}function H(e){0>ur||(e.current=Fu[ur],Fu[ur]=null,ur--)}function V(e,t){ur++,Fu[ur]=e.current,e.current=t}var mn={},Pe=vn(mn),je=vn(!1),Bn=mn;function Mr(e,t){var n=e.type.contextTypes;if(!n)return mn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(e){return e=e.childContextTypes,e!=null}function Ao(){H(je),H(Pe)}function Qd(e,t,n){if(Pe.current!==mn)throw Error(b(168));V(Pe,t),V(je,n)}function Cm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(b(108,Iw(e)||"Unknown",s));return ne({},n,r)}function xo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mn,Bn=Pe.current,V(Pe,e),V(je,je.current),!0}function Jd(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=Cm(e,t,Bn),r.__reactInternalMemoizedMergedChildContext=e,H(je),H(Pe),V(Pe,e)):H(je),V(je,n)}var Bt=null,Fl=!1,Ma=!1;function bm(e){Bt===null?Bt=[e]:Bt.push(e)}function Q1(e){Fl=!0,bm(e)}function Sn(){if(!Ma&&Bt!==null){Ma=!0;var e=0,t=U;try{var n=Bt;for(U=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bt=null,Fl=!1}catch(s){throw Bt!==null&&(Bt=Bt.slice(e+1)),Xp(Vc,Sn),s}finally{U=t,Ma=!1}}return null}var cr=[],fr=0,Po=null,No=0,tt=[],nt=0,Dn=null,Dt=1,jt="";function Cn(e,t){cr[fr++]=No,cr[fr++]=Po,Po=e,No=t}function Am(e,t,n){tt[nt++]=Dt,tt[nt++]=jt,tt[nt++]=Dn,Dn=e;var r=Dt;e=jt;var s=32-wt(r)-1;r&=~(1<<s),n+=1;var i=32-wt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Dt=1<<32-wt(t)+s|n<<s|r,jt=i+e}else Dt=1<<i|n<<s|r,jt=e}function ef(e){e.return!==null&&(Cn(e,1),Am(e,1,0))}function tf(e){for(;e===Po;)Po=cr[--fr],cr[fr]=null,No=cr[--fr],cr[fr]=null;for(;e===Dn;)Dn=tt[--nt],tt[nt]=null,jt=tt[--nt],tt[nt]=null,Dt=tt[--nt],tt[nt]=null}var Xe=null,Je=null,J=!1,mt=null;function xm(e,t){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Je=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dn!==null?{id:Dt,overflow:jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Je=null,!0):!1;default:return!1}}function Uu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zu(e){if(J){var t=Je;if(t){var n=t;if(!Xd(e,t)){if(Uu(e))throw Error(b(418));t=ln(n.nextSibling);var r=Xe;t&&Xd(e,t)?xm(r,n):(e.flags=e.flags&-4097|2,J=!1,Xe=e)}}else{if(Uu(e))throw Error(b(418));e.flags=e.flags&-4097|2,J=!1,Xe=e}}}function Yd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function Ii(e){if(e!==Xe)return!1;if(!J)return Yd(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bu(e.type,e.memoizedProps)),t&&(t=Je)){if(Uu(e))throw Pm(),Error(b(418));for(;t;)xm(e,t),t=ln(t.nextSibling)}if(Yd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Xe?ln(e.stateNode.nextSibling):null;return!0}function Pm(){for(var e=Je;e;)e=ln(e.nextSibling)}function Br(){Je=Xe=null,J=!1}function nf(e){mt===null?mt=[e]:mt.push(e)}var J1=Qt.ReactCurrentBatchConfig;function is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function Ri(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gd(e){var t=e._init;return t(e._payload)}function Nm(e){function t(m,d){if(e){var g=m.deletions;g===null?(m.deletions=[d],m.flags|=16):g.push(d)}}function n(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function s(m,d){return m=fn(m,d),m.index=0,m.sibling=null,m}function i(m,d,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<d?(m.flags|=2,d):g):(m.flags|=2,d)):(m.flags|=1048576,d)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,d,g,S){return d===null||d.tag!==6?(d=Ka(g,m.mode,S),d.return=m,d):(d=s(d,g),d.return=m,d)}function a(m,d,g,S){var k=g.type;return k===sr?h(m,d,g.props.children,S,g.key):d!==null&&(d.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yt&&Gd(k)===d.type)?(S=s(d,g.props),S.ref=is(m,d,g),S.return=m,S):(S=io(g.type,g.key,g.props,null,m.mode,S),S.ref=is(m,d,g),S.return=m,S)}function u(m,d,g,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Wa(g,m.mode,S),d.return=m,d):(d=s(d,g.children||[]),d.return=m,d)}function h(m,d,g,S,k){return d===null||d.tag!==7?(d=Mn(g,m.mode,S,k),d.return=m,d):(d=s(d,g),d.return=m,d)}function c(m,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ka(""+d,m.mode,g),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case _i:return g=io(d.type,d.key,d.props,null,m.mode,g),g.ref=is(m,null,d),g.return=m,g;case rr:return d=Wa(d,m.mode,g),d.return=m,d;case Yt:var S=d._init;return c(m,S(d._payload),g)}if(cs(d)||es(d))return d=Mn(d,m.mode,g,null),d.return=m,d;Ri(m,d)}return null}function f(m,d,g,S){var k=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(m,d,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _i:return g.key===k?a(m,d,g,S):null;case rr:return g.key===k?u(m,d,g,S):null;case Yt:return k=g._init,f(m,d,k(g._payload),S)}if(cs(g)||es(g))return k!==null?null:h(m,d,g,S,null);Ri(m,g)}return null}function p(m,d,g,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(g)||null,l(d,m,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _i:return m=m.get(S.key===null?g:S.key)||null,a(d,m,S,k);case rr:return m=m.get(S.key===null?g:S.key)||null,u(d,m,S,k);case Yt:var _=S._init;return p(m,d,g,_(S._payload),k)}if(cs(S)||es(S))return m=m.get(g)||null,h(d,m,S,k,null);Ri(d,S)}return null}function v(m,d,g,S){for(var k=null,_=null,C=d,E=d=0,O=null;C!==null&&E<g.length;E++){C.index>E?(O=C,C=null):O=C.sibling;var x=f(m,C,g[E],S);if(x===null){C===null&&(C=O);break}e&&C&&x.alternate===null&&t(m,C),d=i(x,d,E),_===null?k=x:_.sibling=x,_=x,C=O}if(E===g.length)return n(m,C),J&&Cn(m,E),k;if(C===null){for(;E<g.length;E++)C=c(m,g[E],S),C!==null&&(d=i(C,d,E),_===null?k=C:_.sibling=C,_=C);return J&&Cn(m,E),k}for(C=r(m,C);E<g.length;E++)O=p(C,m,E,g[E],S),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?E:O.key),d=i(O,d,E),_===null?k=O:_.sibling=O,_=O);return e&&C.forEach(function(R){return t(m,R)}),J&&Cn(m,E),k}function y(m,d,g,S){var k=es(g);if(typeof k!="function")throw Error(b(150));if(g=k.call(g),g==null)throw Error(b(151));for(var _=k=null,C=d,E=d=0,O=null,x=g.next();C!==null&&!x.done;E++,x=g.next()){C.index>E?(O=C,C=null):O=C.sibling;var R=f(m,C,x.value,S);if(R===null){C===null&&(C=O);break}e&&C&&R.alternate===null&&t(m,C),d=i(R,d,E),_===null?k=R:_.sibling=R,_=R,C=O}if(x.done)return n(m,C),J&&Cn(m,E),k;if(C===null){for(;!x.done;E++,x=g.next())x=c(m,x.value,S),x!==null&&(d=i(x,d,E),_===null?k=x:_.sibling=x,_=x);return J&&Cn(m,E),k}for(C=r(m,C);!x.done;E++,x=g.next())x=p(C,m,E,x.value,S),x!==null&&(e&&x.alternate!==null&&C.delete(x.key===null?E:x.key),d=i(x,d,E),_===null?k=x:_.sibling=x,_=x);return e&&C.forEach(function(F){return t(m,F)}),J&&Cn(m,E),k}function w(m,d,g,S){if(typeof g=="object"&&g!==null&&g.type===sr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case _i:e:{for(var k=g.key,_=d;_!==null;){if(_.key===k){if(k=g.type,k===sr){if(_.tag===7){n(m,_.sibling),d=s(_,g.props.children),d.return=m,m=d;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yt&&Gd(k)===_.type){n(m,_.sibling),d=s(_,g.props),d.ref=is(m,_,g),d.return=m,m=d;break e}n(m,_);break}else t(m,_);_=_.sibling}g.type===sr?(d=Mn(g.props.children,m.mode,S,g.key),d.return=m,m=d):(S=io(g.type,g.key,g.props,null,m.mode,S),S.ref=is(m,d,g),S.return=m,m=S)}return o(m);case rr:e:{for(_=g.key;d!==null;){if(d.key===_)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(m,d.sibling),d=s(d,g.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else t(m,d);d=d.sibling}d=Wa(g,m.mode,S),d.return=m,m=d}return o(m);case Yt:return _=g._init,w(m,d,_(g._payload),S)}if(cs(g))return v(m,d,g,S);if(es(g))return y(m,d,g,S);Ri(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(m,d.sibling),d=s(d,g),d.return=m,m=d):(n(m,d),d=Ka(g,m.mode,S),d.return=m,m=d),o(m)):n(m,d)}return w}var Dr=Nm(!0),Om=Nm(!1),Oo=vn(null),Io=null,dr=null,rf=null;function sf(){rf=dr=Io=null}function of(e){var t=Oo.current;H(Oo),e._currentValue=t}function Ku(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function br(e,t){Io=e,rf=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(rf!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(Io===null)throw Error(b(308));dr=e,Io.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var Nn=null;function lf(e){Nn===null?Nn=[e]:Nn.push(e)}function Im(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,lf(t)):(n.next=s.next,s.next=n),t.interleaved=n,Vt(e,r)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gt=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,j&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Vt(e,n)}return s=r.interleaved,s===null?(t.next=t,lf(r)):(t.next=s.next,s.next=t),r.interleaved=t,Vt(e,n)}function Zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qc(e,n)}}function Zd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ro(e,t,n,r){var s=e.updateQueue;Gt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(i!==null){var c=s.baseState;o=0,h=u=a=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(f=t,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){c=v.call(p,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,c,f):v,f==null)break e;c=ne({},c,f);break e;case 2:Gt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,a=c):h=h.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Fn|=o,e.lanes=o,e.memoizedState=c}}function eh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var ci={},It=vn(ci),Qs=vn(ci),Js=vn(ci);function On(e){if(e===ci)throw Error(b(174));return e}function uf(e,t){switch(V(Js,t),V(Qs,e),V(It,ci),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Eu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Eu(t,e)}H(It),V(It,t)}function jr(){H(It),H(Qs),H(Js)}function Tm(e){On(Js.current);var t=On(It.current),n=Eu(t,e.type);t!==n&&(V(Qs,e),V(It,n))}function cf(e){Qs.current===e&&(H(It),H(Qs))}var G=vn(0);function To(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=[];function ff(){for(var e=0;e<Ba.length;e++)Ba[e]._workInProgressVersionPrimary=null;Ba.length=0}var eo=Qt.ReactCurrentDispatcher,Da=Qt.ReactCurrentBatchConfig,jn=0,ee=null,fe=null,me=null,$o=!1,Ps=!1,Xs=0,X1=0;function _e(){throw Error(b(321))}function df(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function hf(e,t,n,r,s,i){if(jn=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eo.current=e===null||e.memoizedState===null?ev:tv,e=n(r,s),Ps){i=0;do{if(Ps=!1,Xs=0,25<=i)throw Error(b(301));i+=1,me=fe=null,t.updateQueue=null,eo.current=nv,e=n(r,s)}while(Ps)}if(eo.current=Lo,t=fe!==null&&fe.next!==null,jn=0,me=fe=ee=null,$o=!1,t)throw Error(b(300));return e}function pf(){var e=Xs!==0;return Xs=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ee.memoizedState=me=e:me=me.next=e,me}function lt(){if(fe===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=me===null?ee.memoizedState:me.next;if(t!==null)me=t,fe=e;else{if(e===null)throw Error(b(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?ee.memoizedState=me=e:me=me.next=e}return me}function Ys(e,t){return typeof t=="function"?t(e):t}function ja(e){var t=lt(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var h=u.lane;if((jn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,ee.lanes|=h,Fn|=h}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,_t(r,t.memoizedState)||(De=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ee.lanes|=i,Fn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fa(e){var t=lt(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);_t(i,t.memoizedState)||(De=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function $m(){}function Lm(e,t){var n=ee,r=lt(),s=t(),i=!_t(r.memoizedState,s);if(i&&(r.memoizedState=s,De=!0),r=r.queue,mf(Dm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Gs(9,Bm.bind(null,n,r,s,t),void 0,null),ye===null)throw Error(b(349));jn&30||Mm(n,t,s)}return s}function Mm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bm(e,t,n,r){t.value=n,t.getSnapshot=r,jm(t)&&Fm(e)}function Dm(e,t,n){return n(function(){jm(t)&&Fm(e)})}function jm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function Fm(e){var t=Vt(e,1);t!==null&&vt(t,e,1,-1)}function th(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:e},t.queue=e,e=e.dispatch=Z1.bind(null,ee,e),[t.memoizedState,e]}function Gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Um(){return lt().memoizedState}function to(e,t,n,r){var s=At();ee.flags|=e,s.memoizedState=Gs(1|t,n,void 0,r===void 0?null:r)}function Ul(e,t,n,r){var s=lt();r=r===void 0?null:r;var i=void 0;if(fe!==null){var o=fe.memoizedState;if(i=o.destroy,r!==null&&df(r,o.deps)){s.memoizedState=Gs(t,n,i,r);return}}ee.flags|=e,s.memoizedState=Gs(1|t,n,i,r)}function nh(e,t){return to(8390656,8,e,t)}function mf(e,t){return Ul(2048,8,e,t)}function zm(e,t){return Ul(4,2,e,t)}function Km(e,t){return Ul(4,4,e,t)}function Wm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vm(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,Wm.bind(null,t,e),n)}function yf(){}function qm(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&df(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hm(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&df(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qm(e,t,n){return jn&21?(_t(n,t)||(n=Zp(),ee.lanes|=n,Fn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=n)}function Y1(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var r=Da.transition;Da.transition={};try{e(!1),t()}finally{U=n,Da.transition=r}}function Jm(){return lt().memoizedState}function G1(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xm(e))Ym(t,n);else if(n=Im(e,t,n,r),n!==null){var s=Re();vt(n,e,r,s),Gm(n,t,r)}}function Z1(e,t,n){var r=cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xm(e))Ym(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,_t(l,o)){var a=t.interleaved;a===null?(s.next=s,lf(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Im(e,t,s,r),n!==null&&(s=Re(),vt(n,e,r,s),Gm(n,t,r))}}function Xm(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Ym(e,t){Ps=$o=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qc(e,n)}}var Lo={readContext:ot,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},ev={readContext:ot,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:nh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,to(4194308,4,Wm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return to(4194308,4,e,t)},useInsertionEffect:function(e,t){return to(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=G1.bind(null,ee,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:th,useDebugValue:yf,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=th(!1),t=e[0];return e=Y1.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ee,s=At();if(J){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),ye===null)throw Error(b(349));jn&30||Mm(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,nh(Dm.bind(null,r,i,e),[e]),r.flags|=2048,Gs(9,Bm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=At(),t=ye.identifierPrefix;if(J){var n=jt,r=Dt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=X1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tv={readContext:ot,useCallback:qm,useContext:ot,useEffect:mf,useImperativeHandle:Vm,useInsertionEffect:zm,useLayoutEffect:Km,useMemo:Hm,useReducer:ja,useRef:Um,useState:function(){return ja(Ys)},useDebugValue:yf,useDeferredValue:function(e){var t=lt();return Qm(t,fe.memoizedState,e)},useTransition:function(){var e=ja(Ys)[0],t=lt().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Lm,useId:Jm,unstable_isNewReconciler:!1},nv={readContext:ot,useCallback:qm,useContext:ot,useEffect:mf,useImperativeHandle:Vm,useInsertionEffect:zm,useLayoutEffect:Km,useMemo:Hm,useReducer:Fa,useRef:Um,useState:function(){return Fa(Ys)},useDebugValue:yf,useDeferredValue:function(e){var t=lt();return fe===null?t.memoizedState=e:Qm(t,fe.memoizedState,e)},useTransition:function(){var e=Fa(Ys)[0],t=lt().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Lm,useId:Jm,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zl={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),s=cn(e),i=Ut(r,s);i.payload=t,n!=null&&(i.callback=n),t=an(e,i,s),t!==null&&(vt(t,e,s,r),Zi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),s=cn(e),i=Ut(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=an(e,i,s),t!==null&&(vt(t,e,s,r),Zi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=cn(e),s=Ut(n,r);s.tag=2,t!=null&&(s.callback=t),t=an(e,s,r),t!==null&&(vt(t,e,r,n),Zi(t,e,r))}};function rh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ws(n,r)||!Ws(s,i):!0}function Zm(e,t,n){var r=!1,s=mn,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(s=Fe(t)?Bn:Pe.current,r=t.contextTypes,i=(r=r!=null)?Mr(e,s):mn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function sh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zl.enqueueReplaceState(t,t.state,null)}function Vu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},af(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ot(i):(i=Fe(t)?Bn:Pe.current,s.context=Mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Wu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zl.enqueueReplaceState(s,s.state,null),Ro(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var n="",r=t;do n+=Ow(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ua(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rv=typeof WeakMap=="function"?WeakMap:Map;function ey(e,t,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bo||(Bo=!0,nc=r),qu(e,t)},n}function ty(e,t,n){n=Ut(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){qu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qu(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ih(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=gv.bind(null,e,t,n),t.then(e,e))}function oh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ut(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e)}var sv=Qt.ReactCurrentOwner,De=!1;function Oe(e,t,n,r){t.child=e===null?Om(t,null,n,r):Dr(t,e.child,n,r)}function ah(e,t,n,r,s){n=n.render;var i=t.ref;return br(t,s),r=hf(e,t,n,r,i,s),n=pf(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(J&&n&&ef(t),t.flags|=1,Oe(e,t,r,s),t.child)}function uh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Cf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ny(e,t,i,r,s)):(e=io(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ws,n(o,r)&&e.ref===t.ref)return qt(e,t,s)}return t.flags|=1,e=fn(i,r),e.ref=t.ref,e.return=t,t.child=e}function ny(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ws(i,r)&&e.ref===t.ref)if(De=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,qt(e,t,s)}return Hu(e,t,n,r,s)}function ry(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(pr,He),He|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(pr,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(pr,He),He|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,V(pr,He),He|=r;return Oe(e,t,s,n),t.child}function sy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hu(e,t,n,r,s){var i=Fe(n)?Bn:Pe.current;return i=Mr(t,i),br(t,s),n=hf(e,t,n,r,i,s),r=pf(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(J&&r&&ef(t),t.flags|=1,Oe(e,t,n,s),t.child)}function ch(e,t,n,r,s){if(Fe(n)){var i=!0;xo(t)}else i=!1;if(br(t,s),t.stateNode===null)no(e,t),Zm(t,n,r),Vu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Fe(n)?Bn:Pe.current,u=Mr(t,u));var h=n.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&sh(t,o,r,u),Gt=!1;var f=t.memoizedState;o.state=f,Ro(t,r,o,s),a=t.memoizedState,l!==r||f!==a||je.current||Gt?(typeof h=="function"&&(Wu(t,n,h,r),a=t.memoizedState),(l=Gt||rh(t,n,l,r,f,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Rm(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dt(t.type,l),o.props=u,c=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ot(a):(a=Fe(n)?Bn:Pe.current,a=Mr(t,a));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==a)&&sh(t,o,r,a),Gt=!1,f=t.memoizedState,o.state=f,Ro(t,r,o,s);var v=t.memoizedState;l!==c||f!==v||je.current||Gt?(typeof p=="function"&&(Wu(t,n,p,r),v=t.memoizedState),(u=Gt||rh(t,n,u,r,f,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Qu(e,t,n,r,i,s)}function Qu(e,t,n,r,s,i){sy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Jd(t,n,!1),qt(e,t,i);r=t.stateNode,sv.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Dr(t,e.child,null,i),t.child=Dr(t,null,l,i)):Oe(e,t,l,i),t.memoizedState=r.state,s&&Jd(t,n,!0),t.child}function iy(e){var t=e.stateNode;t.pendingContext?Qd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qd(e,t.context,!1),uf(e,t.containerInfo)}function fh(e,t,n,r,s){return Br(),nf(s),t.flags|=256,Oe(e,t,n,r),t.child}var Ju={dehydrated:null,treeContext:null,retryLane:0};function Xu(e){return{baseLanes:e,cachePool:null,transitions:null}}function oy(e,t,n){var r=t.pendingProps,s=G.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),V(G,s&1),e===null)return zu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vl(o,r,0,null),e=Mn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xu(n),t.memoizedState=Ju,e):gf(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return iv(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=fn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=fn(l,i):(i=Mn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Xu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ju,r}return i=e.child,e=i.sibling,r=fn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gf(e,t){return t=Vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ti(e,t,n,r){return r!==null&&nf(r),Dr(t,e.child,null,n),e=gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ua(Error(b(422))),Ti(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Vl({mode:"visible",children:r.children},s,0,null),i=Mn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Dr(t,e.child,null,o),t.child.memoizedState=Xu(o),t.memoizedState=Ju,i);if(!(t.mode&1))return Ti(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(b(419)),r=Ua(i,r,void 0),Ti(e,t,o,r)}if(l=(o&e.childLanes)!==0,De||l){if(r=ye,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vt(e,s),vt(r,e,s,-1))}return Ef(),r=Ua(Error(b(421))),Ti(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Je=ln(s.nextSibling),Xe=t,J=!0,mt=null,e!==null&&(tt[nt++]=Dt,tt[nt++]=jt,tt[nt++]=Dn,Dt=e.id,jt=e.overflow,Dn=t),t=gf(t,r.children),t.flags|=4096,t)}function dh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ku(e.return,t,n)}function za(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ly(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Oe(e,t,r.children,n),r=G.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dh(e,n,t);else if(e.tag===19)dh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(V(G,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&To(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),za(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&To(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}za(t,!0,n,null,i);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function no(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ov(e,t,n){switch(t.tag){case 3:iy(t),Br();break;case 5:Tm(t);break;case 1:Fe(t.type)&&xo(t);break;case 4:uf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;V(Oo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(V(G,G.current&1),t.flags|=128,null):n&t.child.childLanes?oy(e,t,n):(V(G,G.current&1),e=qt(e,t,n),e!==null?e.sibling:null);V(G,G.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ly(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(G,G.current),r)break;return null;case 22:case 23:return t.lanes=0,ry(e,t,n)}return qt(e,t,n)}var ay,Yu,uy,cy;ay=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yu=function(){};uy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,On(It.current);var i=null;switch(n){case"input":s=vu(e,s),r=vu(e,r),i=[];break;case"select":s=ne({},s,{value:void 0}),r=ne({},r,{value:void 0}),i=[];break;case"textarea":s=ku(e,s),r=ku(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bo)}Cu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&q("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};cy=function(e,t,n,r){n!==r&&(t.flags|=4)};function os(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lv(e,t,n){var r=t.pendingProps;switch(tf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return Fe(t.type)&&Ao(),ke(t),null;case 3:return r=t.stateNode,jr(),H(je),H(Pe),ff(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(ic(mt),mt=null))),Yu(e,t),ke(t),null;case 5:cf(t);var s=On(Js.current);if(n=t.type,e!==null&&t.stateNode!=null)uy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return ke(t),null}if(e=On(It.current),Ii(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Nt]=t,r[Hs]=i,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<ds.length;s++)q(ds[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":_d(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":Ed(r,i),q("invalid",r)}Cu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,l,e),s=["children",""+l]):Bs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":ki(r),kd(r,i,!0);break;case"textarea":ki(r),Cd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Nt]=t,e[Hs]=r,ay(e,t,!1,!1),t.stateNode=e;e:{switch(o=bu(n,r),n){case"dialog":q("cancel",e),q("close",e),s=r;break;case"iframe":case"object":case"embed":q("load",e),s=r;break;case"video":case"audio":for(s=0;s<ds.length;s++)q(ds[s],e);s=r;break;case"source":q("error",e),s=r;break;case"img":case"image":case"link":q("error",e),q("load",e),s=r;break;case"details":q("toggle",e),s=r;break;case"input":_d(e,r),s=vu(e,r),q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ne({},r,{value:void 0}),q("invalid",e);break;case"textarea":Ed(e,r),s=ku(e,r),q("invalid",e);break;default:s=r}Cu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Up(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&jp(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ds(e,a):typeof a=="number"&&Ds(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&q("scroll",e):a!=null&&Fc(e,i,a,o))}switch(n){case"input":ki(e),kd(e,r,!1);break;case"textarea":ki(e),Cd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?_r(e,!!r.multiple,i,!1):r.defaultValue!=null&&_r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)cy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=On(Js.current),On(It.current),Ii(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nt]=t,(i=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:Oi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=t,t.stateNode=r}return ke(t),null;case 13:if(H(G),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Je!==null&&t.mode&1&&!(t.flags&128))Pm(),Br(),t.flags|=98560,i=!1;else if(i=Ii(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(b(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[Nt]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),i=!1}else mt!==null&&(ic(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||G.current&1?de===0&&(de=3):Ef())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return jr(),Yu(e,t),e===null&&Vs(t.stateNode.containerInfo),ke(t),null;case 10:return of(t.type._context),ke(t),null;case 17:return Fe(t.type)&&Ao(),ke(t),null;case 19:if(H(G),i=t.memoizedState,i===null)return ke(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)os(i,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=To(e),o!==null){for(t.flags|=128,os(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return V(G,G.current&1|2),t.child}e=e.sibling}i.tail!==null&&ie()>Ur&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304)}else{if(!r)if(e=To(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ke(t),null}else 2*ie()-i.renderingStartTime>Ur&&n!==1073741824&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ie(),t.sibling=null,n=G.current,V(G,r?n&1|2:n&1),t):(ke(t),null);case 22:case 23:return kf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?He&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function av(e,t){switch(tf(t),t.tag){case 1:return Fe(t.type)&&Ao(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(),H(je),H(Pe),ff(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cf(t),null;case 13:if(H(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(G),null;case 4:return jr(),null;case 10:return of(t.type._context),null;case 22:case 23:return kf(),null;case 24:return null;default:return null}}var $i=!1,Ae=!1,uv=typeof WeakSet=="function"?WeakSet:Set,P=null;function hr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){re(e,t,r)}}var hh=!1;function cv(e,t){if(Lu=ko,e=mm(),Zc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,h=0,c=e,f=null;t:for(;;){for(var p;c!==n||s!==0&&c.nodeType!==3||(l=o+s),c!==i||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)f=c,c=p;for(;;){if(c===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++h===r&&(a=o),(p=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mu={focusedElem:e,selectionRange:n},ko=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:dt(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(S){re(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return v=hh,hh=!1,v}function Ns(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Gu(t,n,i)}s=s.next}while(s!==r)}}function Kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fy(e){var t=e.alternate;t!==null&&(e.alternate=null,fy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Hs],delete t[ju],delete t[q1],delete t[H1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dy(e){return e.tag===5||e.tag===3||e.tag===4}function ph(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bo));else if(r!==4&&(e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}function tc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tc(e,t,n),e=e.sibling;e!==null;)tc(e,t,n),e=e.sibling}var ge=null,pt=!1;function Jt(e,t,n){for(n=n.child;n!==null;)hy(e,t,n),n=n.sibling}function hy(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 5:Ae||hr(n,t);case 6:var r=ge,s=pt;ge=null,Jt(e,t,n),ge=r,pt=s,ge!==null&&(pt?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(pt?(e=ge,n=n.stateNode,e.nodeType===8?La(e.parentNode,n):e.nodeType===1&&La(e,n),zs(e)):La(ge,n.stateNode));break;case 4:r=ge,s=pt,ge=n.stateNode.containerInfo,pt=!0,Jt(e,t,n),ge=r,pt=s;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Gu(n,t,o),s=s.next}while(s!==r)}Jt(e,t,n);break;case 1:if(!Ae&&(hr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){re(n,t,l)}Jt(e,t,n);break;case 21:Jt(e,t,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,Jt(e,t,n),Ae=r):Jt(e,t,n);break;default:Jt(e,t,n)}}function mh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uv),t.forEach(function(r){var s=vv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,pt=!1;break e;case 3:ge=l.stateNode.containerInfo,pt=!0;break e;case 4:ge=l.stateNode.containerInfo,pt=!0;break e}l=l.return}if(ge===null)throw Error(b(160));hy(i,o,s),ge=null,pt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)py(t,e),t=t.sibling}function py(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),Ct(e),r&4){try{Ns(3,e,e.return),Kl(3,e)}catch(y){re(e,e.return,y)}try{Ns(5,e,e.return)}catch(y){re(e,e.return,y)}}break;case 1:ut(t,e),Ct(e),r&512&&n!==null&&hr(n,n.return);break;case 5:if(ut(t,e),Ct(e),r&512&&n!==null&&hr(n,n.return),e.flags&32){var s=e.stateNode;try{Ds(s,"")}catch(y){re(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Mp(s,i),bu(l,o);var u=bu(l,i);for(o=0;o<a.length;o+=2){var h=a[o],c=a[o+1];h==="style"?Up(s,c):h==="dangerouslySetInnerHTML"?jp(s,c):h==="children"?Ds(s,c):Fc(s,h,c,u)}switch(l){case"input":Su(s,i);break;case"textarea":Bp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?_r(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?_r(s,!!i.multiple,i.defaultValue,!0):_r(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hs]=i}catch(y){re(e,e.return,y)}}break;case 6:if(ut(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(b(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){re(e,e.return,y)}}break;case 3:if(ut(t,e),Ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(y){re(e,e.return,y)}break;case 4:ut(t,e),Ct(e);break;case 13:ut(t,e),Ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Sf=ie())),r&4&&mh(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ae=(u=Ae)||h,ut(t,e),Ae=u):ut(t,e),Ct(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(P=e,h=e.child;h!==null;){for(c=P=h;P!==null;){switch(f=P,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ns(4,f,f.return);break;case 1:hr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){re(r,n,y)}}break;case 5:hr(f,f.return);break;case 22:if(f.memoizedState!==null){gh(c);continue}}p!==null?(p.return=f,P=p):gh(c)}h=h.sibling}e:for(h=null,c=e;;){if(c.tag===5){if(h===null){h=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Fp("display",o))}catch(y){re(e,e.return,y)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){re(e,e.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ut(t,e),Ct(e),r&4&&mh(e);break;case 21:break;default:ut(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dy(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ds(s,""),r.flags&=-33);var i=ph(e);tc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ph(e);ec(e,l,o);break;default:throw Error(b(161))}}catch(a){re(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fv(e,t,n){P=e,my(e)}function my(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$i;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Ae;l=$i;var u=Ae;if($i=o,(Ae=a)&&!u)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?wh(s):a!==null?(a.return=o,P=a):wh(s);for(;i!==null;)P=i,my(i),i=i.sibling;P=s,$i=l,Ae=u}yh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):yh(e)}}function yh(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||Kl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&eh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}eh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&zs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Ae||t.flags&512&&Zu(t)}catch(f){re(t,t.return,f)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function gh(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function wh(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kl(4,t)}catch(a){re(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){re(t,s,a)}}var i=t.return;try{Zu(t)}catch(a){re(t,i,a)}break;case 5:var o=t.return;try{Zu(t)}catch(a){re(t,o,a)}}}catch(a){re(t,t.return,a)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var dv=Math.ceil,Mo=Qt.ReactCurrentDispatcher,wf=Qt.ReactCurrentOwner,st=Qt.ReactCurrentBatchConfig,j=0,ye=null,ae=null,ve=0,He=0,pr=vn(0),de=0,Zs=null,Fn=0,Wl=0,vf=0,Os=null,Me=null,Sf=0,Ur=1/0,Mt=null,Bo=!1,nc=null,un=null,Li=!1,nn=null,Do=0,Is=0,rc=null,ro=-1,so=0;function Re(){return j&6?ie():ro!==-1?ro:ro=ie()}function cn(e){return e.mode&1?j&2&&ve!==0?ve&-ve:J1.transition!==null?(so===0&&(so=Zp()),so):(e=U,e!==0||(e=window.event,e=e===void 0?16:om(e.type)),e):1}function vt(e,t,n,r){if(50<Is)throw Is=0,rc=null,Error(b(185));li(e,n,r),(!(j&2)||e!==ye)&&(e===ye&&(!(j&2)&&(Wl|=n),de===4&&en(e,ve)),Ue(e,r),n===1&&j===0&&!(t.mode&1)&&(Ur=ie()+500,Fl&&Sn()))}function Ue(e,t){var n=e.callbackNode;Jw(e,t);var r=_o(e,e===ye?ve:0);if(r===0)n!==null&&xd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xd(n),t===1)e.tag===0?Q1(vh.bind(null,e)):bm(vh.bind(null,e)),W1(function(){!(j&6)&&Sn()}),n=null;else{switch(em(r)){case 1:n=Vc;break;case 4:n=Yp;break;case 16:n=So;break;case 536870912:n=Gp;break;default:n=So}n=Ey(n,yy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yy(e,t){if(ro=-1,so=0,j&6)throw Error(b(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var r=_o(e,e===ye?ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jo(e,r);else{t=r;var s=j;j|=2;var i=wy();(ye!==e||ve!==t)&&(Mt=null,Ur=ie()+500,Ln(e,t));do try{mv();break}catch(l){gy(e,l)}while(!0);sf(),Mo.current=i,j=s,ae!==null?t=0:(ye=null,ve=0,t=de)}if(t!==0){if(t===2&&(s=Ou(e),s!==0&&(r=s,t=sc(e,s))),t===1)throw n=Zs,Ln(e,0),en(e,r),Ue(e,ie()),n;if(t===6)en(e,r);else{if(s=e.current.alternate,!(r&30)&&!hv(s)&&(t=jo(e,r),t===2&&(i=Ou(e),i!==0&&(r=i,t=sc(e,i))),t===1))throw n=Zs,Ln(e,0),en(e,r),Ue(e,ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:bn(e,Me,Mt);break;case 3:if(en(e,r),(r&130023424)===r&&(t=Sf+500-ie(),10<t)){if(_o(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Du(bn.bind(null,e,Me,Mt),t);break}bn(e,Me,Mt);break;case 4:if(en(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-wt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dv(r/1960))-r,10<r){e.timeoutHandle=Du(bn.bind(null,e,Me,Mt),r);break}bn(e,Me,Mt);break;case 5:bn(e,Me,Mt);break;default:throw Error(b(329))}}}return Ue(e,ie()),e.callbackNode===n?yy.bind(null,e):null}function sc(e,t){var n=Os;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=jo(e,t),e!==2&&(t=Me,Me=n,t!==null&&ic(t)),e}function ic(e){Me===null?Me=e:Me.push.apply(Me,e)}function hv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function en(e,t){for(t&=~vf,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function vh(e){if(j&6)throw Error(b(327));Ar();var t=_o(e,0);if(!(t&1))return Ue(e,ie()),null;var n=jo(e,t);if(e.tag!==0&&n===2){var r=Ou(e);r!==0&&(t=r,n=sc(e,r))}if(n===1)throw n=Zs,Ln(e,0),en(e,t),Ue(e,ie()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,Me,Mt),Ue(e,ie()),null}function _f(e,t){var n=j;j|=1;try{return e(t)}finally{j=n,j===0&&(Ur=ie()+500,Fl&&Sn())}}function Un(e){nn!==null&&nn.tag===0&&!(j&6)&&Ar();var t=j;j|=1;var n=st.transition,r=U;try{if(st.transition=null,U=1,e)return e()}finally{U=r,st.transition=n,j=t,!(j&6)&&Sn()}}function kf(){He=pr.current,H(pr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,K1(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(tf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ao();break;case 3:jr(),H(je),H(Pe),ff();break;case 5:cf(r);break;case 4:jr();break;case 13:H(G);break;case 19:H(G);break;case 10:of(r.type._context);break;case 22:case 23:kf()}n=n.return}if(ye=e,ae=e=fn(e.current,null),ve=He=t,de=0,Zs=null,vf=Wl=Fn=0,Me=Os=null,Nn!==null){for(t=0;t<Nn.length;t++)if(n=Nn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Nn=null}return e}function gy(e,t){do{var n=ae;try{if(sf(),eo.current=Lo,$o){for(var r=ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$o=!1}if(jn=0,me=fe=ee=null,Ps=!1,Xs=0,wf.current=null,n===null||n.return===null){de=1,Zs=t,ae=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=ve,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=oh(o);if(p!==null){p.flags&=-257,lh(p,o,l,i,t),p.mode&1&&ih(i,u,t),t=p,a=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(a),t.updateQueue=y}else v.add(a);break e}else{if(!(t&1)){ih(i,u,t),Ef();break e}a=Error(b(426))}}else if(J&&l.mode&1){var w=oh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),lh(w,o,l,i,t),nf(Fr(a,l));break e}}i=a=Fr(a,l),de!==4&&(de=2),Os===null?Os=[i]:Os.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=ey(i,a,t);Zd(i,m);break e;case 1:l=a;var d=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(un===null||!un.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=ty(i,l,t);Zd(i,S);break e}}i=i.return}while(i!==null)}Sy(n)}catch(k){t=k,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function wy(){var e=Mo.current;return Mo.current=Lo,e===null?Lo:e}function Ef(){(de===0||de===3||de===2)&&(de=4),ye===null||!(Fn&268435455)&&!(Wl&268435455)||en(ye,ve)}function jo(e,t){var n=j;j|=2;var r=wy();(ye!==e||ve!==t)&&(Mt=null,Ln(e,t));do try{pv();break}catch(s){gy(e,s)}while(!0);if(sf(),j=n,Mo.current=r,ae!==null)throw Error(b(261));return ye=null,ve=0,de}function pv(){for(;ae!==null;)vy(ae)}function mv(){for(;ae!==null&&!Fw();)vy(ae)}function vy(e){var t=ky(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?Sy(e):ae=t,wf.current=null}function Sy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=av(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{de=6,ae=null;return}}else if(n=lv(n,t,He),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);de===0&&(de=5)}function bn(e,t,n){var r=U,s=st.transition;try{st.transition=null,U=1,yv(e,t,n,r)}finally{st.transition=s,U=r}return null}function yv(e,t,n,r){do Ar();while(nn!==null);if(j&6)throw Error(b(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Xw(e,i),e===ye&&(ae=ye=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Li||(Li=!0,Ey(So,function(){return Ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=st.transition,st.transition=null;var o=U;U=1;var l=j;j|=4,wf.current=null,cv(e,n),py(n,e),M1(Mu),ko=!!Lu,Mu=Lu=null,e.current=n,fv(n),Uw(),j=l,U=o,st.transition=i}else e.current=n;if(Li&&(Li=!1,nn=e,Do=s),i=e.pendingLanes,i===0&&(un=null),Ww(n.stateNode),Ue(e,ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bo)throw Bo=!1,e=nc,nc=null,e;return Do&1&&e.tag!==0&&Ar(),i=e.pendingLanes,i&1?e===rc?Is++:(Is=0,rc=e):Is=0,Sn(),null}function Ar(){if(nn!==null){var e=em(Do),t=st.transition,n=U;try{if(st.transition=null,U=16>e?16:e,nn===null)var r=!1;else{if(e=nn,nn=null,Do=0,j&6)throw Error(b(331));var s=j;for(j|=4,P=e.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(P=u;P!==null;){var h=P;switch(h.tag){case 0:case 11:case 15:Ns(8,h,i)}var c=h.child;if(c!==null)c.return=h,P=c;else for(;P!==null;){h=P;var f=h.sibling,p=h.return;if(fy(h),h===u){P=null;break}if(f!==null){f.return=p,P=f;break}P=p}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ns(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,P=m;break e}P=i.return}}var d=e.current;for(P=d;P!==null;){o=P;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,P=g;else e:for(o=d;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kl(9,l)}}catch(k){re(l,l.return,k)}if(l===o){P=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,P=S;break e}P=l.return}}if(j=s,Sn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ll,e)}catch{}r=!0}return r}finally{U=n,st.transition=t}}return!1}function Sh(e,t,n){t=Fr(n,t),t=ey(e,t,1),e=an(e,t,1),t=Re(),e!==null&&(li(e,1,t),Ue(e,t))}function re(e,t,n){if(e.tag===3)Sh(e,e,n);else for(;t!==null;){if(t.tag===3){Sh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=Fr(n,e),e=ty(t,e,1),t=an(t,e,1),e=Re(),t!==null&&(li(t,1,e),Ue(t,e));break}}t=t.return}}function gv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(ve&n)===n&&(de===4||de===3&&(ve&130023424)===ve&&500>ie()-Sf?Ln(e,0):vf|=n),Ue(e,t)}function _y(e,t){t===0&&(e.mode&1?(t=bi,bi<<=1,!(bi&130023424)&&(bi=4194304)):t=1);var n=Re();e=Vt(e,t),e!==null&&(li(e,t,n),Ue(e,n))}function wv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_y(e,n)}function vv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),_y(e,n)}var ky;ky=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)De=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return De=!1,ov(e,t,n);De=!!(e.flags&131072)}else De=!1,J&&t.flags&1048576&&Am(t,No,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;no(e,t),e=t.pendingProps;var s=Mr(t,Pe.current);br(t,n),s=hf(null,t,r,e,s,n);var i=pf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(r)?(i=!0,xo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,af(t),s.updater=zl,t.stateNode=s,s._reactInternals=t,Vu(t,r,e,n),t=Qu(null,t,r,!0,i,n)):(t.tag=0,J&&i&&ef(t),Oe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(no(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=_v(r),e=dt(r,e),s){case 0:t=Hu(null,t,r,e,n);break e;case 1:t=ch(null,t,r,e,n);break e;case 11:t=ah(null,t,r,e,n);break e;case 14:t=uh(null,t,r,dt(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Hu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),ch(e,t,r,s,n);case 3:e:{if(iy(t),e===null)throw Error(b(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Rm(e,t),Ro(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fr(Error(b(423)),t),t=fh(e,t,r,n,s);break e}else if(r!==s){s=Fr(Error(b(424)),t),t=fh(e,t,r,n,s);break e}else for(Je=ln(t.stateNode.containerInfo.firstChild),Xe=t,J=!0,mt=null,n=Om(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Br(),r===s){t=qt(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return Tm(t),e===null&&zu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Bu(r,s)?o=null:i!==null&&Bu(r,i)&&(t.flags|=32),sy(e,t),Oe(e,t,o,n),t.child;case 6:return e===null&&zu(t),null;case 13:return oy(e,t,n);case 4:return uf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dr(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),ah(e,t,r,s,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,V(Oo,r._currentValue),r._currentValue=o,i!==null)if(_t(i.value,o)){if(i.children===s.children&&!je.current){t=qt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Ut(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ku(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ku(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Oe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,br(t,n),s=ot(s),r=r(s),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,s=dt(r,t.pendingProps),s=dt(r.type,s),uh(e,t,r,s,n);case 15:return ny(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),no(e,t),t.tag=1,Fe(r)?(e=!0,xo(t)):e=!1,br(t,n),Zm(t,r,s),Vu(t,r,s,n),Qu(null,t,r,!0,e,n);case 19:return ly(e,t,n);case 22:return ry(e,t,n)}throw Error(b(156,t.tag))};function Ey(e,t){return Xp(e,t)}function Sv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,n,r){return new Sv(e,t,n,r)}function Cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _v(e){if(typeof e=="function")return Cf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zc)return 11;if(e===Kc)return 14}return 2}function fn(e,t){var n=e.alternate;return n===null?(n=rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function io(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Cf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case sr:return Mn(n.children,s,i,t);case Uc:o=8,s|=8;break;case mu:return e=rt(12,n,t,s|2),e.elementType=mu,e.lanes=i,e;case yu:return e=rt(13,n,t,s),e.elementType=yu,e.lanes=i,e;case gu:return e=rt(19,n,t,s),e.elementType=gu,e.lanes=i,e;case Tp:return Vl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ip:o=10;break e;case Rp:o=9;break e;case zc:o=11;break e;case Kc:o=14;break e;case Yt:o=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=rt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Mn(e,t,n,r){return e=rt(7,e,r,t),e.lanes=n,e}function Vl(e,t,n,r){return e=rt(22,e,r,t),e.elementType=Tp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ka(e,t,n){return e=rt(6,e,null,t),e.lanes=n,e}function Wa(e,t,n){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ca(0),this.expirationTimes=Ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bf(e,t,n,r,s,i,o,l,a){return e=new kv(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=rt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},af(i),e}function Ev(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cy(e){if(!e)return mn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(Fe(n))return Cm(e,n,t)}return t}function by(e,t,n,r,s,i,o,l,a){return e=bf(n,r,!0,e,s,i,o,l,a),e.context=Cy(null),n=e.current,r=Re(),s=cn(n),i=Ut(r,s),i.callback=t??null,an(n,i,s),e.current.lanes=s,li(e,s,r),Ue(e,r),e}function ql(e,t,n,r){var s=t.current,i=Re(),o=cn(s);return n=Cy(n),t.context===null?t.context=n:t.pendingContext=n,t=Ut(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(s,t,o),e!==null&&(vt(e,s,o,i),Zi(e,s,o)),o}function Fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Af(e,t){_h(e,t),(e=e.alternate)&&_h(e,t)}function Cv(){return null}var Ay=typeof reportError=="function"?reportError:function(e){console.error(e)};function xf(e){this._internalRoot=e}Hl.prototype.render=xf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));ql(e,t,null,null)};Hl.prototype.unmount=xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Un(function(){ql(null,e,null,null)}),t[Wt]=null}};function Hl(e){this._internalRoot=e}Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=rm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&im(e)}};function Pf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kh(){}function bv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Fo(o);i.call(u)}}var o=by(t,r,e,0,null,!1,!1,"",kh);return e._reactRootContainer=o,e[Wt]=o.current,Vs(e.nodeType===8?e.parentNode:e),Un(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Fo(a);l.call(u)}}var a=bf(e,0,!1,null,null,!1,!1,"",kh);return e._reactRootContainer=a,e[Wt]=a.current,Vs(e.nodeType===8?e.parentNode:e),Un(function(){ql(t,a,n,r)}),a}function Jl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Fo(o);l.call(a)}}ql(t,o,e,s)}else o=bv(n,t,e,s,r);return Fo(o)}tm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fs(t.pendingLanes);n!==0&&(qc(t,n|1),Ue(t,ie()),!(j&6)&&(Ur=ie()+500,Sn()))}break;case 13:Un(function(){var r=Vt(e,1);if(r!==null){var s=Re();vt(r,e,1,s)}}),Af(e,1)}};Hc=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=Re();vt(t,e,134217728,n)}Af(e,134217728)}};nm=function(e){if(e.tag===13){var t=cn(e),n=Vt(e,t);if(n!==null){var r=Re();vt(n,e,t,r)}Af(e,t)}};rm=function(){return U};sm=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};xu=function(e,t,n){switch(t){case"input":if(Su(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=jl(r);if(!s)throw Error(b(90));Lp(r),Su(r,s)}}}break;case"textarea":Bp(e,n);break;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}};Wp=_f;Vp=Un;var Av={usingClientEntryPoint:!1,Events:[ui,ar,jl,zp,Kp,_f]},ls={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xv={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qp(e),e===null?null:e.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||Cv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mi.isDisabled&&Mi.supportsFiber)try{Ll=Mi.inject(xv),Ot=Mi}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Av;Ge.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pf(t))throw Error(b(200));return Ev(e,t,null,n)};Ge.createRoot=function(e,t){if(!Pf(e))throw Error(b(299));var n=!1,r="",s=Ay;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=bf(e,1,!1,null,null,n,!1,r,s),e[Wt]=t.current,Vs(e.nodeType===8?e.parentNode:e),new xf(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=Qp(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return Un(e)};Ge.hydrate=function(e,t,n){if(!Ql(t))throw Error(b(200));return Jl(null,e,t,!0,n)};Ge.hydrateRoot=function(e,t,n){if(!Pf(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ay;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=by(t,null,e,1,n??null,s,!1,i,o),e[Wt]=t.current,Vs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Hl(t)};Ge.render=function(e,t,n){if(!Ql(t))throw Error(b(200));return Jl(null,e,t,!1,n)};Ge.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(b(40));return e._reactRootContainer?(Un(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};Ge.unstable_batchedUpdates=_f;Ge.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return Jl(e,t,n,!1,r)};Ge.version="18.3.1-next-f1338f8080-20240426";function xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xy)}catch(e){console.error(e)}}xy(),xp.exports=Ge;var Pv=xp.exports,Py,Eh=Pv;Py=Eh.createRoot,Eh.hydrateRoot;const Nv=Symbol(),Nf=Symbol(),hs="a",Ny="f",Ch="p",Oy="c",Iy="t",Va="n",qa="g",Of="h",Rs="w",If="o",Rf="k";let Ov=(e,t)=>new Proxy(e,t);const oc=Object.getPrototypeOf,lc=new WeakMap,Ry=e=>e&&(lc.has(e)?lc.get(e):oc(e)===Object.prototype||oc(e)===Array.prototype),Uo=e=>typeof e=="object"&&e!==null,Iv=e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(t=>!t.configurable&&!t.writable),Rv=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(n=>{n.configurable=!0}),Object.create(oc(e),t)},Tv=(e,t)=>{const n={[Ny]:t};let r=!1;const s=(l,a)=>{if(!r){let u=n[hs].get(e);if(u||(u={},n[hs].set(e,u)),l===Rs)u[Rs]=!0;else{let h=u[l];h||(h=new Set,u[l]=h),h.add(a)}}},i=()=>{r=!0,n[hs].delete(e)},o={get(l,a){return a===Nf?e:(s(Rf,a),Ty(Reflect.get(l,a),n[hs],n[Oy],n[Iy]))},has(l,a){return a===Nv?(i(),!0):(s(Of,a),Reflect.has(l,a))},getOwnPropertyDescriptor(l,a){return s(If,a),Reflect.getOwnPropertyDescriptor(l,a)},ownKeys(l){return s(Rs),Reflect.ownKeys(l)}};return t&&(o.set=o.deleteProperty=()=>!1),[o,n]},Tf=e=>e[Nf]||e,Ty=(e,t,n,r)=>{if(!Ry(e))return e;let s=r&&r.get(e);if(!s){const a=Tf(e);Iv(a)?s=[a,Rv(a)]:s=[a],r==null||r.set(e,s)}const[i,o]=s;let l=n&&n.get(i);return(!l||l[1][Ny]!==!!o)&&(l=Tv(i,!!o),l[1][Ch]=Ov(o||i,l[0]),n&&n.set(i,l)),l[1][hs]=t,l[1][Oy]=n,l[1][Iy]=r,l[1][Ch]},$v=(e,t)=>{const n=Reflect.ownKeys(e),r=Reflect.ownKeys(t);return n.length!==r.length||n.some((s,i)=>s!==r[i])},$y=(e,t,n,r,s=Object.is)=>{if(s(e,t))return!1;if(!Uo(e)||!Uo(t))return!0;const i=n.get(Tf(e));if(!i)return!0;if(r){const l=r.get(e);if(l&&l[Va]===t)return l[qa];r.set(e,{[Va]:t,[qa]:!1})}let o=null;try{for(const l of i[Of]||[])if(o=Reflect.has(e,l)!==Reflect.has(t,l),o)return o;if(i[Rs]===!0){if(o=$v(e,t),o)return o}else for(const l of i[If]||[]){const a=!!Reflect.getOwnPropertyDescriptor(e,l),u=!!Reflect.getOwnPropertyDescriptor(t,l);if(o=a!==u,o)return o}for(const l of i[Rf]||[])if(o=$y(e[l],t[l],n,r,s),o)return o;return o===null&&(o=!0),o}finally{r&&r.set(e,{[Va]:t,[qa]:o})}},Lv=e=>Ry(e)&&e[Nf]||null,bh=(e,t=!0)=>{lc.set(e,t)},Mv=(e,t,n)=>{const r=[],s=new WeakSet,i=(o,l)=>{var a,u,h;if(s.has(o))return;Uo(o)&&s.add(o);const c=Uo(o)&&t.get(Tf(o));if(c){if((a=c[Of])===null||a===void 0||a.forEach(f=>{const p=`:has(${String(f)})`;r.push(l?[...l,p]:[p])}),c[Rs]===!0){const f=":ownKeys";r.push(l?[...l,f]:[f])}else(u=c[If])===null||u===void 0||u.forEach(f=>{const p=`:hasOwn(${String(f)})`;r.push(l?[...l,p]:[p])});(h=c[Rf])===null||h===void 0||h.forEach(f=>{"value"in(Object.getOwnPropertyDescriptor(o,f)||{})&&i(o[f],l?[...l,f]:[f])})}else l&&r.push(l)};return i(e),r},zo={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},$f=e=>typeof e=="object"&&e!==null,Bv=e=>$f(e)&&!Lf.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),Dv=(e,t)=>{const n=Ah.get(e);if((n==null?void 0:n[0])===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return bh(r,!0),Ah.set(e,[t,r]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(e,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(e,s),l={value:i,enumerable:o,configurable:!0};if(Lf.has(i))bh(i,!1);else if(zn.has(i)){const[a,u]=zn.get(i);l.value=Ly(a,u())}Object.defineProperty(r,s,l)}),Object.preventExtensions(r)},jv=(e,t,n,r)=>({deleteProperty(s,i){const o=Reflect.get(s,i);n(i);const l=Reflect.deleteProperty(s,i);return l&&r(["delete",[i],o]),l},set(s,i,o,l){const a=!e()&&Reflect.has(s,i),u=Reflect.get(s,i,l);if(a&&(xh(u,o)||Ko.has(o)&&xh(u,Ko.get(o))))return!0;n(i),$f(o)&&(o=Lv(o)||o);const h=!zn.has(o)&&Uv(o)?Mf(o):o;return t(i,h),Reflect.set(s,i,h,l),r(["set",[i],o,u]),!0}}),zn=new WeakMap,Lf=new WeakSet,Ah=new WeakMap,Bi=[1,1],Ko=new WeakMap;let xh=Object.is,Fv=(e,t)=>new Proxy(e,t),Uv=Bv,Ly=Dv,zv=jv;function Mf(e={}){if(!$f(e))throw new Error("object required");const t=Ko.get(e);if(t)return t;let n=Bi[0];const r=new Set,s=(w,m=++Bi[0])=>{n!==m&&(n=m,r.forEach(d=>d(w,m)))};let i=Bi[1];const o=(w=++Bi[1])=>(i!==w&&!r.size&&(i=w,a.forEach(([m])=>{const d=m[1](w);d>n&&(n=d)})),n),l=w=>(m,d)=>{const g=[...m];g[1]=[w,...g[1]],s(g,d)},a=new Map,u=(w,m)=>{const d=!Lf.has(m)&&zn.get(m);if(d){if((zo?"production":void 0)!=="production"&&a.has(w))throw new Error("prop listener already exists");if(r.size){const g=d[2](l(w));a.set(w,[d,g])}else a.set(w,[d])}},h=w=>{var m;const d=a.get(w);d&&(a.delete(w),(m=d[1])==null||m.call(d))},c=w=>(r.add(w),r.size===1&&a.forEach(([d,g],S)=>{if((zo?"production":void 0)!=="production"&&g)throw new Error("remove already exists");const k=d[2](l(S));a.set(S,[d,k])}),()=>{r.delete(w),r.size===0&&a.forEach(([d,g],S)=>{g&&(g(),a.set(S,[d]))})});let f=!0;const p=zv(()=>f,u,h,s),v=Fv(e,p);Ko.set(e,v);const y=[e,o,c];return zn.set(v,y),Reflect.ownKeys(e).forEach(w=>{const m=Object.getOwnPropertyDescriptor(e,w);"value"in m&&m.writable&&(v[w]=e[w])}),f=!1,v}function Kv(e,t,n){const r=zn.get(e);(zo?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[2];let l=!1;const u=o(h=>{i.push(h),s||(s=Promise.resolve().then(()=>{s=void 0,l&&t(i.splice(0))}))});return l=!0,()=>{l=!1,u()}}function Ph(e){const t=zn.get(e);(zo?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,r]=t;return Ly(n,r())}const Wv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Vv=(e,t)=>{const n=L.useRef();L.useEffect(()=>{n.current=Mv(e,t)}),L.useDebugValue(n.current)},qv=Vv,Hv=new WeakMap;function Ht(e,t){const r=L.useMemo(()=>e&&new WeakMap,[e]),s=L.useRef();let i=!0;const o=L.useSyncExternalStore(L.useCallback(a=>{const u=Kv(e,a);return a(),u},[e,void 0]),()=>{const a=Ph(e);try{if(!i&&s.current&&!$y(s.current,a,r,new WeakMap))return s.current}catch{}return a},()=>Ph(e));i=!1,L.useLayoutEffect(()=>{s.current=o}),(Wv?"production":void 0)!=="production"&&qv(o,r);const l=L.useMemo(()=>new WeakMap,[]);return Ty(o,r,l,Hv)}const ps=({label:e,value:t})=>A.jsxs("div",{className:"flex justify-between items-center py-1",children:[A.jsx("span",{className:"text-gray-600 text-xs",children:e}),A.jsx("span",{className:"font-mono text-xs",children:t})]}),Qv=({behavior:e})=>A.jsxs("div",{className:"mt-2 border-t border-gray-200 pt-2",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{className:"font-semibold text-xs",children:e.type}),e.name&&A.jsx("span",{className:"text-xs text-gray-500",children:e.name})]}),Object.entries(e).map(([t,n])=>t!=="type"&&t!=="name"&&t!=="uuid"?A.jsx(ps,{label:t,value:JSON.stringify(n)},t):null)]});function Jv({entity:e}){return console.log(" Rendering EntityInspector",{entity:e}),A.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 shadow-md mb-2 max-w-xs",children:[e.name&&A.jsx("h2",{className:"text-lg font-bold mb-2 truncate",title:e.name,children:e.name}),A.jsxs("div",{className:"mb-2",children:[A.jsx(ps,{label:"x",value:e.x.toFixed(2)}),A.jsx(ps,{label:"y",value:e.y.toFixed(2)}),A.jsx(ps,{label:"rotation",value:e.rotation.toFixed(2)}),A.jsx(ps,{label:"scale",value:e.scale.toFixed(2)})]}),A.jsx("div",{className:"mt-3",children:e.behaviors.map((t,n)=>A.jsx(Qv,{behavior:t},t.uuid||n))})]})}const Bf=Symbol.for("yaml.alias"),ac=Symbol.for("yaml.document"),dn=Symbol.for("yaml.map"),My=Symbol.for("yaml.pair"),Tt=Symbol.for("yaml.scalar"),Qr=Symbol.for("yaml.seq"),at=Symbol.for("yaml.node.type"),Hn=e=>!!e&&typeof e=="object"&&e[at]===Bf,Qn=e=>!!e&&typeof e=="object"&&e[at]===ac,Jr=e=>!!e&&typeof e=="object"&&e[at]===dn,X=e=>!!e&&typeof e=="object"&&e[at]===My,W=e=>!!e&&typeof e=="object"&&e[at]===Tt,Xr=e=>!!e&&typeof e=="object"&&e[at]===Qr;function Z(e){if(e&&typeof e=="object")switch(e[at]){case dn:case Qr:return!0}return!1}function te(e){if(e&&typeof e=="object")switch(e[at]){case Bf:case dn:case Tt:case Qr:return!0}return!1}const Xv=e=>(W(e)||Z(e))&&!!e.anchor,Be=Symbol("break visit"),By=Symbol("skip children"),Rt=Symbol("remove node");function yn(e,t){const n=Dy(t);Qn(e)?mr(null,e.contents,n,Object.freeze([e]))===Rt&&(e.contents=null):mr(null,e,n,Object.freeze([]))}yn.BREAK=Be;yn.SKIP=By;yn.REMOVE=Rt;function mr(e,t,n,r){const s=jy(e,t,n,r);if(te(s)||X(s))return Fy(e,r,s),mr(e,s,n,r);if(typeof s!="symbol"){if(Z(t)){r=Object.freeze(r.concat(t));for(let i=0;i<t.items.length;++i){const o=mr(i,t.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===Be)return Be;o===Rt&&(t.items.splice(i,1),i-=1)}}}else if(X(t)){r=Object.freeze(r.concat(t));const i=mr("key",t.key,n,r);if(i===Be)return Be;i===Rt&&(t.key=null);const o=mr("value",t.value,n,r);if(o===Be)return Be;o===Rt&&(t.value=null)}}return s}async function Xl(e,t){const n=Dy(t);Qn(e)?await yr(null,e.contents,n,Object.freeze([e]))===Rt&&(e.contents=null):await yr(null,e,n,Object.freeze([]))}Xl.BREAK=Be;Xl.SKIP=By;Xl.REMOVE=Rt;async function yr(e,t,n,r){const s=await jy(e,t,n,r);if(te(s)||X(s))return Fy(e,r,s),yr(e,s,n,r);if(typeof s!="symbol"){if(Z(t)){r=Object.freeze(r.concat(t));for(let i=0;i<t.items.length;++i){const o=await yr(i,t.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===Be)return Be;o===Rt&&(t.items.splice(i,1),i-=1)}}}else if(X(t)){r=Object.freeze(r.concat(t));const i=await yr("key",t.key,n,r);if(i===Be)return Be;i===Rt&&(t.key=null);const o=await yr("value",t.value,n,r);if(o===Be)return Be;o===Rt&&(t.value=null)}}return s}function Dy(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function jy(e,t,n,r){var s,i,o,l,a;if(typeof n=="function")return n(e,t,r);if(Jr(t))return(s=n.Map)==null?void 0:s.call(n,e,t,r);if(Xr(t))return(i=n.Seq)==null?void 0:i.call(n,e,t,r);if(X(t))return(o=n.Pair)==null?void 0:o.call(n,e,t,r);if(W(t))return(l=n.Scalar)==null?void 0:l.call(n,e,t,r);if(Hn(t))return(a=n.Alias)==null?void 0:a.call(n,e,t,r)}function Fy(e,t,n){const r=t[t.length-1];if(Z(r))r.items[e]=n;else if(X(r))e==="key"?r.key=n:r.value=n;else if(Qn(r))r.contents=n;else{const s=Hn(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const Yv={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Gv=e=>e.replace(/[!,[\]{}]/g,t=>Yv[t]);class Ie{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Ie.defaultYaml,t),this.tags=Object.assign({},Ie.defaultTags,n)}clone(){const t=new Ie(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Ie(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Ie.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Ie.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Ie.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Ie.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=t.match(/^(.*!)([^!]*)$/s);s||n(`The ${t} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+Gv(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(t&&r.length>0&&te(t.contents)){const i={};yn(t.contents,(o,l)=>{te(l)&&l.tag&&(i[l.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!t||s.some(l=>l.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}Ie.defaultYaml={explicit:!1,version:"1.2"};Ie.defaultTags={"!!":"tag:yaml.org,2002:"};function Uy(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function zy(e){const t=new Set;return yn(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function Ky(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function Zv(e,t){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s||(s=zy(e));const o=Ky(t,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(W(o.node)||Z(o.node)))o.node.anchor=o.anchor;else{const l=new Error("Failed to resolve repeated object (this should not happen)");throw l.source=i,l}}},sourceObjects:r}}function gr(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],l=gr(e,r,String(s),o);l===void 0?delete r[s]:l!==o&&(r[s]=l)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=gr(e,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=gr(e,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=gr(e,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return e.call(t,n,r)}function it(e,t,n){if(Array.isArray(e))return e.map((r,s)=>it(r,String(s),n));if(e&&typeof e.toJSON=="function"){if(!n||!Xv(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=e.toJSON(t,n);return n.onCreate&&n.onCreate(s),s}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class Df{constructor(t){Object.defineProperty(this,at,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Qn(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=it(this,"",o);if(typeof s=="function")for(const{count:a,res:u}of o.anchors.values())s(u,a);return typeof i=="function"?gr(i,{"":l},"",l):l}}class Yl extends Df{constructor(t){super(Bf),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return yn(t,{Node:(r,s)=>{if(s===this)return yn.BREAK;s.anchor===this.source&&(n=s)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s);if(!o){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(a)}let l=r.get(o);if(l||(it(o,null,n),l=r.get(o)),!l||l.res===void 0){const a="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(a)}if(i>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=oo(s,o,r)),l.count*l.aliasCount>i)){const a="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(a)}return l.res}toString(t,n,r){const s=`*${this.source}`;if(t){if(Uy(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(t.implicitKey)return`${s} `}return s}}function oo(e,t,n){if(Hn(t)){const r=t.resolve(e),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(Z(t)){let r=0;for(const s of t.items){const i=oo(e,s,n);i>r&&(r=i)}return r}else if(X(t)){const r=oo(e,t.key,n),s=oo(e,t.value,n);return Math.max(r,s)}return 1}const Wy=e=>!e||typeof e!="function"&&typeof e!="object";class T extends Df{constructor(t){super(Tt),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:it(this.value,t,n)}toString(){return String(this.value)}}T.BLOCK_FOLDED="BLOCK_FOLDED";T.BLOCK_LITERAL="BLOCK_LITERAL";T.PLAIN="PLAIN";T.QUOTE_DOUBLE="QUOTE_DOUBLE";T.QUOTE_SINGLE="QUOTE_SINGLE";const eS="tag:yaml.org,2002:";function tS(e,t,n){if(t){const r=n.filter(i=>i.tag===t),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find(r=>{var s;return((s=r.identify)==null?void 0:s.call(r,e))&&!r.format})}function ei(e,t,n){var c,f,p;if(Qn(e)&&(e=e.contents),te(e))return e;if(X(e)){const v=(f=(c=n.schema[dn]).createNode)==null?void 0:f.call(c,n.schema,null,n);return v.items.push(e),v}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:l}=n;let a;if(r&&e&&typeof e=="object"){if(a=l.get(e),a)return a.anchor||(a.anchor=s(e)),new Yl(a.anchor);a={anchor:null,node:null},l.set(e,a)}t!=null&&t.startsWith("!!")&&(t=eS+t.slice(2));let u=tS(e,t,o.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const v=new T(e);return a&&(a.node=v),v}u=e instanceof Map?o[dn]:Symbol.iterator in Object(e)?o[Qr]:o[dn]}i&&(i(u),delete n.onTagObj);const h=u!=null&&u.createNode?u.createNode(n.schema,e,n):typeof((p=u==null?void 0:u.nodeClass)==null?void 0:p.from)=="function"?u.nodeClass.from(n.schema,e,n):new T(e);return t?h.tag=t:u.default||(h.tag=u.tag),a&&(a.node=h),h}function Wo(e,t,n){let r=n;for(let s=t.length-1;s>=0;--s){const i=t[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return ei(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const ms=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class Vy extends Df{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>te(r)||X(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(ms(t))this.add(n);else{const[r,...s]=t,i=this.get(r,!0);if(Z(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,Wo(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(Z(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...s]=t,i=this.get(r,!0);return s.length===0?!n&&W(i)?i.value:i:Z(i)?i.getIn(s,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!X(n))return!1;const r=n.value;return r==null||t&&W(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const s=this.get(n,!0);return Z(s)?s.hasIn(r):!1}setIn(t,n){const[r,...s]=t;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(Z(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,Wo(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const nS=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Ft(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const In=(e,t,n)=>e.endsWith(`
`)?Ft(n,t):n.includes(`
`)?`
`+Ft(n,t):(e.endsWith(" ")?"":" ")+n,qy="flow",uc="block",lo="quoted";function Gl(e,t,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:l}={}){if(!s||s<0)return e;s<i&&(i=0);const a=Math.max(1+i,1+s-t.length);if(e.length<=a)return e;const u=[],h={};let c=s-t.length;typeof r=="number"&&(r>s-Math.max(2,i)?u.push(0):c=s-r);let f,p,v=!1,y=-1,w=-1,m=-1;n===uc&&(y=Nh(e,y,t.length),y!==-1&&(c=y+a));for(let g;g=e[y+=1];){if(n===lo&&g==="\\"){switch(w=y,e[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}m=y}if(g===`
`)n===uc&&(y=Nh(e,y,t.length)),c=y+t.length+a,f=void 0;else{if(g===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){const S=e[y+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(f=y)}if(y>=c)if(f)u.push(f),c=f+a,f=void 0;else if(n===lo){for(;p===" "||p==="	";)p=g,g=e[y+=1],v=!0;const S=y>m+1?y-2:w-1;if(h[S])return e;u.push(S),h[S]=!0,c=S+a,f=void 0}else v=!0}p=g}if(v&&l&&l(),u.length===0)return e;o&&o();let d=e.slice(0,u[0]);for(let g=0;g<u.length;++g){const S=u[g],k=u[g+1]||e.length;S===0?d=`
${t}${e.slice(0,k)}`:(n===lo&&h[S]&&(d+=`${e[S]}\\`),d+=`
${t}${e.slice(S+1,k)}`)}return d}function Nh(e,t,n){let r=t,s=t+1,i=e[s];for(;i===" "||i==="	";)if(t<s+n)i=e[++t];else{do i=e[++t];while(i&&i!==`
`);r=t,s=t+1,i=e[s]}return r}const Zl=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),ea=e=>/^(%|---|\.\.\.)/m.test(e);function rS(e,t,n){if(!t||t<0)return!1;const r=t-n,s=e.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(e[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function Ts(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,s=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(ea(e)?"  ":"");let o="",l=0;for(let a=0,u=n[a];u;u=n[++a])if(u===" "&&n[a+1]==="\\"&&n[a+2]==="n"&&(o+=n.slice(l,a)+"\\ ",a+=1,l=a,u="\\"),u==="\\")switch(n[a+1]){case"u":{o+=n.slice(l,a);const h=n.substr(a+2,4);switch(h){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:h.substr(0,2)==="00"?o+="\\x"+h.substr(2):o+=n.substr(a,6)}a+=5,l=a+1}break;case"n":if(r||n[a+2]==='"'||n.length<s)a+=1;else{for(o+=n.slice(l,a)+`

`;n[a+2]==="\\"&&n[a+3]==="n"&&n[a+4]!=='"';)o+=`
`,a+=2;o+=i,n[a+2]===" "&&(o+="\\"),a+=1,l=a+1}break;default:a+=1}return o=l?o+n.slice(l):n,r?o:Gl(o,i,lo,Zl(t,!1))}function cc(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return Ts(e,t);const n=t.indent||(ea(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Gl(r,n,qy,Zl(t,!1))}function wr(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=Ts;else{const s=e.includes('"'),i=e.includes("'");s&&!i?r=cc:i&&!s?r=Ts:r=n?cc:Ts}return r(e,t)}let fc;try{fc=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{fc=/\n+(?!\n|$)/g}function ao({comment:e,type:t,value:n},r,s,i){const{blockQuote:o,commentString:l,lineWidth:a}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return wr(n,r);const u=r.indent||(r.forceBlockIndent||ea(n)?"  ":""),h=o==="literal"?!0:o==="folded"||t===T.BLOCK_FOLDED?!1:t===T.BLOCK_LITERAL?!0:!rS(n,a,u.length);if(!n)return h?`|
`:`>
`;let c,f;for(f=n.length;f>0;--f){const _=n[f-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let p=n.substring(f);const v=p.indexOf(`
`);v===-1?c="-":n===p||v!==p.length-1?(c="+",i&&i()):c="",p&&(n=n.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(fc,`$&${u}`));let y=!1,w,m=-1;for(w=0;w<n.length;++w){const _=n[w];if(_===" ")y=!0;else if(_===`
`)m=w;else break}let d=n.substring(0,m<w?m+1:w);d&&(n=n.substring(d.length),d=d.replace(/\n+/g,`$&${u}`));let S=(h?"|":">")+(y?u?"2":"1":"")+c;if(e&&(S+=" "+l(e.replace(/ ?[\r\n]+/g," ")),s&&s()),h)return n=n.replace(/\n+/g,`$&${u}`),`${S}
${u}${d}${n}${p}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);const k=Gl(`${d}${n}${p}`,u,uc,Zl(r,!0));return`${S}
${u}${k}`}function sS(e,t,n,r){const{type:s,value:i}=e,{actualString:o,implicitKey:l,indent:a,indentStep:u,inFlow:h}=t;if(l&&i.includes(`
`)||h&&/[[\]{},]/.test(i))return wr(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return l||h||!i.includes(`
`)?wr(i,t):ao(e,t,n,r);if(!l&&!h&&s!==T.PLAIN&&i.includes(`
`))return ao(e,t,n,r);if(ea(i)){if(a==="")return t.forceBlockIndent=!0,ao(e,t,n,r);if(l&&a===u)return wr(i,t)}const c=i.replace(/\n+/g,`$&
${a}`);if(o){const f=y=>{var w;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((w=y.test)==null?void 0:w.test(c))},{compat:p,tags:v}=t.doc.schema;if(v.some(f)||p!=null&&p.some(f))return wr(i,t)}return l?c:Gl(c,a,qy,Zl(t,!1))}function fi(e,t,n,r){const{implicitKey:s,inFlow:i}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:l}=e;l!==T.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(l=T.QUOTE_DOUBLE);const a=h=>{switch(h){case T.BLOCK_FOLDED:case T.BLOCK_LITERAL:return s||i?wr(o.value,t):ao(o,t,n,r);case T.QUOTE_DOUBLE:return Ts(o.value,t);case T.QUOTE_SINGLE:return cc(o.value,t);case T.PLAIN:return sS(o,t,n,r);default:return null}};let u=a(l);if(u===null){const{defaultKeyType:h,defaultStringType:c}=t.options,f=s&&h||c;if(u=a(f),u===null)throw new Error(`Unsupported default string type ${f}`)}return u}function Hy(e,t){const n=Object.assign({blockQuote:!0,commentString:nS,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function iS(e,t){var s;if(t.tag){const i=e.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)??i[0]}let n,r;if(W(t)){r=t.value;let i=e.filter(o=>{var l;return(l=o.identify)==null?void 0:l.call(o,r)});if(i.length>1){const o=i.filter(l=>l.test);o.length>0&&(i=o)}n=i.find(o=>o.format===t.format)??i.find(o=>!o.format)}else r=t,n=e.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=((s=r==null?void 0:r.constructor)==null?void 0:s.name)??typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function oS(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(W(e)||Z(e))&&e.anchor;i&&Uy(i)&&(n.add(i),s.push(`&${i}`));const o=e.tag?e.tag:t.default?null:t.tag;return o&&s.push(r.directives.tagString(o)),s.join(" ")}function zr(e,t,n,r){var a;if(X(e))return e.toString(t,n,r);if(Hn(e)){if(t.doc.directives)return e.toString(t);if((a=t.resolvedAliases)!=null&&a.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const i=te(e)?e:t.doc.createNode(e,{onTagObj:u=>s=u});s||(s=iS(t.doc.schema.tags,i));const o=oS(i,s,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const l=typeof s.stringify=="function"?s.stringify(i,t,n,r):W(i)?fi(i,t,n,r):i.toString(t,n,r);return o?W(i)||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${t.indent}${l}`:l}function lS({key:e,value:t},n,r,s){const{allNullValues:i,doc:o,indent:l,indentStep:a,options:{commentString:u,indentSeq:h,simpleKeys:c}}=n;let f=te(e)&&e.comment||null;if(c){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Z(e)||!te(e)&&typeof e=="object"){const C="With simple keys, collection cannot be used as a key value";throw new Error(C)}}let p=!c&&(!e||f&&t==null&&!n.inFlow||Z(e)||(W(e)?e.type===T.BLOCK_FOLDED||e.type===T.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(c||!i),indent:l+a});let v=!1,y=!1,w=zr(e,n,()=>v=!0,()=>y=!0);if(!p&&!n.inFlow&&w.length>1024){if(c)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||t==null)return v&&r&&r(),w===""?"?":p?`? ${w}`:w}else if(i&&!c||t==null&&p)return w=`? ${w}`,f&&!v?w+=In(w,n.indent,u(f)):y&&s&&s(),w;v&&(f=null),p?(f&&(w+=In(w,n.indent,u(f))),w=`? ${w}
${l}:`):(w=`${w}:`,f&&(w+=In(w,n.indent,u(f))));let m,d,g;te(t)?(m=!!t.spaceBefore,d=t.commentBefore,g=t.comment):(m=!1,d=null,g=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!p&&!f&&W(t)&&(n.indentAtStart=w.length+1),y=!1,!h&&a.length>=2&&!n.inFlow&&!p&&Xr(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let S=!1;const k=zr(t,n,()=>S=!0,()=>y=!0);let _=" ";if(f||m||d){if(_=m?`
`:"",d){const C=u(d);_+=`
${Ft(C,n.indent)}`}k===""&&!n.inFlow?_===`
`&&(_=`

`):_+=`
${n.indent}`}else if(!p&&Z(t)){const C=k[0],E=k.indexOf(`
`),O=E!==-1,x=n.inFlow??t.flow??t.items.length===0;if(O||!x){let R=!1;if(O&&(C==="&"||C==="!")){let F=k.indexOf(" ");C==="&"&&F!==-1&&F<E&&k[F+1]==="!"&&(F=k.indexOf(" ",F+1)),(F===-1||E<F)&&(R=!0)}R||(_=`
${n.indent}`)}}else(k===""||k[0]===`
`)&&(_="");return w+=_+k,n.inFlow?S&&r&&r():g&&!S?w+=In(w,n.indent,u(g)):y&&s&&s(),w}function Qy(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const Di="<<",zt={identify:e=>e===Di||typeof e=="symbol"&&e.description===Di,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new T(Symbol(Di)),{addToJSMap:Jy}),stringify:()=>Di},aS=(e,t)=>(zt.identify(t)||W(t)&&(!t.type||t.type===T.PLAIN)&&zt.identify(t.value))&&(e==null?void 0:e.doc.schema.tags.some(n=>n.tag===zt.tag&&n.default));function Jy(e,t,n){if(n=e&&Hn(n)?n.resolve(e.doc):n,Xr(n))for(const r of n.items)Ha(e,t,r);else if(Array.isArray(n))for(const r of n)Ha(e,t,r);else Ha(e,t,n)}function Ha(e,t,n){const r=e&&Hn(n)?n.resolve(e.doc):n;if(!Jr(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,e,Map);for(const[i,o]of s)t instanceof Map?t.has(i)||t.set(i,o):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function Xy(e,t,{key:n,value:r}){if(te(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(aS(e,n))Jy(e,t,r);else{const s=it(n,"",e);if(t instanceof Map)t.set(s,it(r,s,e));else if(t instanceof Set)t.add(s);else{const i=uS(n,s,e),o=it(r,i,e);i in t?Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[i]=o}}return t}function uS(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(te(e)&&(n!=null&&n.doc)){const r=Hy(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=e.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),Qy(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}function jf(e,t,n){const r=ei(e,void 0,n),s=ei(t,void 0,n);return new xe(r,s)}class xe{constructor(t,n=null){Object.defineProperty(this,at,{value:My}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return te(n)&&(n=n.clone(t)),te(r)&&(r=r.clone(t)),new xe(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return Xy(n,r,this)}toString(t,n,r){return t!=null&&t.doc?lS(this,t,n,r):JSON.stringify(this)}}function Yy(e,t,n){return(t.inFlow??e.flow?fS:cS)(e,t,n)}function cS({comment:e,items:t},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:l}){const{indent:a,options:{commentString:u}}=n,h=Object.assign({},n,{indent:i,type:null});let c=!1;const f=[];for(let v=0;v<t.length;++v){const y=t[v];let w=null;if(te(y))!c&&y.spaceBefore&&f.push(""),Vo(n,f,y.commentBefore,c),y.comment&&(w=y.comment);else if(X(y)){const d=te(y.key)?y.key:null;d&&(!c&&d.spaceBefore&&f.push(""),Vo(n,f,d.commentBefore,c))}c=!1;let m=zr(y,h,()=>w=null,()=>c=!0);w&&(m+=In(m,i,u(w))),c&&w&&(c=!1),f.push(r+m)}let p;if(f.length===0)p=s.start+s.end;else{p=f[0];for(let v=1;v<f.length;++v){const y=f[v];p+=y?`
${a}${y}`:`
`}}return e?(p+=`
`+Ft(u(e),a),l&&l()):c&&o&&o(),p}function fS({items:e},t,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:l}}=t;r+=i;const a=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,h=0;const c=[];for(let v=0;v<e.length;++v){const y=e[v];let w=null;if(te(y))y.spaceBefore&&c.push(""),Vo(t,c,y.commentBefore,!1),y.comment&&(w=y.comment);else if(X(y)){const d=te(y.key)?y.key:null;d&&(d.spaceBefore&&c.push(""),Vo(t,c,d.commentBefore,!1),d.comment&&(u=!0));const g=te(y.value)?y.value:null;g?(g.comment&&(w=g.comment),g.commentBefore&&(u=!0)):y.value==null&&(d!=null&&d.comment)&&(w=d.comment)}w&&(u=!0);let m=zr(y,a,()=>w=null);v<e.length-1&&(m+=","),w&&(m+=In(m,r,l(w))),!u&&(c.length>h||m.includes(`
`))&&(u=!0),c.push(m),h=c.length}const{start:f,end:p}=n;if(c.length===0)return f+p;if(!u){const v=c.reduce((y,w)=>y+w.length+2,2);u=t.options.lineWidth>0&&v>t.options.lineWidth}if(u){let v=f;for(const y of c)v+=y?`
${i}${s}${y}`:`
`;return`${v}
${s}${p}`}else return`${f}${o}${c.join(" ")}${o}${p}`}function Vo({indent:e,options:{commentString:t}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=Ft(t(r),e);n.push(i.trimStart())}}function Rn(e,t){const n=W(t)?t.value:t;for(const r of e)if(X(r)&&(r.key===t||r.key===n||W(r.key)&&r.key.value===n))return r}class Qe extends Vy{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(dn,t),this.items=[]}static from(t,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(t),l=(a,u)=>{if(typeof i=="function")u=i.call(n,a,u);else if(Array.isArray(i)&&!i.includes(a))return;(u!==void 0||s)&&o.items.push(jf(a,u,r))};if(n instanceof Map)for(const[a,u]of n)l(a,u);else if(n&&typeof n=="object")for(const a of Object.keys(n))l(a,n[a]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,n){var o;let r;X(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new xe(t,t==null?void 0:t.value):r=new xe(t.key,t.value);const s=Rn(this.items,r.key),i=(o=this.schema)==null?void 0:o.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);W(s.value)&&Wy(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const l=this.items.findIndex(a=>i(r,a)<0);l===-1?this.items.push(r):this.items.splice(l,0,r)}else this.items.push(r)}delete(t){const n=Rn(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Rn(this.items,t),s=r==null?void 0:r.value;return(!n&&W(s)?s.value:s)??void 0}has(t){return!!Rn(this.items,t)}set(t,n){this.add(new xe(t,n),!0)}toJSON(t,n,r){const s=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items)Xy(n,s,i);return s}toString(t,n,r){if(!t)return JSON.stringify(this);for(const s of this.items)if(!X(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),Yy(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Yr={collection:"map",default:!0,nodeClass:Qe,tag:"tag:yaml.org,2002:map",resolve(e,t){return Jr(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Qe.from(e,t,n)};class gn extends Vy{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Qr,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=ji(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=ji(t);if(typeof r!="number")return;const s=this.items[r];return!n&&W(s)?s.value:s}has(t){const n=ji(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=ji(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const s=this.items[r];W(s)&&Wy(n)?s.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(it(i,String(s++),n));return r}toString(t,n,r){return t?Yy(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n)){let o=0;for(let l of n){if(typeof s=="function"){const a=n instanceof Set?l:String(o++);l=s.call(n,a,l)}i.items.push(ei(l,void 0,r))}}return i}}function ji(e){let t=W(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Gr={collection:"seq",default:!0,nodeClass:gn,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Xr(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>gn.from(e,t,n)},ta={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),fi(e,t,n,r)}},na={identify:e=>e==null,createNode:()=>new T(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new T(null),stringify:({source:e},t)=>typeof e=="string"&&na.test.test(e)?e:t.options.nullStr},Ff={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new T(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Ff.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function kt({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let l=t-(i.length-o-1);for(;l-- >0;)i+="0"}return i}const Gy={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:kt},Zy={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():kt(e)}},eg={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new T(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:kt},ra=e=>typeof e=="bigint"||Number.isInteger(e),Uf=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function tg(e,t,n){const{value:r}=e;return ra(r)&&r>=0?n+r.toString(t):kt(e)}const ng={identify:e=>ra(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Uf(e,2,8,n),stringify:e=>tg(e,8,"0o")},rg={identify:ra,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Uf(e,0,10,n),stringify:kt},sg={identify:e=>ra(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Uf(e,2,16,n),stringify:e=>tg(e,16,"0x")},dS=[Yr,Gr,ta,na,Ff,ng,rg,sg,Gy,Zy,eg];function Oh(e){return typeof e=="bigint"||Number.isInteger(e)}const Fi=({value:e})=>JSON.stringify(e),hS=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Fi},{identify:e=>e==null,createNode:()=>new T(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Fi},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Fi},{identify:Oh,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Oh(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Fi}],pS={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},mS=[Yr,Gr].concat(hS,pS),zf={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,s,i){const o=n;let l;if(typeof Buffer=="function")l=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);l=btoa(a)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=T.BLOCK_LITERAL),t!==T.QUOTE_DOUBLE){const a=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(l.length/a),h=new Array(u);for(let c=0,f=0;c<u;++c,f+=a)h[c]=l.substr(f,a);l=h.join(t===T.BLOCK_LITERAL?`
`:" ")}return fi({comment:e,type:t,value:l},r,s,i)}};function ig(e,t){if(Xr(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!X(r)){if(Jr(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const s=r.items[0]||new xe(new T(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}e.items[n]=X(r)?r:new xe(r)}}else t("Expected a sequence for this tag");return e}function og(e,t,n){const{replacer:r}=n,s=new gn(e);s.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(i++),o));let l,a;if(Array.isArray(o))if(o.length===2)l=o[0],a=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)l=u[0],a=o[l];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else l=o;s.items.push(jf(l,a,n))}return s}const Kf={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ig,createNode:og};class xr extends gn{constructor(){super(),this.add=Qe.prototype.add.bind(this),this.delete=Qe.prototype.delete.bind(this),this.get=Qe.prototype.get.bind(this),this.has=Qe.prototype.has.bind(this),this.set=Qe.prototype.set.bind(this),this.tag=xr.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(X(s)?(i=it(s.key,"",n),o=it(s.value,i,n)):i=it(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(t,n,r){const s=og(t,n,r),i=new this;return i.items=s.items,i}}xr.tag="tag:yaml.org,2002:omap";const Wf={collection:"seq",identify:e=>e instanceof Map,nodeClass:xr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=ig(e,t),r=[];for(const{key:s}of n.items)W(s)&&(r.includes(s.value)?t(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new xr,n)},createNode:(e,t,n)=>xr.from(e,t,n)};function lg({value:e,source:t},n){return t&&(e?ag:ug).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const ag={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new T(!0),stringify:lg},ug={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new T(!1),stringify:lg},yS={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:kt},gS={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():kt(e)}},wS={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new T(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:kt},di=e=>typeof e=="bigint"||Number.isInteger(e);function sa(e,t,n,{intAsBigInt:r}){const s=e[0];if((s==="-"||s==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return s==="-"?BigInt(-1)*o:o}const i=parseInt(e,n);return s==="-"?-1*i:i}function Vf(e,t,n){const{value:r}=e;if(di(r)){const s=r.toString(t);return r<0?"-"+n+s.substr(1):n+s}return kt(e)}const vS={identify:di,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>sa(e,2,2,n),stringify:e=>Vf(e,2,"0b")},SS={identify:di,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>sa(e,1,8,n),stringify:e=>Vf(e,8,"0")},_S={identify:di,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>sa(e,0,10,n),stringify:kt},kS={identify:di,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>sa(e,2,16,n),stringify:e=>Vf(e,16,"0x")};class Pr extends Qe{constructor(t){super(t),this.tag=Pr.tag}add(t){let n;X(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new xe(t.key,null):n=new xe(t,null),Rn(this.items,n.key)||this.items.push(n)}get(t,n){const r=Rn(this.items,t);return!n&&X(r)?W(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Rn(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new xe(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(jf(o,null,r));return i}}Pr.tag="tag:yaml.org,2002:set";const qf={collection:"map",identify:e=>e instanceof Set,nodeClass:Pr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Pr.from(e,t,n),resolve(e,t){if(Jr(e)){if(e.hasAllNullValues(!0))return Object.assign(new Pr,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Hf(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,s=o=>t?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,l)=>o*s(60)+s(l),s(0));return n==="-"?s(-1)*i:i}function cg(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return kt(e);let r="";t<0&&(r="-",t*=n(-1));const s=n(60),i=[t%s];return t<60?i.unshift(0):(t=(t-i[0])/s,i.unshift(t%s),t>=60&&(t=(t-i[0])/s,i.unshift(t))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const fg={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Hf(e,n),stringify:cg},dg={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Hf(e,!1),stringify:cg},ia={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(ia.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,l]=t.map(Number),a=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,s,i||0,o||0,l||0,a);const h=t[8];if(h&&h!=="Z"){let c=Hf(h,!1);Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Ih=[Yr,Gr,ta,na,ag,ug,vS,SS,_S,kS,yS,gS,wS,zf,zt,Wf,Kf,qf,fg,dg,ia],Rh=new Map([["core",dS],["failsafe",[Yr,Gr,ta]],["json",mS],["yaml11",Ih],["yaml-1.1",Ih]]),Th={binary:zf,bool:Ff,float:eg,floatExp:Zy,floatNaN:Gy,floatTime:dg,int:rg,intHex:sg,intOct:ng,intTime:fg,map:Yr,merge:zt,null:na,omap:Wf,pairs:Kf,seq:Gr,set:qf,timestamp:ia},ES={"tag:yaml.org,2002:binary":zf,"tag:yaml.org,2002:merge":zt,"tag:yaml.org,2002:omap":Wf,"tag:yaml.org,2002:pairs":Kf,"tag:yaml.org,2002:set":qf,"tag:yaml.org,2002:timestamp":ia};function Qa(e,t,n){const r=Rh.get(t);if(r&&!e)return n&&!r.includes(zt)?r.concat(zt):r.slice();let s=r;if(!s)if(Array.isArray(e))s=[];else{const i=Array.from(Rh.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${i} or define customTags array`)}if(Array.isArray(e))for(const i of e)s=s.concat(i);else typeof e=="function"&&(s=e(s.slice()));return n&&(s=s.concat(zt)),s.reduce((i,o)=>{const l=typeof o=="string"?Th[o]:o;if(!l){const a=JSON.stringify(o),u=Object.keys(Th).map(h=>JSON.stringify(h)).join(", ");throw new Error(`Unknown custom tag ${a}; use one of ${u}`)}return i.includes(l)||i.push(l),i},[])}const CS=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class oa{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:l}){this.compat=Array.isArray(t)?Qa(t,"compat"):t?Qa(null,t):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?ES:{},this.tags=Qa(n,this.name,r),this.toStringOptions=l??null,Object.defineProperty(this,dn,{value:Yr}),Object.defineProperty(this,Tt,{value:ta}),Object.defineProperty(this,Qr,{value:Gr}),this.sortMapEntries=typeof o=="function"?o:o===!0?CS:null}clone(){const t=Object.create(oa.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function bS(e,t){var a;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const u=e.directives.toString(e);u?(n.push(u),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const s=Hy(e,t),{commentString:i}=s.options;if(e.commentBefore){n.length!==1&&n.unshift("");const u=i(e.commentBefore);n.unshift(Ft(u,""))}let o=!1,l=null;if(e.contents){if(te(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const c=i(e.contents.commentBefore);n.push(Ft(c,""))}s.forceBlockIndent=!!e.comment,l=e.contents.comment}const u=l?void 0:()=>o=!0;let h=zr(e.contents,s,()=>l=null,u);l&&(h+=In(h,"",i(l))),(h[0]==="|"||h[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${h}`:n.push(h)}else n.push(zr(e.contents,s));if((a=e.directives)!=null&&a.docEnd)if(e.comment){const u=i(e.comment);u.includes(`
`)?(n.push("..."),n.push(Ft(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=e.comment;u&&o&&(u=u.replace(/^\n+/,"")),u&&((!o||l)&&n[n.length-1]!==""&&n.push(""),n.push(Ft(i(u),"")))}return n.join(`
`)+`
`}class Zr{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,at,{value:ac});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Ie({version:o}),this.setSchema(o,r),this.contents=t===void 0?null:this.createNode(t,s,r)}clone(){const t=Object.create(Zr.prototype,{[at]:{value:ac}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=te(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Xn(this.contents)&&this.contents.add(t)}addIn(t,n){Xn(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=zy(this);t.anchor=!n||r.has(n)?Ky(n||"a",r):n}return new Yl(t.anchor)}createNode(t,n,r){let s;if(typeof n=="function")t=n.call({"":t},"",t),s=n;else if(Array.isArray(n)){const w=d=>typeof d=="number"||d instanceof String||d instanceof Number,m=n.filter(w).map(String);m.length>0&&(n=n.concat(m)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:l,keepUndefined:a,onTagObj:u,tag:h}=r??{},{onAnchor:c,setAnchors:f,sourceObjects:p}=Zv(this,o||"a"),v={aliasDuplicateObjects:i??!0,keepUndefined:a??!1,onAnchor:c,onTagObj:u,replacer:s,schema:this.schema,sourceObjects:p},y=ei(t,h,v);return l&&Z(y)&&(y.flow=!0),f(),y}createPair(t,n,r={}){const s=this.createNode(t,null,r),i=this.createNode(n,null,r);return new xe(s,i)}delete(t){return Xn(this.contents)?this.contents.delete(t):!1}deleteIn(t){return ms(t)?this.contents==null?!1:(this.contents=null,!0):Xn(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Z(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return ms(t)?!n&&W(this.contents)?this.contents.value:this.contents:Z(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Z(this.contents)?this.contents.has(t):!1}hasIn(t){return ms(t)?this.contents!==void 0:Z(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=Wo(this.schema,[t],n):Xn(this.contents)&&this.contents.set(t,n)}setIn(t,n){ms(t)?this.contents=n:this.contents==null?this.contents=Wo(this.schema,Array.from(t),n):Xn(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Ie({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Ie({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new oa(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const l={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=it(this.contents,n??"",l);if(typeof i=="function")for(const{count:u,res:h}of l.anchors.values())i(h,u);return typeof o=="function"?gr(o,{"":a},"",a):a}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return bS(this,t)}}function Xn(e){if(Z(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Qf extends Error{constructor(t,n,r,s){super(),this.name=t,this.code=r,this.message=s,this.pos=n}}class Tn extends Qf{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class hg extends Qf{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const qo=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(l=>t.linePos(l));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const l=Math.min(i-39,o.length-79);o=""+o.substring(l),i-=l-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,i))){let l=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);l.length>80&&(l=l.substring(0,79)+`
`),o=l+o}if(/[^ ]/.test(o)){let l=1;const a=n.linePos[1];a&&a.line===r&&a.col>s&&(l=Math.max(1,Math.min(a.col-s,80-i)));const u=" ".repeat(i)+"^".repeat(l);n.message+=`:

${o}
${u}
`}};function Kr(e,{flow:t,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:l}){let a=!1,u=l,h=l,c="",f="",p=!1,v=!1,y=null,w=null,m=null,d=null,g=null,S=null,k=null;for(const E of e)switch(v&&(E.type!=="space"&&E.type!=="newline"&&E.type!=="comma"&&i(E.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),v=!1),y&&(u&&E.type!=="comment"&&E.type!=="newline"&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),E.type){case"space":!t&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&E.source.includes("	")&&(y=E),h=!0;break;case"comment":{h||i(E,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const O=E.source.substring(1)||" ";c?c+=f+O:c=O,f="",u=!1;break}case"newline":u?c?c+=E.source:a=!0:f+=E.source,u=!0,p=!0,(w||m)&&(d=E),h=!0;break;case"anchor":w&&i(E,"MULTIPLE_ANCHORS","A node can have at most one anchor"),E.source.endsWith(":")&&i(E.offset+E.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=E,k===null&&(k=E.offset),u=!1,h=!1,v=!0;break;case"tag":{m&&i(E,"MULTIPLE_TAGS","A node can have at most one tag"),m=E,k===null&&(k=E.offset),u=!1,h=!1,v=!0;break}case n:(w||m)&&i(E,"BAD_PROP_ORDER",`Anchors and tags must be after the ${E.source} indicator`),S&&i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.source} in ${t??"collection"}`),S=E,u=n==="seq-item-ind"||n==="explicit-key-ind",h=!1;break;case"comma":if(t){g&&i(E,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),g=E,u=!1,h=!1;break}default:i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.type} token`),u=!1,h=!1}const _=e[e.length-1],C=_?_.offset+_.source.length:s;return v&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(u&&y.indent<=o||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:g,found:S,spaceBefore:a,comment:c,hasNewline:p,anchor:w,tag:m,newlineAfterProp:d,end:C,start:k??C}}function ti(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(ti(t.key)||ti(t.value))return!0}return!1;default:return!0}}function dc(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&ti(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function pg(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||W(i)&&W(o)&&i.value===o.value;return t.some(i=>s(i.key,n))}const $h="All mapping items must start at the same column";function AS({composeNode:e,composeEmptyNode:t},n,r,s,i){var h;const o=(i==null?void 0:i.nodeClass)??Qe,l=new o(n.schema);n.atRoot&&(n.atRoot=!1);let a=r.offset,u=null;for(const c of r.items){const{start:f,key:p,sep:v,value:y}=c,w=Kr(f,{indicator:"explicit-key-ind",next:p??(v==null?void 0:v[0]),offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0}),m=!w.found;if(m){if(p&&(p.type==="block-seq"?s(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==r.indent&&s(a,"BAD_INDENT",$h)),!w.anchor&&!w.tag&&!v){u=w.end,w.comment&&(l.comment?l.comment+=`
`+w.comment:l.comment=w.comment);continue}(w.newlineAfterProp||ti(p))&&s(p??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((h=w.found)==null?void 0:h.indent)!==r.indent&&s(a,"BAD_INDENT",$h);n.atKey=!0;const d=w.end,g=p?e(n,p,w,s):t(n,d,f,null,w,s);n.schema.compat&&dc(r.indent,p,s),n.atKey=!1,pg(n,l.items,g)&&s(d,"DUPLICATE_KEY","Map keys must be unique");const S=Kr(v??[],{indicator:"map-value-ind",next:y,offset:g.range[2],onError:s,parentIndent:r.indent,startOnNewline:!p||p.type==="block-scalar"});if(a=S.end,S.found){m&&((y==null?void 0:y.type)==="block-map"&&!S.hasNewline&&s(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&w.start<S.found.offset-1024&&s(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const k=y?e(n,y,S,s):t(n,a,v,null,S,s);n.schema.compat&&dc(r.indent,y,s),a=k.range[2];const _=new xe(g,k);n.options.keepSourceTokens&&(_.srcToken=c),l.items.push(_)}else{m&&s(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),S.comment&&(g.comment?g.comment+=`
`+S.comment:g.comment=S.comment);const k=new xe(g);n.options.keepSourceTokens&&(k.srcToken=c),l.items.push(k)}}return u&&u<a&&s(u,"IMPOSSIBLE","Map comment with trailing content"),l.range=[r.offset,a,u??a],l}function xS({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=(i==null?void 0:i.nodeClass)??gn,l=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let a=r.offset,u=null;for(const{start:h,value:c}of r.items){const f=Kr(h,{indicator:"seq-item-ind",next:c,offset:a,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||c)c&&c.type==="block-seq"?s(f.end,"BAD_INDENT","All sequence items must start at the same column"):s(a,"MISSING_CHAR","Sequence item without - indicator");else{u=f.end,f.comment&&(l.comment=f.comment);continue}const p=c?e(n,c,f,s):t(n,f.end,h,null,f,s);n.schema.compat&&dc(r.indent,c,s),a=p.range[2],l.items.push(p)}return l.range=[r.offset,a,u??a],l}function hi(e,t,n,r){let s="";if(e){let i=!1,o="";for(const l of e){const{source:a,type:u}=l;switch(u){case"space":i=!0;break;case"comment":{n&&!i&&r(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const h=a.substring(1)||" ";s?s+=o+h:s=h,o="";break}case"newline":s&&(o+=a),i=!0;break;default:r(l,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=a.length}}return{comment:s,offset:t}}const Ja="Block collections are not allowed within flow collections",Xa=e=>e&&(e.type==="block-map"||e.type==="block-seq");function PS({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=r.start.source==="{",l=o?"flow map":"flow sequence",a=(i==null?void 0:i.nodeClass)??(o?Qe:gn),u=new a(n.schema);u.flow=!0;const h=n.atRoot;h&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=r.offset+r.start.source.length;for(let w=0;w<r.items.length;++w){const m=r.items[w],{start:d,key:g,sep:S,value:k}=m,_=Kr(d,{flow:l,indicator:"explicit-key-ind",next:g??(S==null?void 0:S[0]),offset:c,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!_.found){if(!_.anchor&&!_.tag&&!S&&!k){w===0&&_.comma?s(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`):w<r.items.length-1&&s(_.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${l}`),_.comment&&(u.comment?u.comment+=`
`+_.comment:u.comment=_.comment),c=_.end;continue}!o&&n.options.strict&&ti(g)&&s(g,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(w===0)_.comma&&s(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${l}`);else if(_.comma||s(_.start,"MISSING_CHAR",`Missing , between ${l} items`),_.comment){let C="";e:for(const E of d)switch(E.type){case"comma":case"space":break;case"comment":C=E.source.substring(1);break e;default:break e}if(C){let E=u.items[u.items.length-1];X(E)&&(E=E.value??E.key),E.comment?E.comment+=`
`+C:E.comment=C,_.comment=_.comment.substring(C.length+1)}}if(!o&&!S&&!_.found){const C=k?e(n,k,_,s):t(n,_.end,S,null,_,s);u.items.push(C),c=C.range[2],Xa(k)&&s(C.range,"BLOCK_IN_FLOW",Ja)}else{n.atKey=!0;const C=_.end,E=g?e(n,g,_,s):t(n,C,d,null,_,s);Xa(g)&&s(E.range,"BLOCK_IN_FLOW",Ja),n.atKey=!1;const O=Kr(S??[],{flow:l,indicator:"map-value-ind",next:k,offset:E.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(O.found){if(!o&&!_.found&&n.options.strict){if(S)for(const F of S){if(F===O.found)break;if(F.type==="newline"){s(F,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}_.start<O.found.offset-1024&&s(O.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else k&&("source"in k&&k.source&&k.source[0]===":"?s(k,"MISSING_CHAR",`Missing space after : in ${l}`):s(O.start,"MISSING_CHAR",`Missing , or : between ${l} items`));const x=k?e(n,k,O,s):O.found?t(n,O.end,S,null,O,s):null;x?Xa(k)&&s(x.range,"BLOCK_IN_FLOW",Ja):O.comment&&(E.comment?E.comment+=`
`+O.comment:E.comment=O.comment);const R=new xe(E,x);if(n.options.keepSourceTokens&&(R.srcToken=m),o){const F=u;pg(n,F.items,E)&&s(C,"DUPLICATE_KEY","Map keys must be unique"),F.items.push(R)}else{const F=new Qe(n.schema);F.flow=!0,F.items.push(R);const et=(x??E).range;F.range=[E.range[0],et[1],et[2]],u.items.push(F)}c=x?x.range[2]:O.end}}const f=o?"}":"]",[p,...v]=r.end;let y=c;if(p&&p.source===f)y=p.offset+p.source.length;else{const w=l[0].toUpperCase()+l.substring(1),m=h?`${w} must end with a ${f}`:`${w} in block collection must be sufficiently indented and end with a ${f}`;s(c,h?"MISSING_CHAR":"BAD_INDENT",m),p&&p.source.length!==1&&v.unshift(p)}if(v.length>0){const w=hi(v,y,n.options.strict,s);w.comment&&(u.comment?u.comment+=`
`+w.comment:u.comment=w.comment),u.range=[r.offset,y,w.offset]}else u.range=[r.offset,y,y];return u}function Ya(e,t,n,r,s,i){const o=n.type==="block-map"?AS(e,t,n,r,i):n.type==="block-seq"?xS(e,t,n,r,i):PS(e,t,n,r,i),l=o.constructor;return s==="!"||s===l.tagName?(o.tag=l.tagName,o):(s&&(o.tag=s),o)}function NS(e,t,n,r,s){var f;const i=r.tag,o=i?t.directives.tagName(i.source,p=>s(i,"TAG_RESOLVE_FAILED",p)):null;if(n.type==="block-seq"){const{anchor:p,newlineAfterProp:v}=r,y=p&&i?p.offset>i.offset?p:i:p??i;y&&(!v||v.offset<y.offset)&&s(y,"MISSING_CHAR","Missing newline after block sequence props")}const l=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===Qe.tagName&&l==="map"||o===gn.tagName&&l==="seq")return Ya(e,t,n,s,o);let a=t.schema.tags.find(p=>p.tag===o&&p.collection===l);if(!a){const p=t.schema.knownTags[o];if(p&&p.collection===l)t.schema.tags.push(Object.assign({},p,{default:!1})),a=p;else return p!=null&&p.collection?s(i,"BAD_COLLECTION_TYPE",`${p.tag} used for ${l} collection, but expects ${p.collection}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Ya(e,t,n,s,o)}const u=Ya(e,t,n,s,o,a),h=((f=a.resolve)==null?void 0:f.call(a,u,p=>s(i,"TAG_RESOLVE_FAILED",p),t.options))??u,c=te(h)?h:new T(h);return c.range=u.range,c.tag=o,a!=null&&a.format&&(c.format=a.format),c}function mg(e,t,n){const r=t.offset,s=OS(t,e.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?T.BLOCK_FOLDED:T.BLOCK_LITERAL,o=t.source?IS(t.source):[];let l=o.length;for(let y=o.length-1;y>=0;--y){const w=o[y][1];if(w===""||w==="\r")l=y;else break}if(l===0){const y=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let w=r+s.length;return t.source&&(w+=t.source.length),{value:y,type:i,comment:s.comment,range:[r,w,w]}}let a=t.indent+s.indent,u=t.offset+s.length,h=0;for(let y=0;y<l;++y){const[w,m]=o[y];if(m===""||m==="\r")s.indent===0&&w.length>a&&(a=w.length);else{w.length<a&&n(u+w.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(a=w.length),h=y,a===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=w.length+m.length+1}for(let y=o.length-1;y>=l;--y)o[y][0].length>a&&(l=y+1);let c="",f="",p=!1;for(let y=0;y<h;++y)c+=o[y][0].slice(a)+`
`;for(let y=h;y<l;++y){let[w,m]=o[y];u+=w.length+m.length+1;const d=m[m.length-1]==="\r";if(d&&(m=m.slice(0,-1)),m&&w.length<a){const S=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(u-m.length-(d?2:1),"BAD_INDENT",S),w=""}i===T.BLOCK_LITERAL?(c+=f+w.slice(a)+m,f=`
`):w.length>a||m[0]==="	"?(f===" "?f=`
`:!p&&f===`
`&&(f=`

`),c+=f+w.slice(a)+m,f=`
`,p=!0):m===""?f===`
`?c+=`
`:f=`
`:(c+=f+m,f=" ",p=!1)}switch(s.chomp){case"-":break;case"+":for(let y=l;y<o.length;++y)c+=`
`+o[y][0].slice(a);c[c.length-1]!==`
`&&(c+=`
`);break;default:c+=`
`}const v=r+s.length+t.source.length;return{value:c,type:i,comment:s.comment,range:[r,v,v]}}function OS({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=t[0],i=s[0];let o=0,l="",a=-1;for(let f=1;f<s.length;++f){const p=s[f];if(!l&&(p==="-"||p==="+"))l=p;else{const v=Number(p);!o&&v?o=v:a===-1&&(a=e+f)}}a!==-1&&r(a,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let u=!1,h="",c=s.length;for(let f=1;f<t.length;++f){const p=t[f];switch(p.type){case"space":u=!0;case"newline":c+=p.source.length;break;case"comment":n&&!u&&r(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),c+=p.source.length,h=p.source.substring(1);break;case"error":r(p,"UNEXPECTED_TOKEN",p.message),c+=p.source.length;break;default:{const v=`Unexpected token in block scalar header: ${p.type}`;r(p,"UNEXPECTED_TOKEN",v);const y=p.source;y&&typeof y=="string"&&(c+=y.length)}}}return{mode:i,indent:o,chomp:l,comment:h,length:c}}function IS(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),i=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)i.push([t[o],t[o+1]]);return i}function yg(e,t,n){const{offset:r,type:s,source:i,end:o}=e;let l,a;const u=(f,p,v)=>n(r+f,p,v);switch(s){case"scalar":l=T.PLAIN,a=RS(i,u);break;case"single-quoted-scalar":l=T.QUOTE_SINGLE,a=TS(i,u);break;case"double-quoted-scalar":l=T.QUOTE_DOUBLE,a=$S(i,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const h=r+i.length,c=hi(o,h,t,n);return{value:a,type:l,comment:c.comment,range:[r,h,c.offset]}}function RS(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),gg(e)}function TS(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),gg(e.slice(1,-1)).replace(/''/g,"'")}function gg(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let s=r[1],i=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const l=/[ \t]*(.*)/sy;return l.lastIndex=o,r=l.exec(e),s+i+((r==null?void 0:r[1])??"")}function $S(e,t){let n="";for(let r=1;r<e.length-1;++r){const s=e[r];if(!(s==="\r"&&e[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=LS(e,r);n+=i,r=o}else if(s==="\\"){let i=e[++r];const o=MS[i];if(o)n+=o;else if(i===`
`)for(i=e[r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="\r"&&e[r+1]===`
`)for(i=e[++r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="x"||i==="u"||i==="U"){const l={x:2,u:4,U:8}[i];n+=BS(e,r+1,l,t),r+=l}else{const l=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),n+=l}}else if(s===" "||s==="	"){const i=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>i?e.slice(i,r+1):s)}else n+=s}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function LS(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const MS={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function BS(e,t,n,r){const s=e.substr(t,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const l=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),l}return String.fromCodePoint(o)}function wg(e,t,n,r){const{value:s,type:i,comment:o,range:l}=t.type==="block-scalar"?mg(e,t,r):yg(t,e.options.strict,r),a=n?e.directives.tagName(n.source,c=>r(n,"TAG_RESOLVE_FAILED",c)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[Tt]:a?u=DS(e.schema,s,a,n,r):t.type==="scalar"?u=jS(e,s,t,r):u=e.schema[Tt];let h;try{const c=u.resolve(s,f=>r(n??t,"TAG_RESOLVE_FAILED",f),e.options);h=W(c)?c:new T(c)}catch(c){const f=c instanceof Error?c.message:String(c);r(n??t,"TAG_RESOLVE_FAILED",f),h=new T(s)}return h.range=l,h.source=s,i&&(h.type=i),a&&(h.tag=a),u.format&&(h.format=u.format),o&&(h.comment=o),h}function DS(e,t,n,r,s){var l;if(n==="!")return e[Tt];const i=[];for(const a of e.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if((l=a.test)!=null&&l.test(t))return a;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[Tt])}function jS({atKey:e,directives:t,schema:n},r,s,i){const o=n.tags.find(l=>{var a;return(l.default===!0||e&&l.default==="key")&&((a=l.test)==null?void 0:a.test(r))})||n[Tt];if(n.compat){const l=n.compat.find(a=>{var u;return a.default&&((u=a.test)==null?void 0:u.test(r))})??n[Tt];if(o.tag!==l.tag){const a=t.tagString(o.tag),u=t.tagString(l.tag),h=`Value may be parsed as either ${a} or ${u}`;i(s,"TAG_RESOLVE_FAILED",h,!0)}}return o}function FS(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let s=t[r];switch(s.type){case"space":case"comment":case"newline":e-=s.source.length;continue}for(s=t[++r];(s==null?void 0:s.type)==="space";)e+=s.source.length,s=t[++r];break}}return e}const US={composeNode:vg,composeEmptyNode:Jf};function vg(e,t,n,r){const s=e.atKey,{spaceBefore:i,comment:o,anchor:l,tag:a}=n;let u,h=!0;switch(t.type){case"alias":u=zS(e,t,r),(l||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=wg(e,t,a,r),l&&(u.anchor=l.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=NS(US,e,t,n,r),l&&(u.anchor=l.source.substring(1));break;default:{const c=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",c),u=Jf(e,t.offset,void 0,null,n,r),h=!1}}return l&&u.anchor===""&&r(l,"BAD_ALIAS","Anchor cannot be an empty string"),s&&e.options.stringKeys&&(!W(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(a??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(u.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?u.comment=o:u.commentBefore=o),e.options.keepSourceTokens&&h&&(u.srcToken=t),u}function Jf(e,t,n,r,{spaceBefore:s,comment:i,anchor:o,tag:l,end:a},u){const h={type:"scalar",offset:FS(t,n,r),indent:-1,source:""},c=wg(e,h,l,u);return o&&(c.anchor=o.source.substring(1),c.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(c.spaceBefore=!0),i&&(c.comment=i,c.range[2]=a),c}function zS({options:e},{offset:t,source:n,end:r},s){const i=new Yl(n.substring(1));i.source===""&&s(t,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,l=hi(r,o,e.strict,s);return i.range=[t,o,l.offset],l.comment&&(i.comment=l.comment),i}function KS(e,t,{offset:n,start:r,value:s,end:i},o){const l=Object.assign({_directives:t},e),a=new Zr(void 0,l),u={atKey:!1,atRoot:!0,directives:a.directives,options:a.options,schema:a.schema},h=Kr(r,{indicator:"doc-start",next:s??(i==null?void 0:i[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});h.found&&(a.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!h.hasNewline&&o(h.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),a.contents=s?vg(u,s,h,o):Jf(u,h.end,r,null,h,o);const c=a.contents.range[2],f=hi(i,c,!1,o);return f.comment&&(a.comment=f.comment),a.range=[n,c,f.offset],a}function as(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function Lh(e){var s;let t="",n=!1,r=!1;for(let i=0;i<e.length;++i){const o=e[i];switch(o[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((s=e[i+1])==null?void 0:s[0])!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class Xf{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=as(n);i?this.warnings.push(new hg(o,r,s)):this.errors.push(new Tn(o,r,s))},this.directives=new Ie({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:s}=Lh(this.prelude);if(r){const i=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(s||t.directives.docStart||!i)t.commentBefore=r;else if(Z(i)&&!i.flow&&i.items.length>0){let o=i.items[0];X(o)&&(o=o.key);const l=o.commentBefore;o.commentBefore=l?`${r}
${l}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Lh(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const s of t)yield*this.next(s);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,s)=>{const i=as(t);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=KS(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new Tn(as(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Tn(as(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=hi(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Tn(as(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),s=new Zr(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}function WS(e,t=!0,n){if(e){const r=(s,i,o)=>{const l=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(n)n(l,i,o);else throw new Tn([l,l+1],i,o)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yg(e,t,r);case"block-scalar":return mg({options:{strict:t}},e,r)}}return null}function VS(e,t){const{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:i=-1,type:o="PLAIN"}=t,l=fi({type:o,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),a=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(l[0]){case"|":case">":{const u=l.indexOf(`
`),h=l.substring(0,u),c=l.substring(u+1)+`
`,f=[{type:"block-scalar-header",offset:i,indent:r,source:h}];return Sg(f,a)||f.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:i,indent:r,props:f,source:c}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:l,end:a};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:l,end:a};default:return{type:"scalar",offset:i,indent:r,source:l,end:a}}}function qS(e,t,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:i=!1,type:o}=n,l="indent"in e?e.indent:null;if(r&&typeof l=="number"&&(l+=2),!o)switch(e.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const u=e.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const a=fi({type:o,value:t},{implicitKey:s||l===null,indent:l!==null&&l>0?" ".repeat(l):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(a[0]){case"|":case">":HS(e,a);break;case'"':Ga(e,a,"double-quoted-scalar");break;case"'":Ga(e,a,"single-quoted-scalar");break;default:Ga(e,a,"scalar")}}function HS(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),s=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const i=e.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=r,e.source=s}else{const{offset:i}=e,o="indent"in e?e.indent:-1,l=[{type:"block-scalar-header",offset:i,indent:o,source:r}];Sg(l,"end"in e?e.end:void 0)||l.push({type:"newline",offset:-1,indent:o,source:`
`});for(const a of Object.keys(e))a!=="type"&&a!=="offset"&&delete e[a];Object.assign(e,{type:"block-scalar",indent:o,props:l,source:s})}}function Sg(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function Ga(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let s=t.length;e.props[0].type==="block-scalar-header"&&(s-=e.props[0].source.length);for(const i of r)i.offset+=s;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const s={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[s]});break}default:{const r="indent"in e?e.indent:-1,s="end"in e&&Array.isArray(e.end)?e.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(e))i!=="type"&&i!=="offset"&&delete e[i];Object.assign(e,{type:n,indent:r,source:t,end:s})}}}const QS=e=>"type"in e?Ho(e):uo(e);function Ho(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=Ho(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=uo(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=uo(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=uo(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function uo({start:e,key:t,sep:n,value:r}){let s="";for(const i of e)s+=i.source;if(t&&(s+=Ho(t)),n)for(const i of n)s+=i.source;return r&&(s+=Ho(r)),s}const hc=Symbol("break visit"),JS=Symbol("skip children"),_g=Symbol("remove item");function Kn(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),kg(Object.freeze([]),e,t)}Kn.BREAK=hc;Kn.SKIP=JS;Kn.REMOVE=_g;Kn.itemAtPath=(e,t)=>{let n=e;for(const[r,s]of t){const i=n==null?void 0:n[r];if(i&&"items"in i)n=i.items[s];else return}return n};Kn.parentCollection=(e,t)=>{const n=Kn.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],s=n==null?void 0:n[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function kg(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const s of["key","value"]){const i=t[s];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const l=kg(Object.freeze(e.concat([[s,o]])),i.items[o],n);if(typeof l=="number")o=l-1;else{if(l===hc)return hc;l===_g&&(i.items.splice(o,1),o-=1)}}typeof r=="function"&&s==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const la="\uFEFF",aa="",ua="",ni="",XS=e=>!!e&&"items"in e,YS=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function GS(e){switch(e){case la:return"<BOM>";case aa:return"<DOC>";case ua:return"<FLOW_END>";case ni:return"<SCALAR>";default:return JSON.stringify(e)}}function Eg(e){switch(e){case la:return"byte-order-mark";case aa:return"doc-mode";case ua:return"flow-error-end";case ni:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const ZS=Object.freeze(Object.defineProperty({__proto__:null,BOM:la,DOCUMENT:aa,FLOW_END:ua,SCALAR:ni,createScalarToken:VS,isCollection:XS,isScalar:YS,prettyToken:GS,resolveAsScalar:WS,setScalarValue:qS,stringify:QS,tokenType:Eg,visit:Kn},Symbol.toStringTag,{value:"Module"}));function ct(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Mh=new Set("0123456789ABCDEFabcdef"),e_=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Ui=new Set(",[]{}"),t_=new Set(` ,[]{}
\r	`),Za=e=>!e||t_.has(e);class Cg{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const s=this.buffer[r+t+1];if(s===`
`||!s&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&ct(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===la&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const i=t[r-1];if(i===" "||i==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const i=t[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield aa,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&ct(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ct(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&ct(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Za),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&ct(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield ua,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Za),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||ct(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ct(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let s=t+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];t=s-1}else if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const l=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>l)t=i;else break}while(!0);return yield ni,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(ct(i)||t&&Ui.has(i))break;n=r}else if(ct(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||t&&Ui.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&Ui.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield ni,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Za))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(ct(n)||t&&Ui.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!ct(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(e_.has(n))n=this.buffer[++t];else if(n==="%"&&Mh.has(this.buffer[t+1])&&Mh.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class bg{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<t?n=i+1:r=i}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const s=this.lineStarts[n-1];return{line:n,col:t-s+1}}}}function An(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Bh(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Ag(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function zi(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Yn(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function Dh(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!An(t.start,"explicit-key-ind")&&!An(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Ag(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Yf{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Cg,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=Eg(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Dh(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&Bh(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{Bh(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=zi(this.peek(2)),r=Yn(n);let s;t.end?(s=t.end,s.push(this.sourceToken),delete t.end):s=[this.sourceToken];const i={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const s=!this.onKeyLine&&this.indent===t.indent,i=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(i&&n.sep&&!n.value){const l=[];for(let a=0;a<n.sep.length;++a){const u=n.sep[a];switch(u.type){case"newline":l.push(a);break;case"space":break;case"comment":u.indent>t.indent&&(l.length=0);break;default:l.length=0}}l.length>=2&&(o=n.sep.splice(l[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(An(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Ag(n.key)&&!An(n.sep,"newline")){const l=Yn(n.start),a=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:a,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(An(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const l=Yn(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):An(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const l=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:l,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(l):(Object.assign(n,{key:l,sep:[]}),this.onKeyLine=!0);return}default:{const l=this.startBlockValue(t);if(l){s&&l.type!=="block-seq"&&t.items.push({start:o}),this.stack.push(l);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||An(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const s=this.startBlockValue(t);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=zi(r),i=Yn(s);Dh(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const l={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:i,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=l}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=zi(t),r=Yn(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=zi(t),r=Yn(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function xg(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new bg||null,prettyErrors:t}}function n_(e,t={}){const{lineCounter:n,prettyErrors:r}=xg(t),s=new Yf(n==null?void 0:n.addNewLine),i=new Xf(t),o=Array.from(i.compose(s.parse(e)));if(r&&n)for(const l of o)l.errors.forEach(qo(e,n)),l.warnings.forEach(qo(e,n));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function Pg(e,t={}){const{lineCounter:n,prettyErrors:r}=xg(t),s=new Yf(n==null?void 0:n.addNewLine),i=new Xf(t);let o=null;for(const l of i.compose(s.parse(e),!0,e.length))if(!o)o=l;else if(o.options.logLevel!=="silent"){o.errors.push(new Tn(l.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(qo(e,n)),o.warnings.forEach(qo(e,n))),o}function r_(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const s=Pg(e,n);if(!s)return null;if(s.warnings.forEach(i=>Qy(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function s_(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(e===void 0){const{keepUndefined:s}=n??t??{};if(!s)return}return Qn(e)&&!r?e.toString(n):new Zr(e,r,n).toString(n)}const pc=Object.freeze(Object.defineProperty({__proto__:null,Alias:Yl,CST:ZS,Composer:Xf,Document:Zr,Lexer:Cg,LineCounter:bg,Pair:xe,Parser:Yf,Scalar:T,Schema:oa,YAMLError:Qf,YAMLMap:Qe,YAMLParseError:Tn,YAMLSeq:gn,YAMLWarning:hg,isAlias:Hn,isCollection:Z,isDocument:Qn,isMap:Jr,isNode:te,isPair:X,isScalar:W,isSeq:Xr,parse:r_,parseAllDocuments:n_,parseDocument:Pg,stringify:s_,visit:yn,visitAsync:Xl},Symbol.toStringTag,{value:"Module"}));function jh(e){return JSON.parse(JSON.stringify(e))}const Q=Mf({entities:[],stage:{width:1e3,height:1e3}}),be={addEntity:e=>{const t={...jh(e),uuid:crypto.randomUUID()};return Q.entities.push(t),t},removeEntity:e=>{Q.entities=Q.entities.filter(t=>t.uuid!==e)},updateEntity:(e,t)=>{const n=Q.entities.find(r=>r.uuid===e);n&&Object.assign(n,t)},addBehaviorToEntity:(e,t)=>{const n=Q.entities.find(s=>s.uuid===e);if(!n)throw new Error("Entity not found");const r={...jh(t),uuid:crypto.randomUUID()};return n.behaviors.push(r),r},removeBehaviorFromEntity:(e,t)=>{const n=Q.entities.find(r=>r.uuid===e);n&&(n.behaviors=n.behaviors.filter(r=>r.type!==t))},clearWorld:()=>{Q.entities=[]},getEntity:e=>Q.entities.find(t=>t.uuid===e)},Ce=Mf({selectedEntityIds:[],aiBusy:!1}),hn={setSelectedEntityIds:e=>{Ce.selectedEntityIds=e},addSelectedEntityIds:e=>{const t=e.filter(n=>!Ce.selectedEntityIds.includes(n));Ce.selectedEntityIds.push(...t)},removeSelectedEntityIds:e=>{Ce.selectedEntityIds=Ce.selectedEntityIds.filter(t=>!e.includes(t))},toggleEntitySelection:(e,t)=>{if(t){const n=Ce.selectedEntityIds.indexOf(e);n===-1?Ce.selectedEntityIds.push(e):Ce.selectedEntityIds.splice(n,1)}else Ce.selectedEntityIds=[e]},clearSelection:()=>{Ce.selectedEntityIds=[]},setAIBusy:e=>{Ce.aiBusy=e}},Ng=()=>{const{selectedEntityIds:e}=Ht(Ce),{entities:t}=Ht(Q);return t.filter(n=>e.includes(n.uuid))},i_=()=>{const[e,t]=L.useState(!1),n=Ht(Q),r=pc.stringify(n),s=Ht(Ce),i=pc.stringify(s);return L.useEffect(()=>{const o=l=>{l.key==="`"&&(t(a=>!a),console.log(" Toggled World State Inspector"))};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[]),e?A.jsx("div",{className:"absolute top-4 left-4 max-h-[calc(100vh-32px)] overflow-y-auto bg-white rounded-lg border border-gray-300 shadow-md animate-slide-in",children:A.jsxs("div",{className:"p-4 overflow-x-auto",children:[A.jsx("pre",{className:"text-xs font-bold mb-2",children:"IDE"}),A.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:i}),A.jsx("br",{}),A.jsx("hr",{}),A.jsx("br",{}),A.jsx("pre",{className:"text-xs font-bold mb-2",children:"World"}),A.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:r})]})}):null},er="4.67.3";let Fh=!1,$s,Og,Ig,mc,Rg,Tg,$g,Lg,Mg;function o_(e,t={auto:!1}){if(Fh)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if($s)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${$s}'\``);Fh=t.auto,$s=e.kind,Og=e.fetch,Ig=e.FormData,mc=e.File,Rg=e.ReadableStream,Tg=e.getMultipartRequestOptions,$g=e.getDefaultAgent,Lg=e.fileFromPath,Mg=e.isFsReadStream}let l_=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function a_({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new l_(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}$s||o_(a_(),{auto:!0});let ca=class yc{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=yc.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(yc.NEWLINE_REGEXP);return r&&s.pop(),s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new D(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new D(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new D("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}};ca.NEWLINE_CHARS=new Set([`
`,"\r"]);ca.NEWLINE_REGEXP=/\r\n|[\n\r]/g;let ri=class ys{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of u_(t,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(l&&l.error)throw new Ke(void 0,l.error,void 0,void 0);yield l}else{let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event=="error")throw new Ke(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new ys(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new ca,l=Bg(t);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new ys(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new ys(()=>s(t),this.controller),new ys(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new Rg({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}};async function*u_(e,t){if(!e.body)throw t.abort(),new D("Attempted to iterate over a response with no body");const n=new d_,r=new ca,s=Bg(e.body);for await(const i of c_(s))for(const o of r.decode(i)){const l=n.decode(o);l&&(yield l)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*c_(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=f_(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}function f_(e){for(let r=0;r<e.length-2;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}let d_=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=h_(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}};function h_(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function Bg(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Dg=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",jg=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&fa(e),fa=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",p_=e=>jg(e)||Dg(e)||Mg(e);async function Fg(e,t,n){var s;if(e=await e,jg(e))return e;if(Dg(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=fa(i)?[await i.arrayBuffer()]:[i];return new mc(o,t,n)}const r=await m_(e);if(t||(t=g_(e)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new mc(r,t,n)}async function m_(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(fa(e))t.push(await e.arrayBuffer());else if(w_(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${y_(e)}`);return t}function y_(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function g_(e){var t;return eu(e.name)||eu(e.filename)||((t=eu(e.path))==null?void 0:t.split(/[\\/]/).pop())}const eu=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},w_=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Uh=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Wr=async e=>{const t=await v_(e.body);return Tg(t,e)},v_=async e=>{const t=new Ig;return await Promise.all(Object.entries(e||{}).map(([n,r])=>gc(t,n,r))),t},gc=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(p_(n)){const r=await Fg(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>gc(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>gc(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Nr={},S_=function(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},__=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ki;async function Ug(e){const{response:t}=e;if(e.options.stream)return Or("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):ri.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await t.json();return Or("response",t.status,t.url,t.headers,i),zg(i,t)}const s=await t.text();return Or("response",t.status,t.url,t.headers,s),s}function zg(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}let Kg=class Wg extends Promise{constructor(t,n=Ug){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Wg(this.responsePromise,async n=>zg(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},k_=class{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=tu("maxRetries",n),this.timeout=tu("timeout",r),this.httpAgent=s,this.fetch=i??Og}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...P_(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${R_()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&fa(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var y;const{method:r,path:s,query:i,headers:o={}}=t,l=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:Uh(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,a=this.calculateContentLength(l),u=this.buildURL(s,i);"timeout"in t&&tu("timeout",t.timeout);const h=t.timeout??this.timeout,c=t.httpAgent??this.httpAgent??$g(u),f=h+1e3;typeof((y=c==null?void 0:c.options)==null?void 0:y.timeout)=="number"&&f>(c.options.timeout??0)&&(c.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const p=this.buildHeaders({options:t,headers:o,contentLength:a,retryCount:n});return{req:{method:r,...l&&{body:l},headers:p,...c&&{agent:c},signal:t.signal??null},url:u,timeout:h}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(t);return Vh(i,o),Vh(i,n),Uh(t.body)&&$s!=="node"&&delete i["content-type"],L_(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return Ke.generate(t,n,r,s)}request(t,n=null){return new Kg(this.makeRequest(t,n))}async makeRequest(t,n){var c,f;const r=await t,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:l}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),Or("request",o,r,i.headers),(c=r.signal)!=null&&c.aborted)throw new yt;const a=new AbortController,u=await this.fetchWithTimeout(o,i,l,a).catch(wc);if(u instanceof Error){if((f=r.signal)!=null&&f.aborted)throw new yt;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new Gf:new da({cause:u})}const h=C_(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const d=`retrying, ${n} attempts remaining`;return Or(`response (error; ${d})`,u.status,o,h),this.retryRequest(r,n,h)}const p=await u.text().catch(d=>wc(d).message),v=N_(p),y=v?void 0:p;throw Or(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,h,y),this.makeStatusError(u.status,v,y,h)}return{response:u,options:r,controller:a}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new E_(this,r,t)}buildURL(t,n){const r=I_(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return qg(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new D(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:s.signal,...o}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await pi(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${er}`}};class Vg{constructor(t,n,r,s){Ki.set(this,void 0),S_(this,Ki,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new D("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[s,i]of r)t.url.searchParams.set(s,i);n.query=void 0,n.path=t.url.toString()}return await __(this,Ki,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Ki=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}let E_=class extends Kg{constructor(t,n,r){super(n,async s=>new r(t,s.response,await Ug(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}};const C_=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),b_={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ze=e=>typeof e=="object"&&e!==null&&!qg(e)&&Object.keys(e).every(t=>Hg(b_,t)),A_=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":Kh(Deno.build.os),"X-Stainless-Arch":zh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":Kh(process.platform),"X-Stainless-Arch":zh(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=x_();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function x_(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const zh=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Kh=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Wh;const P_=()=>Wh??(Wh=A_()),N_=e=>{try{return JSON.parse(e)}catch{return}},O_=new RegExp("^(?:[a-z]+:)?//","i"),I_=e=>O_.test(e),pi=e=>new Promise(t=>setTimeout(t,e)),tu=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new D(`${e} must be an integer`);if(t<0)throw new D(`${e} must be a positive integer`);return t},wc=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Wi=e=>{var t,n,r,s;if(typeof process<"u")return((t=Nr==null?void 0:Nr[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function qg(e){if(!e)return!0;for(const t in e)return!1;return!0}function Hg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Vh(e,t){for(const n in t){if(!Hg(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}function Or(e,...t){typeof process<"u"&&(Nr==null?void 0:Nr.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${e}`,...t)}const R_=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),T_=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",$_=e=>typeof(e==null?void 0:e.get)=="function",L_=(e,t)=>{var r;const n=t.toLowerCase();if($_(e)){const s=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,l)=>o+l.toUpperCase());for(const i of[t,n,t.toUpperCase(),s]){const o=e.get(i);if(o)return o}}for(const[s,i]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i};function nu(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class D extends Error{}let Ke=class vc extends D{constructor(t,n,r,s){super(`${vc.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t)return new da({message:r,cause:wc(n)});const i=n==null?void 0:n.error;return t===400?new Qg(t,i,r,s):t===401?new Jg(t,i,r,s):t===403?new Xg(t,i,r,s):t===404?new Yg(t,i,r,s):t===409?new Gg(t,i,r,s):t===422?new Zg(t,i,r,s):t===429?new e0(t,i,r,s):t>=500?new t0(t,i,r,s):new vc(t,i,r,s)}},yt=class extends Ke{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}},da=class extends Ke{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}},Gf=class extends da{constructor({message:t}={}){super({message:t??"Request timed out."})}},Qg=class extends Ke{constructor(){super(...arguments),this.status=400}},Jg=class extends Ke{constructor(){super(...arguments),this.status=401}},Xg=class extends Ke{constructor(){super(...arguments),this.status=403}},Yg=class extends Ke{constructor(){super(...arguments),this.status=404}},Gg=class extends Ke{constructor(){super(...arguments),this.status=409}},Zg=class extends Ke{constructor(){super(...arguments),this.status=422}},e0=class extends Ke{constructor(){super(...arguments),this.status=429}},t0=class extends Ke{};class n0 extends D{constructor(){super("Could not parse response content as the length limit was reached")}}class r0 extends D{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const Sc="RFC3986",_c={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},M_="RFC1738",B_=Array.isArray,bt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),ru=1024,D_=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<i.length;l+=ru){const a=i.length>=ru?i.slice(l,l+ru):i,u=[];for(let h=0;h<a.length;++h){let c=a.charCodeAt(h);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===M_&&(c===40||c===41)){u[u.length]=a.charAt(h);continue}if(c<128){u[u.length]=bt[c];continue}if(c<2048){u[u.length]=bt[192|c>>6]+bt[128|c&63];continue}if(c<55296||c>=57344){u[u.length]=bt[224|c>>12]+bt[128|c>>6&63]+bt[128|c&63];continue}h+=1,c=65536+((c&1023)<<10|a.charCodeAt(h)&1023),u[u.length]=bt[240|c>>18]+bt[128|c>>12&63]+bt[128|c>>6&63]+bt[128|c&63]}o+=u.join("")}return o};function j_(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function qh(e,t){if(B_(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const F_=Object.prototype.hasOwnProperty,s0={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},xt=Array.isArray,U_=Array.prototype.push,i0=function(e,t){U_.apply(e,xt(t)?t:[t])},z_=Date.prototype.toISOString,ce={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:D_,encodeValuesOnly:!1,format:Sc,formatter:_c[Sc],indices:!1,serializeDate(e){return z_.call(e)},skipNulls:!1,strictNullHandling:!1};function K_(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const su={};function o0(e,t,n,r,s,i,o,l,a,u,h,c,f,p,v,y,w,m){let d=e,g=m,S=0,k=!1;for(;(g=g.get(su))!==void 0&&!k;){const x=g.get(e);if(S+=1,typeof x<"u"){if(x===S)throw new RangeError("Cyclic object value");k=!0}typeof g.get(su)>"u"&&(S=0)}if(typeof u=="function"?d=u(t,d):d instanceof Date?d=f==null?void 0:f(d):n==="comma"&&xt(d)&&(d=qh(d,function(x){return x instanceof Date?f==null?void 0:f(x):x})),d===null){if(i)return a&&!y?a(t,ce.encoder,w,"key",p):t;d=""}if(K_(d)||j_(d)){if(a){const x=y?t:a(t,ce.encoder,w,"key",p);return[(v==null?void 0:v(x))+"="+(v==null?void 0:v(a(d,ce.encoder,w,"value",p)))]}return[(v==null?void 0:v(t))+"="+(v==null?void 0:v(String(d)))]}const _=[];if(typeof d>"u")return _;let C;if(n==="comma"&&xt(d))y&&a&&(d=qh(d,a)),C=[{value:d.length>0?d.join(",")||null:void 0}];else if(xt(u))C=u;else{const x=Object.keys(d);C=h?x.sort(h):x}const E=l?String(t).replace(/\./g,"%2E"):String(t),O=r&&xt(d)&&d.length===1?E+"[]":E;if(s&&xt(d)&&d.length===0)return O+"[]";for(let x=0;x<C.length;++x){const R=C[x],F=typeof R=="object"&&typeof R.value<"u"?R.value:d[R];if(o&&F===null)continue;const et=c&&l?R.replace(/\./g,"%2E"):R,yi=xt(d)?typeof n=="function"?n(O,et):O:O+(c?"."+et:"["+et+"]");m.set(e,S);const gi=new WeakMap;gi.set(su,m),i0(_,o0(F,yi,n,r,s,i,o,l,n==="comma"&&y&&xt(d)?null:a,u,h,c,f,p,v,y,w,gi))}return _}function W_(e=ce){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||ce.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Sc;if(typeof e.format<"u"){if(!F_.call(_c,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=_c[n];let s=ce.filter;(typeof e.filter=="function"||xt(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in s0?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=ce.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:ce.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ce.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ce.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ce.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ce.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ce.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ce.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ce.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ce.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ce.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ce.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ce.strictNullHandling}}function V_(e,t={}){let n=e;const r=W_(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):xt(r.filter)&&(i=r.filter,s=i);const o=[];if(typeof n!="object"||n===null)return"";const l=s0[r.arrayFormat],a=l==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let f=0;f<s.length;++f){const p=s[f];r.skipNulls&&n[p]===null||i0(o,o0(n[p],p,l,a,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const h=o.join(r.delimiter);let c=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),h.length>0?c+h:""}class Zf extends Vg{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Et extends Vg{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}let z=class{constructor(t){this._client=t}},Qo=class extends z{create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}};Qo||(Qo={});let Jo=class extends z{constructor(){super(...arguments),this.completions=new Qo(this._client)}};(function(e){e.Completions=Qo})(Jo||(Jo={}));class Xo extends z{create(t,n){return this._client.post("/audio/speech",{body:t,...n,__binaryResponse:!0})}}Xo||(Xo={});let Yo=class extends z{create(t,n){return this._client.post("/audio/transcriptions",Wr({body:t,...n}))}};Yo||(Yo={});let Go=class extends z{create(t,n){return this._client.post("/audio/translations",Wr({body:t,...n}))}};Go||(Go={});let Zo=class extends z{constructor(){super(...arguments),this.transcriptions=new Yo(this._client),this.translations=new Go(this._client),this.speech=new Xo(this._client)}};(function(e){e.Transcriptions=Yo,e.Translations=Go,e.Speech=Xo})(Zo||(Zo={}));class el extends z{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/batches",ed,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class ed extends Et{}(function(e){e.BatchesPage=ed})(el||(el={}));class tl extends z{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/assistants",td,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class td extends Et{}(function(e){e.AssistantsPage=td})(tl||(tl={}));function Hh(e){return typeof e.parse=="function"}const Ir=e=>(e==null?void 0:e.role)==="assistant",l0=e=>(e==null?void 0:e.role)==="function",a0=e=>(e==null?void 0:e.role)==="tool";var ft=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Y=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},kc,co,fo,gs,ws,ho,vs,Lt,Ss,nl,rl,tr,u0;class c0{constructor(){kc.add(this),this.controller=new AbortController,co.set(this,void 0),fo.set(this,()=>{}),gs.set(this,()=>{}),ws.set(this,void 0),ho.set(this,()=>{}),vs.set(this,()=>{}),Lt.set(this,{}),Ss.set(this,!1),nl.set(this,!1),rl.set(this,!1),tr.set(this,!1),ft(this,co,new Promise((t,n)=>{ft(this,fo,t,"f"),ft(this,gs,n,"f")}),"f"),ft(this,ws,new Promise((t,n)=>{ft(this,ho,t,"f"),ft(this,vs,n,"f")}),"f"),Y(this,co,"f").catch(()=>{}),Y(this,ws,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},Y(this,kc,"m",u0).bind(this))},0)}_connected(){this.ended||(Y(this,fo,"f").call(this),this._emit("connect"))}get ended(){return Y(this,Ss,"f")}get errored(){return Y(this,nl,"f")}get aborted(){return Y(this,rl,"f")}abort(){this.controller.abort()}on(t,n){return(Y(this,Lt,"f")[t]||(Y(this,Lt,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=Y(this,Lt,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(Y(this,Lt,"f")[t]||(Y(this,Lt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{ft(this,tr,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){ft(this,tr,!0,"f"),await Y(this,ws,"f")}_emit(t,...n){if(Y(this,Ss,"f"))return;t==="end"&&(ft(this,Ss,!0,"f"),Y(this,ho,"f").call(this));const r=Y(this,Lt,"f")[t];if(r&&(Y(this,Lt,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!Y(this,tr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Y(this,gs,"f").call(this,s),Y(this,vs,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!Y(this,tr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Y(this,gs,"f").call(this,s),Y(this,vs,"f").call(this,s),this._emit("end")}}_emitFinal(){}}co=new WeakMap,fo=new WeakMap,gs=new WeakMap,ws=new WeakMap,ho=new WeakMap,vs=new WeakMap,Lt=new WeakMap,Ss=new WeakMap,nl=new WeakMap,rl=new WeakMap,tr=new WeakMap,kc=new WeakSet,u0=function(t){if(ft(this,nl,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new yt),t instanceof yt)return ft(this,rl,!0,"f"),this._emit("abort",t);if(t instanceof D)return this._emit("error",t);if(t instanceof Error){const n=new D(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new D(String(t)))};function f0(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function mi(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function q_(e,t){return!t||!d0(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:nd(e,t)}function nd(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new n0;if(r.finish_reason==="content_filter")throw new r0;return{...r,message:{...r.message,tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>Q_(t,i)))??[],parsed:r.message.content&&!r.message.refusal?H_(t,r.message.content):null}}});return{...e,choices:n}}function H_(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function Q_(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:mi(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function J_(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return mi(n)||(n==null?void 0:n.function.strict)||!1}function d0(e){var t;return f0(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>mi(n)||n.type==="function"&&n.function.strict===!0))??!1}function X_(e){for(const t of e??[]){if(t.type!=="function")throw new D(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new D(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Le=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ee,Ec,sl,Cc,bc,Ac,h0,xc;const Qh=10;class p0 extends c0{constructor(){super(...arguments),Ee.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(l0(t)||a0(t))&&t.content)this._emit("functionCallResult",t.content);else if(Ir(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Ir(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new D("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Le(this,Ee,"m",Ec).call(this)}async finalMessage(){return await this.done(),Le(this,Ee,"m",sl).call(this)}async finalFunctionCall(){return await this.done(),Le(this,Ee,"m",Cc).call(this)}async finalFunctionCallResult(){return await this.done(),Le(this,Ee,"m",bc).call(this)}async totalUsage(){return await this.done(),Le(this,Ee,"m",Ac).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=Le(this,Ee,"m",sl).call(this);n&&this._emit("finalMessage",n);const r=Le(this,Ee,"m",Ec).call(this);r&&this._emit("finalContent",r);const s=Le(this,Ee,"m",Cc).call(this);s&&this._emit("finalFunctionCall",s);const i=Le(this,Ee,"m",bc).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Le(this,Ee,"m",Ac).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Le(this,Ee,"m",h0).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(nd(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var f;const s="function",{function_call:i="auto",stream:o,...l}=n,a=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=Qh}=r||{},h={};for(const p of n.functions)h[p.name||p.function.name]=p;const c=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const y=(f=(await this._createChatCompletion(t,{...l,function_call:i,functions:c,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!y)throw new D("missing message in ChatCompletion response");if(!y.function_call)return;const{name:w,arguments:m}=y.function_call,d=h[w];if(d){if(a&&a!==w){const _=`Invalid function_call: ${JSON.stringify(w)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,name:w,content:_});continue}}else{const _=`Invalid function_call: ${JSON.stringify(w)}. Available options are: ${c.map(C=>JSON.stringify(C.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:w,content:_});continue}let g;try{g=Hh(d)?await d.parse(m):m}catch(_){this._addMessage({role:s,name:w,content:_ instanceof Error?_.message:String(_)});continue}const S=await d.function(g,this),k=Le(this,Ee,"m",xc).call(this,S);if(this._addMessage({role:s,name:w,content:k}),a)return}}async _runTools(t,n,r){var p,v,y;const s="tool",{tool_choice:i="auto",stream:o,...l}=n,a=typeof i!="string"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:u=Qh}=r||{},h=n.tools.map(w=>{if(mi(w)){if(!w.$callback)throw new D("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),c={};for(const w of h)w.type==="function"&&(c[w.function.name||w.function.function.name]=w.function);const f="tools"in n?h.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of n.messages)this._addMessage(w,!1);for(let w=0;w<u;++w){const d=(v=(await this._createChatCompletion(t,{...l,tool_choice:i,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!d)throw new D("missing message in ChatCompletion response");if(!((y=d.tool_calls)!=null&&y.length))return;for(const g of d.tool_calls){if(g.type!=="function")continue;const S=g.id,{name:k,arguments:_}=g.function,C=c[k];if(C){if(a&&a!==k){const R=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,tool_call_id:S,content:R});continue}}else{const R=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(c).map(F=>JSON.stringify(F)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:S,content:R});continue}let E;try{E=Hh(C)?await C.parse(_):_}catch(R){const F=R instanceof Error?R.message:String(R);this._addMessage({role:s,tool_call_id:S,content:F});continue}const O=await C.function(E,this),x=Le(this,Ee,"m",xc).call(this,O);if(this._addMessage({role:s,tool_call_id:S,content:x}),a)return}}}}Ee=new WeakSet,Ec=function(){return Le(this,Ee,"m",sl).call(this).content??null},sl=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Ir(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new D("stream ended without producing a ChatCompletionMessage with role=assistant")},Cc=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Ir(s)&&(s!=null&&s.function_call))return s.function_call;if(Ir(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},bc=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(l0(n)&&n.content!=null||a0(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Ac=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},h0=function(t){if(t.n!=null&&t.n>1)throw new D("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},xc=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class si extends p0{static runFunctions(t,n,r){const s=new si,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new si,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),Ir(t)&&t.content&&this._emit("content",t.content)}}const m0=1,y0=2,g0=4,w0=8,v0=16,S0=32,_0=64,k0=128,E0=256,C0=k0|E0,b0=v0|S0|C0|_0,A0=m0|y0|b0,x0=g0|w0,Y_=A0|x0,pe={STR:m0,NUM:y0,ARR:g0,OBJ:w0,NULL:v0,BOOL:S0,NAN:_0,INFINITY:k0,MINUS_INFINITY:E0,INF:C0,SPECIAL:b0,ATOM:A0,COLLECTION:x0,ALL:Y_};class G_ extends Error{}class Z_ extends Error{}function ek(e,t=pe.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return tk(e.trim(),t)}const tk=(e,t)=>{const n=e.length;let r=0;const s=f=>{throw new G_(`${f} at position ${r}`)},i=f=>{throw new Z_(`${f} at position ${r}`)},o=()=>(c(),r>=n&&s("Unexpected end of input"),e[r]==='"'?l():e[r]==="{"?a():e[r]==="["?u():e.substring(r,r+4)==="null"||pe.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||pe.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||pe.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||pe.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||pe.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||pe.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):h()),l=()=>{const f=r;let p=!1;for(r++;r<n&&(e[r]!=='"'||p&&e[r-1]==="\\");)p=e[r]==="\\"?!p:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(f,++r-Number(p)))}catch(v){i(String(v))}else if(pe.STR&t)try{return JSON.parse(e.substring(f,r-Number(p))+'"')}catch{return JSON.parse(e.substring(f,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},a=()=>{r++,c();const f={};try{for(;e[r]!=="}";){if(c(),r>=n&&pe.OBJ&t)return f;const p=l();c(),r++;try{const v=o();Object.defineProperty(f,p,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(pe.OBJ&t)return f;throw v}c(),e[r]===","&&r++}}catch{if(pe.OBJ&t)return f;s("Expected '}' at end of object")}return r++,f},u=()=>{r++;const f=[];try{for(;e[r]!=="]";)f.push(o()),c(),e[r]===","&&r++}catch{if(pe.ARR&t)return f;s("Expected ']' at end of array")}return r++,f},h=()=>{if(r===0){e==="-"&&pe.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(pe.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(p))}}const f=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(pe.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(f,r))}catch{e.substring(f,r)==="-"&&pe.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(f,e.lastIndexOf("e")))}catch(v){i(String(v))}}},c=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return o()},Jh=e=>ek(e,pe.ALL^pe.NUM);var Gn=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},K=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ue,$t,Zn,Xt,iu,Vi,ou,lu,au,qi,uu,Xh;class ii extends p0{constructor(t){super(),ue.add(this),$t.set(this,void 0),Zn.set(this,void 0),Xt.set(this,void 0),Gn(this,$t,t,"f"),Gn(this,Zn,[],"f")}get currentChatCompletionSnapshot(){return K(this,Xt,"f")}static fromReadableStream(t){const n=new ii(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new ii(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),K(this,ue,"m",iu).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of i)K(this,ue,"m",ou).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new yt;return this._addChatCompletion(K(this,ue,"m",qi).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),K(this,ue,"m",iu).call(this),this._connected();const s=ri.fromReadableStream(t,this.controller);let i;for await(const l of s)i&&i!==l.id&&this._addChatCompletion(K(this,ue,"m",qi).call(this)),K(this,ue,"m",ou).call(this,l),i=l.id;if((o=s.controller.signal)!=null&&o.aborted)throw new yt;return this._addChatCompletion(K(this,ue,"m",qi).call(this))}[($t=new WeakMap,Zn=new WeakMap,Xt=new WeakMap,ue=new WeakSet,iu=function(){this.ended||Gn(this,Xt,void 0,"f")},Vi=function(n){let r=K(this,Zn,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},K(this,Zn,"f")[n.index]=r,r)},ou=function(n){var s,i,o,l,a,u,h,c,f,p,v,y,w,m,d;if(this.ended)return;const r=K(this,ue,"m",Xh).call(this,n);this._emit("chunk",n,r);for(const g of n.choices){const S=r.choices[g.index];g.delta.content!=null&&((s=S.message)==null?void 0:s.role)==="assistant"&&((i=S.message)!=null&&i.content)&&(this._emit("content",g.delta.content,S.message.content),this._emit("content.delta",{delta:g.delta.content,snapshot:S.message.content,parsed:S.message.parsed})),g.delta.refusal!=null&&((o=S.message)==null?void 0:o.role)==="assistant"&&((l=S.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:g.delta.refusal,snapshot:S.message.refusal}),((a=g.logprobs)==null?void 0:a.content)!=null&&((u=S.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=g.logprobs)==null?void 0:h.content,snapshot:((c=S.logprobs)==null?void 0:c.content)??[]}),((f=g.logprobs)==null?void 0:f.refusal)!=null&&((p=S.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=g.logprobs)==null?void 0:v.refusal,snapshot:((y=S.logprobs)==null?void 0:y.refusal)??[]});const k=K(this,ue,"m",Vi).call(this,S);S.finish_reason&&(K(this,ue,"m",au).call(this,S),k.current_tool_call_index!=null&&K(this,ue,"m",lu).call(this,S,k.current_tool_call_index));for(const _ of g.delta.tool_calls??[])k.current_tool_call_index!==_.index&&(K(this,ue,"m",au).call(this,S),k.current_tool_call_index!=null&&K(this,ue,"m",lu).call(this,S,k.current_tool_call_index)),k.current_tool_call_index=_.index;for(const _ of g.delta.tool_calls??[]){const C=(w=S.message.tool_calls)==null?void 0:w[_.index];C!=null&&C.type&&((C==null?void 0:C.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(m=C.function)==null?void 0:m.name,index:_.index,arguments:C.function.arguments,parsed_arguments:C.function.parsed_arguments,arguments_delta:((d=_.function)==null?void 0:d.arguments)??""}):(C==null||C.type,void 0))}}},lu=function(n,r){var o,l,a;if(K(this,ue,"m",Vi).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(a=(l=K(this,$t,"f"))==null?void 0:l.tools)==null?void 0:a.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:mi(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},au=function(n){var s,i;const r=K(this,ue,"m",Vi).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=K(this,ue,"m",uu).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},qi=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");const n=K(this,Xt,"f");if(!n)throw new D("request ended without sending any chunks");return Gn(this,Xt,void 0,"f"),Gn(this,Zn,[],"f"),nk(n,K(this,$t,"f"))},uu=function(){var r;const n=(r=K(this,$t,"f"))==null?void 0:r.response_format;return f0(n)?n:null},Xh=function(n){var r,s,i,o;let l=K(this,Xt,"f");const{choices:a,...u}=n;l?Object.assign(l,u):l=Gn(this,Xt,{...u,choices:[]},"f");for(const{delta:h,finish_reason:c,index:f,logprobs:p=null,...v}of n.choices){let y=l.choices[f];if(y||(y=l.choices[f]={finish_reason:c,index:f,message:{},logprobs:p,...v}),p)if(!y.logprobs)y.logprobs=Object.assign({},p);else{const{content:_,refusal:C,...E}=p;Object.assign(y.logprobs,E),_&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(..._)),C&&((s=y.logprobs).refusal??(s.refusal=[]),y.logprobs.refusal.push(...C))}if(c&&(y.finish_reason=c,K(this,$t,"f")&&d0(K(this,$t,"f")))){if(c==="length")throw new n0;if(c==="content_filter")throw new r0}if(Object.assign(y,v),!h)continue;const{content:w,refusal:m,function_call:d,role:g,tool_calls:S,...k}=h;if(Object.assign(y.message,k),m&&(y.message.refusal=(y.message.refusal||"")+m),g&&(y.message.role=g),d&&(y.message.function_call?(d.name&&(y.message.function_call.name=d.name),d.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=d.arguments)):y.message.function_call=d),w&&(y.message.content=(y.message.content||"")+w,!y.message.refusal&&K(this,ue,"m",uu).call(this)&&(y.message.parsed=Jh(y.message.content))),S){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:_,id:C,type:E,function:O,...x}of S){const R=(o=y.message.tool_calls)[_]??(o[_]={});Object.assign(R,x),C&&(R.id=C),E&&(R.type=E),O&&(R.function??(R.function={name:O.name??"",arguments:""})),O!=null&&O.name&&(R.function.name=O.name),O!=null&&O.arguments&&(R.function.arguments+=O.arguments,J_(K(this,$t,"f"),R)&&(R.function.parsed_arguments=Jh(R.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ri(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function nk(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:o,...l}=e,a={...l,id:n,choices:r.map(({message:u,finish_reason:h,index:c,logprobs:f,...p})=>{if(!h)throw new D(`missing finish_reason for choice ${c}`);const{content:v=null,function_call:y,tool_calls:w,...m}=u,d=u.role;if(!d)throw new D(`missing role for choice ${c}`);if(y){const{arguments:g,name:S}=y;if(g==null)throw new D(`missing function_call.arguments for choice ${c}`);if(!S)throw new D(`missing function_call.name for choice ${c}`);return{...p,message:{content:v,function_call:{arguments:g,name:S},role:d,refusal:u.refusal??null},finish_reason:h,index:c,logprobs:f}}return w?{...p,index:c,finish_reason:h,logprobs:f,message:{...m,role:d,content:v,refusal:u.refusal??null,tool_calls:w.map((g,S)=>{const{function:k,type:_,id:C,...E}=g,{arguments:O,name:x,...R}=k||{};if(C==null)throw new D(`missing choices[${c}].tool_calls[${S}].id
${Hi(e)}`);if(_==null)throw new D(`missing choices[${c}].tool_calls[${S}].type
${Hi(e)}`);if(x==null)throw new D(`missing choices[${c}].tool_calls[${S}].function.name
${Hi(e)}`);if(O==null)throw new D(`missing choices[${c}].tool_calls[${S}].function.arguments
${Hi(e)}`);return{...E,id:C,type:_,function:{...R,name:x,arguments:O}}})}}:{...p,message:{...m,content:v,role:d,refusal:u.refusal??null},finish_reason:h,index:c,logprobs:f}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return q_(a,t)}function Hi(e){return JSON.stringify(e)}class Rr extends ii{static fromReadableStream(t){const n=new Rr(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const s=new Rr(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new Rr(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let P0=class extends z{parse(t,n){return X_(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>nd(r,t))}runFunctions(t,n){return t.stream?Rr.runFunctions(this._client,t,n):si.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?Rr.runTools(this._client,t,n):si.runTools(this._client,t,n)}stream(t,n){return ii.createChatCompletion(this._client,t,n)}},il=class extends z{constructor(){super(...arguments),this.completions=new P0(this._client)}};(function(e){e.Completions=P0})(il||(il={}));var I=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},We=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},we,Pc,Pt,po,ht,$n,vr,xn,ol,qe,mo,yo,Ls,_s,ks,Yh,Gh,Zh,ep,tp,np,rp;class gt extends c0{constructor(){super(...arguments),we.add(this),Pc.set(this,[]),Pt.set(this,{}),po.set(this,{}),ht.set(this,void 0),$n.set(this,void 0),vr.set(this,void 0),xn.set(this,void 0),ol.set(this,void 0),qe.set(this,void 0),mo.set(this,void 0),yo.set(this,void 0),Ls.set(this,void 0)}[(Pc=new WeakMap,Pt=new WeakMap,po=new WeakMap,ht=new WeakMap,$n=new WeakMap,vr=new WeakMap,xn=new WeakMap,ol=new WeakMap,qe=new WeakMap,mo=new WeakMap,yo=new WeakMap,Ls=new WeakMap,we=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new gt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=ri.fromReadableStream(t,this.controller);for await(const o of s)I(this,we,"m",_s).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new yt;return this._addRun(I(this,we,"m",ks).call(this))}toReadableStream(){return new ri(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s,i){const o=new gt;return o._run(()=>o._runToolAssistantStream(t,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,r,s,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...s,stream:!0},a=await t.submitToolOutputs(n,r,l,{...i,signal:this.controller.signal});this._connected();for await(const h of a)I(this,we,"m",_s).call(this,h);if((u=a.controller.signal)!=null&&u.aborted)throw new yt;return this._addRun(I(this,we,"m",ks).call(this))}static createThreadAssistantStream(t,n,r){const s=new gt;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new gt;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return I(this,mo,"f")}currentRun(){return I(this,yo,"f")}currentMessageSnapshot(){return I(this,ht,"f")}currentRunStepSnapshot(){return I(this,Ls,"f")}async finalRunSteps(){return await this.done(),Object.values(I(this,Pt,"f"))}async finalMessages(){return await this.done(),Object.values(I(this,po,"f"))}async finalRun(){if(await this.done(),!I(this,$n,"f"))throw Error("Final run was not received.");return I(this,$n,"f")}async _createThreadAssistantStream(t,n,r){var l;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const a of o)I(this,we,"m",_s).call(this,a);if((l=o.controller.signal)!=null&&l.aborted)throw new yt;return this._addRun(I(this,we,"m",ks).call(this))}async _createAssistantStream(t,n,r,s){var a;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await t.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const u of l)I(this,we,"m",_s).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new yt;return this._addRun(I(this,we,"m",ks).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(nu(i)&&nu(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!nu(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const a=i[l];a==null?i.push(o):i[l]=this.accumulateDelta(a,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s,i){return await this._createToolAssistantStream(r,t,n,s,i)}}_s=function(t){if(!this.ended)switch(We(this,mo,t,"f"),I(this,we,"m",Zh).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":I(this,we,"m",rp).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":I(this,we,"m",Gh).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":I(this,we,"m",Yh).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ks=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");if(!I(this,$n,"f"))throw Error("Final run has not been received");return I(this,$n,"f")},Yh=function(t){const[n,r]=I(this,we,"m",tp).call(this,t,I(this,ht,"f"));We(this,ht,n,"f"),I(this,po,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=I(this,vr,"f")){if(I(this,xn,"f"))switch(I(this,xn,"f").type){case"text":this._emit("textDone",I(this,xn,"f").text,I(this,ht,"f"));break;case"image_file":this._emit("imageFileDone",I(this,xn,"f").image_file,I(this,ht,"f"));break}We(this,vr,s.index,"f")}We(this,xn,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(I(this,vr,"f")!==void 0){const s=t.data.content[I(this,vr,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,I(this,ht,"f"));break;case"text":this._emit("textDone",s.text,I(this,ht,"f"));break}}I(this,ht,"f")&&this._emit("messageDone",t.data),We(this,ht,void 0,"f")}},Gh=function(t){const n=I(this,we,"m",ep).call(this,t);switch(We(this,Ls,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==I(this,ol,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(I(this,qe,"f")&&this._emit("toolCallDone",I(this,qe,"f")),We(this,ol,i.index,"f"),We(this,qe,n.step_details.tool_calls[i.index],"f"),I(this,qe,"f")&&this._emit("toolCallCreated",I(this,qe,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":We(this,Ls,void 0,"f"),t.data.step_details.type=="tool_calls"&&I(this,qe,"f")&&(this._emit("toolCallDone",I(this,qe,"f")),We(this,qe,void 0,"f")),this._emit("runStepDone",t.data,n);break}},Zh=function(t){I(this,Pc,"f").push(t),this._emit("event",t)},ep=function(t){switch(t.event){case"thread.run.step.created":return I(this,Pt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=I(this,Pt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=gt.accumulateDelta(n,r.delta);I(this,Pt,"f")[t.data.id]=s}return I(this,Pt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":I(this,Pt,"f")[t.data.id]=t.data;break}if(I(this,Pt,"f")[t.data.id])return I(this,Pt,"f")[t.data.id];throw new Error("No snapshot available")},tp=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=I(this,we,"m",np).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},np=function(t,n){return gt.accumulateDelta(n,t)},rp=function(t){switch(We(this,yo,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":We(this,$n,t.data,"f"),I(this,qe,"f")&&(this._emit("toolCallDone",I(this,qe,"f")),We(this,qe,void 0,"f"));break}};class ll extends z{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,rd,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class rd extends Et{}(function(e){e.MessagesPage=rd})(ll||(ll={}));class al extends z{retrieve(t,n,r,s={},i){return ze(s)?this.retrieve(t,n,r,{},s):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,r={},s){return ze(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,sd,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class sd extends Et{}(function(e){e.RunStepsPage=sd})(al||(al={}));class ul extends z{constructor(){super(...arguments),this.steps=new al(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,id,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}createAndStream(t,n,r){return gt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await pi(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,r){return gt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,s){const i=await this.submitToolOutputs(t,n,r,s);return await this.poll(t,i.id,s)}submitToolOutputsStream(t,n,r,s){return gt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,s)}}class id extends Et{}(function(e){e.RunsPage=id,e.Steps=al,e.RunStepsPage=sd})(ul||(ul={}));class cl extends z{constructor(){super(...arguments),this.runs=new ul(this._client),this.messages=new ll(this._client)}create(t={},n){return ze(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return gt.createThreadAssistantStream(t,this._client.beta.threads,n)}}(function(e){e.Runs=ul,e.RunsPage=id,e.Messages=ll,e.MessagesPage=rd})(cl||(cl={}));const rk=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};let fl=class extends z{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,ha,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(t,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=i.response.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await pi(l);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}};class ha extends Et{}(function(e){e.VectorStoreFilesPage=ha})(fl||(fl={}));class dl extends z{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r={},s){return ze(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,ha,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await pi(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),l=this._client,a=n.values(),u=[...r];async function h(f){for(let p of f){const v=await l.files.create({file:p,purpose:"assistants"},s);u.push(v.id)}}const c=Array(o).fill(a).map(h);return await rk(c),await this.createAndPoll(t,{file_ids:u})}}dl||(dl={});class hl extends z{constructor(){super(...arguments),this.files=new fl(this._client),this.fileBatches=new dl(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/vector_stores",od,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class od extends Et{}(function(e){e.VectorStoresPage=od,e.Files=fl,e.VectorStoreFilesPage=ha,e.FileBatches=dl})(hl||(hl={}));class pl extends z{constructor(){super(...arguments),this.vectorStores=new hl(this._client),this.chat=new il(this._client),this.assistants=new tl(this._client),this.threads=new cl(this._client)}}(function(e){e.VectorStores=hl,e.VectorStoresPage=od,e.Chat=il,e.Assistants=tl,e.AssistantsPage=td,e.Threads=cl})(pl||(pl={}));let ml=class extends z{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}};ml||(ml={});let yl=class extends z{create(t,n){return this._client.post("/embeddings",{body:t,...n})}};yl||(yl={});class gl extends z{create(t,n){return this._client.post("/files",Wr({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/files",ld,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(t);for(;!o.status||!s.has(o.status);)if(await pi(n),o=await this.retrieve(t),Date.now()-i>r)throw new Gf({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return o}}class ld extends Zf{}(function(e){e.FileObjectsPage=ld})(gl||(gl={}));class wl extends z{list(t,n={},r){return ze(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,ad,{query:n,...r})}}class ad extends Et{}(function(e){e.FineTuningJobCheckpointsPage=ad})(wl||(wl={}));class vl extends z{constructor(){super(...arguments),this.checkpoints=new wl(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return ze(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",ud,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return ze(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,cd,{query:n,...r})}}class ud extends Et{}class cd extends Et{}(function(e){e.FineTuningJobsPage=ud,e.FineTuningJobEventsPage=cd,e.Checkpoints=wl,e.FineTuningJobCheckpointsPage=ad})(vl||(vl={}));class Sl extends z{constructor(){super(...arguments),this.jobs=new vl(this._client)}}(function(e){e.Jobs=vl,e.FineTuningJobsPage=ud,e.FineTuningJobEventsPage=cd})(Sl||(Sl={}));class _l extends z{createVariation(t,n){return this._client.post("/images/variations",Wr({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Wr({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}_l||(_l={});let kl=class extends z{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",fd,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}};class fd extends Zf{}(function(e){e.ModelsPage=fd})(kl||(kl={}));class El extends z{create(t,n){return this._client.post("/moderations",{body:t,...n})}}El||(El={});class Cl extends z{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,Wr({body:n,...r}))}}Cl||(Cl={});class bl extends z{constructor(){super(...arguments),this.parts=new Cl(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}(function(e){e.Parts=Cl})(bl||(bl={}));var N0;class oe extends k_{constructor({baseURL:t=Wi("OPENAI_BASE_URL"),apiKey:n=Wi("OPENAI_API_KEY"),organization:r=Wi("OPENAI_ORG_ID")??null,project:s=Wi("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new D("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&T_())throw new D(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new ml(this),this.chat=new Jo(this),this.embeddings=new yl(this),this.files=new gl(this),this.images=new _l(this),this.audio=new Zo(this),this.moderations=new El(this),this.models=new kl(this),this.fineTuning=new Sl(this),this.beta=new pl(this),this.batches=new el(this),this.uploads=new bl(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return V_(t,{arrayFormat:"brackets"})}}N0=oe;oe.OpenAI=N0;oe.DEFAULT_TIMEOUT=6e5;oe.OpenAIError=D;oe.APIError=Ke;oe.APIConnectionError=da;oe.APIConnectionTimeoutError=Gf;oe.APIUserAbortError=yt;oe.NotFoundError=Yg;oe.ConflictError=Gg;oe.RateLimitError=e0;oe.BadRequestError=Qg;oe.AuthenticationError=Jg;oe.InternalServerError=t0;oe.PermissionDeniedError=Xg;oe.UnprocessableEntityError=Zg;oe.toFile=Fg;oe.fileFromPath=Lg;(function(e){e.Page=Zf,e.CursorPage=Et,e.Completions=ml,e.Chat=Jo,e.Embeddings=yl,e.Files=gl,e.FileObjectsPage=ld,e.Images=_l,e.Audio=Zo,e.Moderations=El,e.Models=kl,e.ModelsPage=fd,e.FineTuning=Sl,e.Beta=pl,e.Batches=el,e.BatchesPage=ed,e.Uploads=bl})(oe||(oe={}));const nr="0.7.0";let sp=!1,Ms,O0,I0,Nc,R0,T0,$0,L0,M0;function sk(e,t={auto:!1}){if(sp)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if(Ms)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${Ms}'\``);sp=t.auto,Ms=e.kind,O0=e.fetch,I0=e.FormData,Nc=e.File,R0=e.ReadableStream,T0=e.getMultipartRequestOptions,$0=e.getDefaultAgent,L0=e.fileFromPath,M0=e.isFsReadStream}class ik{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function ok({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new ik(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:o=>!1}}Ms||sk(ok(),{auto:!0});class Sr{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;const s=new lk;async function*i(){if(!t.body)throw n.abort(),new St("Attempted to iterate over a response with no body");const l=new Wn,a=ip(t.body);for await(const u of a)for(const h of l.decode(u)){const c=s.decode(h);c&&(yield c)}for(const u of l.flush()){const h=s.decode(u);h&&(yield h)}}async function*o(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const a of i())if(!l){if(a.data.startsWith("[DONE]")){l=!0;continue}if(a.event===null||a.event==="error"){let u;try{u=JSON.parse(a.data)}catch(h){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),h}if(u&&u.error)throw new Ne(u.error.status_code,u.error,u.error.message,void 0);yield u}}l=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{l||n.abort()}}return new Sr(o,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new Wn,l=ip(t);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Sr(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new Sr(()=>s(t),this.controller),new Sr(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new R0({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}class lk{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=ak(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}class Wn{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Wn.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(Wn.NEWLINE_REGEXP);return s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new St(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new St(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new St("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}Wn.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Wn.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function ak(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function ip(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const B0=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",D0=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&dd(e),dd=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",uk=e=>D0(e)||B0(e)||M0(e);async function j0(e,t,n){var s;if(e=await e,n??(n=D0(e)?{lastModified:e.lastModified,type:e.type}:{}),B0(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Nc([i],t,n)}const r=await ck(e);if(t||(t=dk(e)??"unknown_file"),!n.type){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Nc(r,t,n)}async function ck(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(dd(e))t.push(await e.arrayBuffer());else if(hk(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${fk(e)}`);return t}function fk(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function dk(e){var t;return cu(e.name)||cu(e.filename)||((t=cu(e.path))==null?void 0:t.split(/[\\/]/).pop())}const cu=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},hk=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",op=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",F0=async e=>{const t=await pk(e.body);return T0(t,e)},pk=async e=>{const t=new I0;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Oc(t,n,r))),t},Oc=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(uk(n)){const r=await j0(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Oc(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Oc(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Tr={};async function U0(e){const{response:t}=e;if(e.options.stream)return $r("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Sr.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await t.json();return $r("response",t.status,t.url,t.headers,i),i}const s=await t.text();return $r("response",t.status,t.url,t.headers,s),s}class pa extends Promise{constructor(t,n=U0){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new pa(this.responsePromise,async n=>t(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class mk{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e4,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=fu("maxRetries",n),this.timeout=fu("timeout",r),this.httpAgent=s,this.fetch=i??O0}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Sk(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${xk()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&dd(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t){var v;const{method:n,path:r,query:s,headers:i={}}=t,o=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:op(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(o),a=this.buildURL(r,s);"timeout"in t&&fu("timeout",t.timeout);const u=t.timeout??this.timeout,h=t.httpAgent??this.httpAgent??$0(a),c=u+1e3;typeof((v=h==null?void 0:h.options)==null?void 0:v.timeout)=="number"&&c>(h.options.timeout??0)&&(h.options.timeout=c),this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const f=this.buildHeaders({options:t,headers:i,contentLength:l});return{req:{method:n,...o&&{body:o},headers:f,...h&&{agent:h},signal:t.signal??null},url:a,timeout:u}}buildHeaders({options:t,headers:n,contentLength:r}){const s={};r&&(s["content-length"]=r);const i=this.defaultHeaders(t);return fp(s,i),fp(s,n),op(t.body)&&Ms!=="node"&&delete s["content-type"],this.validateHeaders(s,n),s}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return Ne.generate(t,n,r,s)}request(t,n=null){return new pa(this.makeRequest(t,n))}async makeRequest(t,n){var h,c;const r=await t;n==null&&(n=r.maxRetries??this.maxRetries),await this.prepareOptions(r);const{req:s,url:i,timeout:o}=this.buildRequest(r);if(await this.prepareRequest(s,{url:i,options:r}),$r("request",i,r,s.headers),(h=r.signal)!=null&&h.aborted)throw new Rc;const l=new AbortController,a=await this.fetchWithTimeout(i,s,o,l).catch(Ic);if(a instanceof Error){if((c=r.signal)!=null&&c.aborted)throw new Rc;if(n)return this.retryRequest(r,n);throw a.name==="AbortError"?new z0:new ma({cause:a})}const u=gk(a.headers);if(!a.ok){if(n&&this.shouldRetry(a)){const m=`retrying, ${n} attempts remaining`;return $r(`response (error; ${m})`,a.status,i,u),this.retryRequest(r,n,u)}const f=await a.text().catch(m=>Ic(m).message),p=_k(f),v=p?void 0:f;throw $r(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,a.status,i,u,v),this.makeStatusError(a.status,p,v,u)}return{response:a,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new yk(this,r,t)}buildURL(t,n){const r=Ek(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return bk(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new St(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:s.signal,...o}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await Ck(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${nr}`}}class yk extends pa{constructor(t,n,r){super(n,async s=>new r(t,s.response,await U0(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const gk=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),wk=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":ap(Deno.build.os),"X-Stainless-Arch":lp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":ap(process.platform),"X-Stainless-Arch":lp(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=vk();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vk(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const lp=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",ap=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let up;const Sk=()=>up??(up=wk()),_k=e=>{try{return JSON.parse(e)}catch{return}},kk=new RegExp("^(?:[a-z]+:)?//","i"),Ek=e=>kk.test(e),Ck=e=>new Promise(t=>setTimeout(t,e)),fu=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new St(`${e} must be an integer`);if(t<0)throw new St(`${e} must be a positive integer`);return t},Ic=e=>e instanceof Error?e:new Error(e),cp=e=>{var t,n,r,s;if(typeof process<"u")return((t=Tr==null?void 0:Tr[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function bk(e){if(!e)return!0;for(const t in e)return!1;return!0}function Ak(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fp(e,t){for(const n in t){if(!Ak(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}function $r(e,...t){typeof process<"u"&&(Tr==null?void 0:Tr.DEBUG)==="true"&&console.log(`Groq:DEBUG:${e}`,...t)}const xk=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Pk=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class St extends Error{}class Ne extends St{constructor(t,n,r,s){super(`${Ne.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.error=n}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t)return new ma({cause:Ic(n)});const i=n;return t===400?new K0(t,i,r,s):t===401?new W0(t,i,r,s):t===403?new V0(t,i,r,s):t===404?new q0(t,i,r,s):t===409?new H0(t,i,r,s):t===422?new Q0(t,i,r,s):t===429?new J0(t,i,r,s):t>=500?new X0(t,i,r,s):new Ne(t,i,r,s)}}class Rc extends Ne{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}}class ma extends Ne{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class z0 extends ma{constructor({message:t}={}){super({message:t??"Request timed out."})}}class K0 extends Ne{constructor(){super(...arguments),this.status=400}}class W0 extends Ne{constructor(){super(...arguments),this.status=401}}class V0 extends Ne{constructor(){super(...arguments),this.status=403}}class q0 extends Ne{constructor(){super(...arguments),this.status=404}}class H0 extends Ne{constructor(){super(...arguments),this.status=409}}class Q0 extends Ne{constructor(){super(...arguments),this.status=422}}class J0 extends Ne{constructor(){super(...arguments),this.status=429}}class X0 extends Ne{}class _n{constructor(t){this._client=t}}class Al extends _n{create(t,n){return this._client.post("/openai/v1/audio/transcriptions",F0({body:t,...n}))}}Al||(Al={});class xl extends _n{create(t,n){return this._client.post("/openai/v1/audio/translations",F0({body:t,...n}))}}xl||(xl={});class Pl extends _n{constructor(){super(...arguments),this.transcriptions=new Al(this._client),this.translations=new xl(this._client)}}(function(e){e.Transcriptions=Al,e.Translations=xl})(Pl||(Pl={}));let Nl=class extends _n{create(t,n){return this._client.post("/openai/v1/chat/completions",{body:t,...n,stream:t.stream??!1})}};Nl||(Nl={});class Ol extends _n{constructor(){super(...arguments),this.completions=new Nl(this._client)}}(function(e){e.Completions=Nl})(Ol||(Ol={}));class Il extends _n{}Il||(Il={});class Rl extends _n{create(t,n){return this._client.post("/openai/v1/embeddings",{body:t,...n})}}Rl||(Rl={});class Tl extends _n{retrieve(t,n){return this._client.get(`/openai/v1/models/${t}`,n)}list(t){return this._client.get("/openai/v1/models",t)}delete(t,n){return this._client.delete(`/openai/v1/models/${t}`,n)}}Tl||(Tl={});var Y0;class le extends mk{constructor({baseURL:t=cp("GROQ_BASE_URL"),apiKey:n=cp("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new St("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const s={apiKey:n,...r,baseURL:t||"https://api.groq.com"};if(!s.dangerouslyAllowBrowser&&Pk())throw new St(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:s.baseURL,timeout:s.timeout??6e4,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new Il(this),this.chat=new Ol(this),this.embeddings=new Rl(this),this.audio=new Pl(this),this.models=new Tl(this),this._options=s,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}}Y0=le;le.Groq=Y0;le.DEFAULT_TIMEOUT=6e4;le.GroqError=St;le.APIError=Ne;le.APIConnectionError=ma;le.APIConnectionTimeoutError=z0;le.APIUserAbortError=Rc;le.NotFoundError=q0;le.ConflictError=H0;le.RateLimitError=J0;le.BadRequestError=K0;le.AuthenticationError=W0;le.InternalServerError=X0;le.PermissionDeniedError=V0;le.UnprocessableEntityError=Q0;le.toFile=j0;le.fileFromPath=L0;(function(e){e.Completions=Il,e.Chat=Ol,e.Embeddings=Rl,e.Audio=Pl,e.Models=Tl})(le||(le={}));function G0(){const e=Q.stage.width,t=Q.stage.height,n=`
    - top left corner: ${-e/2}x${-t/2}
    - bottom right corner: ${e/2}x${t/2}
  `,r=Tc(JSON.parse(JSON.stringify(Q.entities))),s=`
`+pc.stringify(r,{});return`
You are an AI assistant that generates javascript code snippets for a game engine using the magicApi to directly manipulate the game world and achieve what the user asked.

Available magicApi methods:
- getAllEntities(): StageEntityProps[]
- findEntityById(id: string): StageEntityProps | undefined
- findEntity(condition: (entity: StageEntityProps) => boolean): StageEntityProps | undefined
- getEntityBehavior<T extends keyof BuiltInBehaviorsPropsDictionary>(entityOrId: StageEntityProps | string, behaviorType: T): BuiltInBehaviorsPropsDictionary[T] | undefined
- addEntity(entityProps: StageEntityProps): void
- removeEntity(entityId: string): void
- updateEntity(entityId: string, updates: Partial<StageEntityProps>): void
- addBehavior(entityId: string, behaviorProps: BuiltInBehaviorBlueprint): void
- removeBehavior(entityId: string, behaviorType: string): void
- updateBehavior(entityId: string, behaviorType: string, updates: Partial<BehaviorProps>): void
- clearWorld(): void
- selectEntities(entityIds: string[]): void
- deselectEntities(entityIds: string[]): void
- clearSelection(): void

Built-in behaviors:
- RenderCircle: { type: "RenderCircle", radius: number }
- ChangeColor: { type: "ChangeColor", color: string }
- SimplifyMesh: { type: "SimplifyMesh", sides: number }
- CustomBehavior: { type: "CustomBehavior", name: string, onTick?: string, [extrakeys: string]: any }
- RenderEmoji: { type: "RenderEmoji", emoji: string, fontSize?: number }

Current state of the world:

Stage bounds: ${n}

Entities in the world: 
${s}

Current selection (entity ids): [${Ce.selectedEntityIds.join(", ")}]

When responding to user requests, write JavaScript code using the magicApi to perform the desired actions. Here are some examples:

Example 1: Add a red circle to the world
\`\`\`js
console.log(' Adding a red circle to the world');
magicApi.addEntity({
  uuid: crypto.randomUUID(),
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderCircle", radius: 10 },
    { type: "ChangeColor", color: "red" }
  ]
});
\`\`\`

Example 2: Select the blue circle and make it bigger and darker
\`\`\`js
const blueCircle = magicApi.findEntity(entity => 
  magicApi.getEntityBehavior(entity, "ChangeColor")?.color === "blue"
);

if (blueCircle) {
  magicApi.selectEntities([blueCircle.uuid]);
  magicApi.updateEntity(blueCircle.uuid, { scale: blueCircle.scale * 2 });
  magicApi.updateBehavior(blueCircle.uuid, "ChangeColor", { color: "darkblue" });
} else {
  console.log(' Blue circle not found');
}
\`\`\`

Example 3: Make the heart pulse
\`\`\`js
console.log(' Adding pulse behavior to the heart');
const heart = magicApi.findEntity(entity => 
  magicApi.getEntityBehavior(entity, "RenderEmoji")?.emoji === ""
);

if (heart) {
  magicApi.addBehavior(heart.uuid, {
    type: "CustomBehavior",
    name: "Pulse",
    pulseSpeed: 1.1,
    pulseAmplitude: 0.1,
    onTick: \`
      const originalScale = 1;
      entity.scale = originalScale + Math.sin(totalTimeSeconds * this.pulseSpeed) * this.pulseAmplitude;
    \`
  });
  console.log(' Pulse behavior added to the heart');
} else {
  console.log(' Heart emoji not found');
}
\`\`\`

Example 4: Create a bouncing ball
\`\`\`js
console.log(' Creating a bouncing ball');
magicApi.addEntity({
  uuid: crypto.randomUUID(),
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderCircle", radius: 20 },
    { type: "ChangeColor", color: "orange" },
    {
      type: "CustomBehavior",
      name: "Bounce",
      bounceHeight: 100,
      bounceSpeed: 0.005,
      onTick: \`
        entity.y = Math.abs(Math.sin(totalTimeSeconds * this.bounceSpeed)) * this.bounceHeight;
      \`
    }
  ]
});
console.log(' Bouncing ball created');
\`\`\`

Example 5: Add a shaking emoji
\`\`\`js
console.log(' Adding a shaking emoji');
magicApi.addEntity({
  uuid: crypto.randomUUID(),
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "RenderEmoji", emoji: "", fontSize: 40 },
    {
      type: "CustomBehavior",
      name: "Shake",
      intensity: 4,
      onTick: \`
        entity.x += (Math.random() - 0.5) * this.intensity;
        entity.y += (Math.random() - 0.5) * this.intensity;
      \`
    }
  ]
});
console.log(' Shaking emoji added');
\`\`\`

Example 6: Create a color-changing polygon
\`\`\`js
console.log(' Creating a color-changing polygon');
magicApi.addEntity({
  uuid: crypto.randomUUID(),
  x: 0,
  y: 0,
  rotation: 0,
  scale: 1,
  behaviors: [
    { type: "SimplifyMesh", sides: 6 },
    {
      type: "CustomBehavior",
      name: "ColorCycle",
      cycleSpeed: 0.1,
      onTick: \`
        const hue = (totalTimeSeconds * this.cycleSpeed) % 360;
        magicApi.updateBehavior(entity.uuid, "ChangeColor", { color: \`hsl(\${hue}, 100%, 50%)\` });
      \`
    }
  ]
});
console.log(' Color-changing polygon created');
\`\`\`

Example 7: Make all entities rotate
\`\`\`js
console.log(' Making all entities rotate');
const entities = magicApi.getAllEntities();
entities.forEach(entity => {
  magicApi.addBehavior(entity.uuid, {
    type: "CustomBehavior",
    name: "Rotate",
    rotationSpeed: 0.01,
    onTick: \`
      entity.rotation += this.rotationSpeed;
    \`
  });
});
console.log(\` Rotation behavior added to \${entities.length} entities\`);
\`\`\`

Example 8: Clear the world and add random emojis
\`\`\`js
console.log(' Clearing the world and adding random emojis');
magicApi.clearWorld();

const emojis = ["", "", "", "", ""];
const numEmojis = 5;

for (let i = 0; i < numEmojis; i++) {
  const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
  magicApi.addEntity({
    uuid: crypto.randomUUID(),
    x: Math.random() * 800 - 400,
    y: Math.random() * 600 - 300,
    rotation: 0,
    scale: 1,
    behaviors: [
      { type: "RenderEmoji", emoji: randomEmoji, fontSize: 40 }
    ]
  });
}
console.log(\` World cleared and \${numEmojis} random emojis added\`);
\`\`\`

Remember to use functional programming concepts and write clean and concise JavaScript code. Always include appropriate console logs with emojis to make debugging easier.
`}function Tc(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(n=>Tc(n));const t={};for(const[n,r]of Object.entries(e))typeof r=="number"?t[n]=Math.round(r):typeof r=="object"?t[n]=Tc(r):t[n]=r;return t}let du=null,hu=null;const Nk=()=>{if(!du){const e=localStorage.getItem("openai_api_key")||prompt("Please enter your OpenAI API key:");if(!e)throw new Error("OpenAI API key is required");localStorage.setItem("openai_api_key",e),du=new oe({apiKey:e,dangerouslyAllowBrowser:!0}),console.log(" OpenAI instance created")}return du},Ok=()=>{if(!hu){const e=localStorage.getItem("groq_api_key")||prompt("Please enter your GROQ API key:");if(!e)throw new Error("GROQ API key is required");localStorage.setItem("groq_api_key",e),hu=new le({apiKey:e,dangerouslyAllowBrowser:!0}),console.log(" GROQ instance created")}return hu},Z0={type:"object",properties:{snippet:{type:"string",description:"The JavaScript code snippet to be executed"}},required:["snippet"]};async function Ik(e){const t=Nk(),n=G0();console.log(" Sending request to OpenAI");const r=await t.chat.completions.create({model:"gpt-4-turbo-preview",messages:[{role:"system",content:n},{role:"user",content:e}],functions:[{name:"generate_snippet",description:"Generate a JavaScript code snippet based on the user's request/",parameters:Z0}],function_call:{name:"generate_snippet"}});console.log(" Received response from OpenAI");const s=r.choices[0].message.function_call;if(s&&s.name==="generate_snippet")return JSON.parse(s.arguments||"{}").snippet||"";throw new Error("Unexpected response format from OpenAI")}async function Rk(e){var o,l;const t=Ok(),n=`${G0()}

Please generate a JavaScript code snippet based on the user's request. Your response should be a JSON object that strictly adheres to the following schema:

${JSON.stringify(Z0,null,2)}

Respond only with the JSON object, without any additional text.`;console.log(" Sending request to GROQ");const r=await t.chat.completions.create({model:"mixtral-8x7b-32768",messages:[{role:"system",content:n},{role:"user",content:e}],response_format:{type:"json_object"}});console.log(" Received response from GROQ");const s=(l=(o=r.choices[0])==null?void 0:o.message)==null?void 0:l.content;if(!s)throw new Error("Unexpected response format from GROQ");return JSON.parse(s).snippet||""}function hd(e,t){return e.behaviors.find(n=>n.type===t)}const pd={getAllEntities:()=>Q.entities,findEntityById:e=>Q.entities.find(t=>t.uuid===e),findEntity:e=>Q.entities.find(e),findEntities:e=>Q.entities.filter(e),getEntityBehavior:(e,t)=>{const n=typeof e=="string"?pd.findEntityById(e):e;if(n)return hd(n,t)},addEntity:e=>{console.log(" Adding entity:",e.uuid),be.addEntity(e)},removeEntity:e=>{console.log(" Removing entity:",e),be.removeEntity(e)},updateEntity:(e,t)=>{console.log(" Updating entity:",e);const n=be.getEntity(e);if(!n)throw new Error("Entity not found");Object.assign(n,t)},addBehavior:(e,t)=>{console.log(" Adding behavior to entity:",e),be.addBehaviorToEntity(e,t)},removeBehavior:(e,t)=>{console.log(" Removing behavior from entity:",e),be.removeBehaviorFromEntity(e,t)},updateBehavior:(e,t,n)=>{console.log(" Updating behavior for entity:",e);const r=be.getEntity(e);if(!r)throw new Error("Entity not found");const s=r.behaviors.findIndex(o=>o.type===t),i=r.behaviors[s];if(i)Object.assign(i,n);else{const o={type:t,...n,uuid:crypto.randomUUID()};r.behaviors.push(o)}},clearWorld:()=>{console.log(" Clearing the world"),be.clearWorld()},selectEntities:e=>{console.log(" Selecting entities:",e),hn.setSelectedEntityIds(e)},deselectEntities:e=>{console.log(" Deselecting entities:",e),hn.removeSelectedEntityIds(e)},clearSelection:()=>{console.log(" Clearing entity selection"),hn.clearSelection()}};function Tk(e){return L.useCallback(async n=>{const r=e==="openai"?await Ik(n):await Rk(n);console.log(" Received code snippet:",r);try{const i=await new Function("magicApi",`
          return (async () => {
            ${r}
          })();
        `)(pd);return console.log(" Snippet executed successfully"),console.log(" Result:",i),i}catch(s){console.error(" Error executing snippet:",s)}},[])}/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ew=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=L.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},a)=>L.createElement("svg",{ref:a,...Lk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ew("lucide",s),...l},[...o.map(([u,h])=>L.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=(e,t)=>{const n=L.forwardRef(({className:r,...s},i)=>L.createElement(Mk,{ref:i,iconNode:t,className:ew(`lucide-${$k(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=tw("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=tw("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);function jk({onSubmit:e,disabled:t,error:n}){const[r,s]=L.useState(""),i=L.useRef(null),o=zk(r,s),l=Fk(i,r);Uk(i,t);const a=c=>{s(c.target.value),o.handleChange()},u=async c=>{c.preventDefault(),!(t||!r.trim())&&(await e(r),o.handleSubmit(r),s(""))},h=c=>{c.key==="Enter"&&!c.shiftKey&&!c.ctrlKey&&(c.preventDefault(),u(c)),o.handleKeyDown(c)};return A.jsx("form",{onSubmit:u,className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 select-none",children:A.jsxs("div",{className:`relative transition-all duration-300 ease-in-out ${l.isExpanded?"w-[32rem]":"w-96"}`,children:[n&&A.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-4 px-4 py-2 bg-red-100 text-red-800 rounded-md flex items-center space-x-2 text-sm shadow-md z-50 w-screen max-w-screen-md",children:A.jsx("pre",{className:"text-xs whitespace-pre-wrap w-full",children:n})}),A.jsx("textarea",{rows:1,ref:i,value:r,onChange:a,onKeyDown:h,placeholder:"Enter prompt...",disabled:t,className:`w-full px-4 py-2 rounded-3xl border border-gray-300 shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none transition-all duration-300 ease-in-out ${l.isExpanded?"h-auto min-h-[6rem] text-xs":"h-10 min-h-[1rem] overflow-hidden"} ${t?"bg-gray-100 cursor-not-allowed":""}`}),A.jsx("button",{type:"submit",className:"absolute right-3 top-3",disabled:t,children:t?A.jsx(Bk,{className:"h-5 w-5 text-gray-500 animate-spin"}):A.jsx(Dk,{className:"h-5 w-5 text-gray-500"})})]})})}function Fk(e,t){const[n,r]=L.useState(!1);return L.useEffect(()=>{const s=t.length>30||t.includes(`
`);if(r(s),e.current){e.current.style.height="auto";const i=s?`${Math.max(e.current.scrollHeight,96)}px`:"40px";e.current.style.height=i}},[t]),{isExpanded:n}}function Uk(e,t){L.useEffect(()=>{!t&&e.current&&(e.current.focus(),console.log(" Textarea focused after submission"))},[t,e])}function zk(e,t){const[n,r]=L.useState([]),[s,i]=L.useState(-1),[o,l]=L.useState(""),a=f=>{if(n.length===0)return;let p=s;f==="up"&&s<n.length-1?p++:f==="down"&&s>-1&&p--,i(p),p===-1?t(o):(s===-1&&l(e),t(n[n.length-1-p]))};return{handleKeyDown:f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),a(f.key==="ArrowUp"?"up":"down"))},handleSubmit:f=>{f.trim()!==""&&(r(p=>[...p,f]),console.log(" Added to history:",f)),i(-1),l("")},handleChange:()=>{i(-1)}}}function Kk(){const{aiBusy:e}=Ht(Ce),[t,n]=L.useState(null),r=Wk(),s=async i=>{console.log(" Prompt submitted:",i),n(null);try{hn.setAIBusy(!0),await r(i)}catch(o){console.error(" Error processing AI snippet:",o),n(String(o))}finally{hn.setAIBusy(!1)}};return A.jsx(jk,{onSubmit:s,disabled:e,error:t})}function Wk(){const t=new URL(window.location.href).searchParams.get("ai");return Tk(t)}const dp={RenderCircle:{render(){return A.jsx("circle",{r:this.radius})}},ChangeColor:{render(e,t){const n=this.color||"white";return A.jsx("g",{fill:n,children:t})}},SimplifyMesh:{render(e){var i,o,l;const t=((i=e.behaviors.find(a=>a.type==="SimplifyMesh"))==null?void 0:i.sides)||6,n=((o=e.behaviors.find(a=>a.type==="RenderCircle"))==null?void 0:o.radius)||10,r=((l=e.behaviors.find(a=>a.type==="ChangeColor"))==null?void 0:l.color)||void 0,s=Vk(n,t);return A.jsx("polygon",{points:s,fill:r})}},CustomBehavior:{onTick(e,t,n){if(typeof this.onTick=="function")return this.onTick.call(this,e,t,n);typeof this.onTick=="string"&&new Function("entity","deltaTimeSeconds","totalTimeSeconds",this.onTick).call(this,e,t,n)},render(e,t){if(typeof this.render=="function")return this.render.call(this,e,t);if(typeof this.render=="string"){const n=`return (${this.render})`;return new Function("entity","content",n).call(this,e,t)}return t}},RenderEmoji:{render(e,t){const n=this.emoji,r=~~(this.fontSize||40);return A.jsxs(A.Fragment,{children:[t,A.jsx("text",{fontSize:r,textAnchor:"middle",dominantBaseline:"central",style:{userSelect:"none"},y:"-2",children:n})]})}}};function Vk(e,t){let n="";for(let r=0;r<t;r++){const s=r/t*2*Math.PI,i=e*Math.cos(s),o=e*Math.sin(s);n+=`${i},${o} `}return n.trim()}function hp(e){const t=e.type,n=dp[t];return n||(typeof e.onTick=="string"||typeof e.render=="string"?dp.CustomBehavior:null)}const nw={onTick:(e,t,n)=>{e.behaviors.forEach(r=>{var i;const s=hp(r);(i=s==null?void 0:s.onTick)==null||i.apply(r,[e,t,n])})},render:e=>{let t=null;return e.behaviors.forEach(n=>{var s;const r=hp(n);t=(s=r==null?void 0:r.render)==null?void 0:s.apply(n,[e,t])}),t}},qk=({entity:e,onClick:t})=>{const n=s=>{t(e,s)};for(const s of["x","y","rotation","scale"]){const i=e[s];isNaN(i)&&(console.warn(`Entity ${e.uuid} has a non-numeric value for ${s}: ${i}`),e[s]=1)}const r=`translate(${e.x}, ${e.y}) rotate(${e.rotation}) scale(${e.scale})`;return A.jsx("g",{onClick:n,transform:r,children:nw.render(e)})},Hk=({entity:e})=>{const t=hd(e,"RenderCircle"),n=((t==null?void 0:t.radius)??30)*2*e.scale+4;return A.jsx("rect",{x:e.x-n/2,y:e.y-n/2,width:n,height:n,fill:"none",stroke:"blue",strokeWidth:"1",strokeDasharray:"2, 2"})},Qk=()=>A.jsxs(A.Fragment,{children:[A.jsx(Jk,{}),A.jsx(Xk,{gap:20})]}),Jk=()=>{const{stage:e}=Ht(Q);return A.jsx("rect",{x:-e.width/2,y:-e.height/2,width:e.width,height:e.height,fill:"none",stroke:"gray",strokeWidth:"1",strokeDasharray:"18,4,18,0"})},Xk=({gap:e})=>{const{stage:t}=Ht(Q);return A.jsx("rect",{x:-t.width/2-e,y:-t.height/2-e,width:t.width+e*2,height:t.height+e*2,fill:"none",stroke:"gray",strokeWidth:"1",strokeDasharray:"8",opacity:.2})};function Yk({cellSize:e=40}){return A.jsxs(A.Fragment,{children:[A.jsx("defs",{children:A.jsxs("pattern",{id:"plusPattern",x:"0",y:"0",width:e,height:e,patternUnits:"userSpaceOnUse",children:[A.jsx("rect",{width:e,height:e,fill:"#f8f8f8"}),A.jsx("path",{d:`M${e/2} ${e*.375} V${e*.625} M${e*.375} ${e/2} H${e*.625}`,stroke:"#d8d8d8",strokeWidth:"1"})]})}),A.jsx("rect",{x:"-100%",y:"-100%",width:"200%",height:"200%",fill:"url(#plusPattern)"})]})}const Gk=e=>{const t=L.useRef(),n=L.useRef(),r=L.useRef(),s=L.useCallback(i=>{if(r.current||(r.current=i),n.current!==void 0){const o=(i-n.current)/1e3,l=(i-r.current)/1e3;e(o,l)}n.current=i,t.current=requestAnimationFrame(s)},[e]);L.useEffect(()=>(console.log(" Starting animation frame loop"),t.current=requestAnimationFrame(s),()=>{console.log(" Stopping animation frame loop"),t.current&&cancelAnimationFrame(t.current)}),[s])};function Zk(){return Gk((e,t)=>{for(const n of Q.entities)nw.onTick(n,e,t)}),A.jsxs("div",{className:"w-full h-screen relative overflow-hidden",children:[A.jsx(eE,{}),A.jsx(rE,{})]})}const eE=()=>{const{stage:e}=Ht(Q),[t,n]=L.useState("0 0 1000 1000"),r=[.5,.38196601125],s=L.useCallback(()=>{hn.clearSelection()},[]);return L.useEffect(()=>{const i=()=>{const{innerWidth:o,innerHeight:l}=window,a=Math.min(o/e.width,l/e.height)*.8,u=o/a,h=l/a,c=-u*r[0]+e.width*(r[0]-.5),f=-h*r[1]+e.height*(r[1]-.5);n(`${c} ${f} ${u} ${h}`),console.log(" Updated viewBox:",`${c} ${f} ${u} ${h}`)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[e.width,e.height,r]),A.jsxs("svg",{className:"w-full h-full",viewBox:t,onClick:s,children:[A.jsx(Yk,{}),A.jsx(Qk,{}),A.jsx(tE,{}),A.jsx(nE,{})]})},tE=()=>{const{entities:e}=Ht(Q),t=L.useCallback((n,r)=>{r.stopPropagation(),hn.toggleEntitySelection(n.uuid,r.ctrlKey),console.log(" Entity clicked:",n.uuid)},[]);return A.jsx("g",{fill:"#ddd",stroke:"black",strokeWidth:1,children:e.map(n=>A.jsx("g",{className:"with-shadow",children:A.jsx(qk,{entity:n,onClick:t})},n.uuid))})},nE=()=>{const e=Ng();return A.jsx(A.Fragment,{children:e.map(t=>A.jsx(Hk,{entity:t},t.uuid))})},rE=()=>{const e=Ng();return A.jsxs(A.Fragment,{children:[A.jsx(i_,{}),A.jsx("div",{className:"absolute top-4 right-4 max-w-md max-h-[calc(100vh-2rem)] overflow-y-auto",children:e.map(t=>A.jsx(Jv,{entity:t},`selection-${t.uuid}`))}),A.jsx(Kk,{})]})},pp=["","","","","","","","","",""],mp=["dodgerblue","hotpink","gold","lime","purple","teal","tomato"];function*sE(e){for(let t=0;t<e;t++)yield t}function iE(){be.clearWorld();const{width:e,height:t}=Q.stage,n=10;function r(){const s=be.addEntity({x:(Math.random()-.5)*e,y:(Math.random()-.5)*t,rotation:Math.random()*360,scale:1,behaviors:[]});return be.addBehaviorToEntity(s.uuid,{type:"RenderCircle",radius:10+Math.random()*40}),s}for(const s of sE(n)){const i=r();if(i.name="circle",s%3===0&&(be.addBehaviorToEntity(i.uuid,{type:"SimplifyMesh",sides:6}),i.name="simplified "+i.name),s%2===0){const o=hd(i,"RenderCircle"),a=1.33*((o==null?void 0:o.radius)??20),u=pp[Math.floor(Math.random()*pp.length)];be.addBehaviorToEntity(i.uuid,{type:"RenderEmoji",emoji:u,fontSize:a}),i.name=i.name+" with "+u}else{const o=mp[Math.floor(Math.random()*mp.length)];be.addBehaviorToEntity(i.uuid,{type:"ChangeColor",color:o}),i.name=o+" "+i.name}}console.log(" Sample world populated with entities and emojis")}const Ve={addBehaviorToSelectedEntity:e=>{const t=Ce.selectedEntityIds[0];t!==null?(be.addBehaviorToEntity(t,e),console.log(` Added behavior ${e.type} to entity ${t}`)):console.warn(" No entity selected. Please select an entity first.")},makePulse:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Pulse",onTick:`
        entity.scale = 1 + Math.sin(Date.now() * 0.005) * 0.5;
      `}),console.log(" Added pulse animation to selected entity")},makeSpin:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Spin",onTick:`
        entity.rotation += 4 * deltaTime;
      `}),console.log(" Added spin animation to selected entity")},makeOrbit:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Orbit",onTick:`
        const radius = 100;
        const speed = 0.001;
        entity.x = Math.cos(Date.now() * speed) * radius;
        entity.y = Math.sin(Date.now() * speed) * radius;
      `}),console.log(" Added orbit animation to selected entity")},makeBounce:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Bounce",onTick:`
        entity.y = Math.abs(Math.sin(Date.now() * 0.005)) * 100;
      `}),console.log(" Added bounce animation to selected entity")},makeWiggle:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Wiggle",onTick:`
        entity.rotation = Math.sin(Date.now() * 0.01) * 15;
      `}),console.log(" Added wiggle animation to selected entity")},makeFade:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Fade",onTick:`
        entity.opacity = (Math.sin(Date.now() * 0.003) + 1) / 2;
      `}),console.log(" Added fade animation to selected entity")},makeZigZag:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"ZigZag",onTick:`
        entity.x += Math.sin(Date.now() * 0.01) * 2;
        entity.y += 0.5;
        if (entity.y > 300) entity.y = -300;
      `}),console.log(" Added zig-zag animation to selected entity")},makeGrow:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Grow",onTick:`
        entity.scale = Math.min(entity.scale * 1.01, 3);
      `}),console.log(" Added grow animation to selected entity")},makeShrink:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Shrink",onTick:`
        entity.scale = Math.max(entity.scale * 0.99, 0.1);
      `}),console.log(" Added shrink animation to selected entity")},makeShake:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"Shake",onTick:`
        entity.x += (Math.random() - 0.5) * 4;
        entity.y += (Math.random() - 0.5) * 4;
      `}),console.log(" Added shake animation to selected entity")},makeColorCycle:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"ColorCycle",onTick:"\n        const hue = (Date.now() * 0.1) % 360;\n        entity.color = `hsl(${hue}, 100%, 50%)`;\n      "}),console.log(" Added color cycle animation to selected entity")},makePingPong:()=>{Ve.addBehaviorToSelectedEntity({type:"CustomBehavior",name:"PingPong",onTick:`
        entity.x = Math.sin(Date.now() * 0.003) * 200;
      `}),console.log(" Added ping-pong animation to selected entity")}};Object.assign(globalThis,{God:Ve});function oE(){return L.useEffect(()=>(window.location.search.includes("sample")&&iE(),()=>{be.clearWorld(),hn.clearSelection()}),[]),A.jsx(Zk,{})}async function lE(){console.log(" Debug initialized"),Object.assign(window,{worldDataState:Q,worldDataStateActions:be,magicApi:pd})}Py(document.getElementById("root")).render(A.jsx(L.StrictMode,{children:A.jsx(oE,{})}));requestAnimationFrame(lE);
